import{_ as U,k as W,u as X,j as Y,r as o,o as Z,a as s,c as i,f as r,t as I,e as t,h as D,w as u,g as f,b as d,F as w,d as b,i as B}from"./index-e48ba634.js";import{b as T,a as x,A as y,S as k}from"./productsSwiper-6e79cbb8.js";import{N as M}from"./navigation-c4bae44c.js";/* empty css                   */import{_ as $}from"./loginFormImg-996307c8.js";const ee={class:"mx-auto mt-16 max-w-7xl px-4 sm:px-6 lg:px-8"},ae={key:0,class:"text-center py-16 animate-pulse"},le={class:"text-gray-600 text-lg font-medium"},se={key:1,class:"text-center py-16 text-red-600"},te={class:"text-lg font-semibold"},re={key:2},ne={class:"text-center mb-12"},oe={class:"text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight animate-fade-in"},ie={key:0,class:"my-10"},ue={class:"w-full h-58 overflow-hidden rounded-lg shadow-md relative"},de=["src","alt","aria-label"],ce={class:"font-sans mt-4 mb-1 text-black font-bold text-sm sm:text-base md:text-lg"},me={class:"flex w-full max-h-[50vh] items-center justify-center bg-gradient-to-br from-gray-50 to-gray-300 rounded-xl shadow-lg overflow-hidden"},ve=["src","alt","aria-label"],_e={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10"},fe={class:"rounded-xl shadow-lg overflow-hidden"},he={class:"flex w-full max-h-64 items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl overflow-hidden"},pe=["src","alt","aria-label"],ge={class:"rounded-xl shadow-lg overflow-hidden"},we={class:"flex w-full h-64 items-center justify-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl overflow-hidden"},be=["src","alt","aria-label"],xe={key:3,class:"mt-8 hidden py-2 rounded-sm px-2 bg-[#1F3A932B] mx-auto max-w-7xl"},ye=["onClick"],ke=["src","alt","aria-label"],$e={class:"p-3 w-full text-center rounded-xl"},Se={class:"font-bold text-sm text-black"},Ie={class:"mt-16 space-y-16"},Ve={__name:"hasmarket",setup(Pe){W();const A=X(),{t:h,locale:p}=Y(),c=o({}),R=o(""),j=o([]),V=o([]),P=o([]),N=o([]),F=o([]),O=o({title:"Exclusive Offers",products:[]}),E=o({title:"Best Sellers",products:[]}),C=o({title:"New Arrivals",products:[]}),m=o(!1),v=o(null),S=o(localStorage.getItem("defaultStoreId")||""),L=a=>p.value==="ar"?a.name_ar||a.name_en:a.name_en||a.name_ar,z=(a,_)=>(a==null?void 0:a.filter(e=>e.name===_))||[],q=async()=>{m.value=!0,v.value=null;try{const a=await B.get(`/api/home/store-details/${S.value}`);c.value=a.data.data.store||{}}catch(a){console.error("Error fetching store details:",a),v.value=h("category.errorLoading")||"Failed to load store details."}finally{m.value=!1}},G=()=>{c.value&&(R.value=p.value==="ar"?c.value.name_ar||c.value.name_en:c.value.name_en||c.value.name_ar,j.value=z(c.value.media,"slider_images_one"),V.value=z(c.value.media,"slider_images_two"),P.value=z(c.value.media,"slider_images_three"),N.value=(c.value.categories||[]).map(a=>({id:a.id,name_ar:a.name_ar||a.name_en,name_en:a.name_en||a.name_ar,media:a.media||[{url:$,name:"default"}]})),F.value=(c.value.markets||[]).map(a=>({id:a.id,title:p.value==="ar"?a.name_ar||a.name_en:a.name_en||a.name_ar,media:(a.media||[]).map(_=>({url:_.url||$,name:_.name||"default"}))})))},H=async()=>{m.value=!0,v.value=null;try{const _=(await B.get(`/api/home/best-sellers/${S.value}`)).data.data.data||[];E.value={title:h("category.bestsellers")||"Best Sellers",products:_.map(e=>{var l,n;return{id:e.id,name:p.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,price:parseFloat(e.base_price||0).toFixed(2),img:((n=(l=e.media)==null?void 0:l.find(g=>g.name==="product_main_image"))==null?void 0:n.url)||$}})}}catch(a){console.error("Error fetching best sellers:",a),v.value=h("category.errorLoading")||"Failed to load best sellers."}finally{m.value=!1}},J=async()=>{m.value=!0,v.value=null;try{const _=(await B.get(`/api/home/new-arrivals/${S.value}`)).data.data.data||[];C.value={title:h("category.newlyarrived")||"New Arrivals",products:_.map(e=>{var l,n;return{id:e.id,name:p.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,price:parseFloat(e.base_price||0).toFixed(2),img:((n=(l=e.media)==null?void 0:l.find(g=>g.name==="product_main_image"))==null?void 0:n.url)||$}})}}catch(a){console.error("Error fetching new arrivals:",a),v.value=h("category.errorLoading")||"Failed to load new arrivals."}finally{m.value=!1}},K=async()=>{m.value=!0,v.value=null;try{const _=(await B.get(`/api/home/exclusive-offers/${S.value}`)).data.data.data||[];O.value={title:h("category.exclusive")||"Exclusive Offers",products:_.map(e=>{var l,n;return{id:e.id,name:p.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,price:parseFloat(e.base_price||0).toFixed(2),img:((n=(l=e.media)==null?void 0:l.find(g=>g.name==="product_main_image"))==null?void 0:n.url)||$}})}}catch(a){console.error("Error fetching exclusive offers:",a),v.value=h("category.errorLoading")||"Failed to load exclusive offers."}finally{m.value=!1}},Q=async()=>{m.value=!0,await q(),v.value||(G(),await Promise.all([H(),J(),K()])),m.value=!1};return Z(()=>{S.value&&Q()}),(a,_)=>(s(),i("div",ee,[m.value?(s(),i("div",ae,[r("p",le,I(t(h)("category.loading")),1)])):v.value?(s(),i("div",se,[r("p",te,I(v.value),1)])):(s(),i("div",re,[r("div",ne,[r("h1",oe,I(R.value),1)]),F.value.length?(s(),i("div",ie,[D(t(x),{modules:[t(y)],"space-between":20,loop:F.value.length>3,autoplay:{delay:3e3,disableOnInteraction:!1},speed:1e3,"grab-cursor":!0,navigation:!1,class:"mt-6 pb-12",breakpoints:{320:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:12},768:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:3,spaceBetween:20}}},{default:u(()=>[(s(!0),i(w,null,b(F.value,e=>(s(),d(t(k),{key:e.id,class:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:-translate-y-2",onClick:l=>t(A).push(`/markets/${e.id}`)},{default:u(()=>[r("div",ue,[D(t(x),{modules:[t(y)],"slides-per-view":1,"space-between":0,loop:e.media.length>1,autoplay:{delay:2e3,disableOnInteraction:!1},speed:800,class:"w-full h-full"},{default:u(()=>[(s(!0),i(w,null,b(e.media,(l,n)=>(s(),d(t(k),{key:n,class:"w-full h-full"},{default:u(()=>[r("img",{src:l.url,alt:`${e.title} image ${n+1}`,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy","aria-label":`${e.title} image ${n+1}`},null,8,de)]),_:2},1024))),128))]),_:2},1032,["modules","loop"])]),r("h3",ce,I(e.title),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["modules","loop"])])):f("",!0),j.value.length?(s(),d(t(x),{key:1,modules:[t(y),t(M)],breakpoints:{320:{slidesPerView:1},640:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:1}},"space-between":10,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:!1,class:"w-full rounded-2xl shadow-xl overflow-hidden mb-10"},{default:u(()=>[(s(!0),i(w,null,b(j.value,(e,l)=>(s(),d(t(k),{key:l},{default:u(()=>[r("div",me,[r("img",{src:e.url,alt:`Slider Image ${l+1}`,class:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy","aria-label":`Promotional banner ${l+1}`},null,8,ve)])]),_:2},1024))),128))]),_:1},8,["modules"])):f("",!0),V.value.length||P.value.length?(s(),i("div",_e,[r("div",fe,[V.value.length?(s(),d(t(x),{key:0,modules:[t(y)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:u(()=>[(s(!0),i(w,null,b(V.value,(e,l)=>(s(),d(t(k),{key:"two-"+l},{default:u(()=>[r("div",he,[r("img",{src:e.url,alt:`Slider Two Image ${l+1}`,class:"w-full h-64 object-cover rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy","aria-label":`Secondary banner ${l+1}`},null,8,pe)])]),_:2},1024))),128))]),_:1},8,["modules"])):f("",!0)]),r("div",ge,[P.value.length?(s(),d(t(x),{key:0,modules:[t(y)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:u(()=>[(s(!0),i(w,null,b(P.value,(e,l)=>(s(),d(t(k),{key:"three-"+l},{default:u(()=>[r("div",we,[r("img",{src:e.url,alt:`Slider Three Image ${l+1}`,class:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy","aria-label":`Tertiary banner ${l+1}`},null,8,be)])]),_:2},1024))),128))]),_:1},8,["modules"])):f("",!0)])])):f("",!0),N.value.length?(s(),i("div",xe,[D(t(x),{modules:[t(M),t(y)],"slides-per-view":8,"space-between":10,navigation:!1,autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{clickable:!0},class:"w-full",breakpoints:{320:{slidesPerView:2},640:{slidesPerView:2},768:{slidesPerView:5},1024:{slidesPerView:7}}},{default:u(()=>[(s(!0),i(w,null,b(N.value,e=>(s(),d(t(k),{key:e.id},{default:u(()=>{var l,n;return[r("div",{onClick:g=>t(A).push(`/categories/${e.id}`),class:"flex flex-col items-center justify-center rounded-xl h-full w-full cursor-pointer"},[r("img",{src:((n=(l=e.media)==null?void 0:l[0])==null?void 0:n.url)||t($),alt:`${L(e)} image`,class:"w-full h-full max-h-36 object-cover rounded-xl",loading:"lazy","aria-label":`${L(e)} category image`},null,8,ke),r("div",$e,[r("span",Se,I(L(e).slice(0,20)),1)])],8,ye)]}),_:2},1024))),128))]),_:1},8,["modules"])])):f("",!0),r("section",Ie,[O.value.products.length?(s(),d(T,{key:0,products:O.value,class:"animate-slide-up"},null,8,["products"])):f("",!0),E.value.products.length?(s(),d(T,{key:1,products:E.value,class:"animate-slide-up"},null,8,["products"])):f("",!0),C.value.products.length?(s(),d(T,{key:2,products:C.value,class:"animate-slide-up"},null,8,["products"])):f("",!0)])]))]))}},Ee=U(Ve,[["__scopeId","data-v-924246a7"]]);export{Ee as default};
