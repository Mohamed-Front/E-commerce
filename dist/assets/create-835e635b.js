import{_ as $,u as I,J as S,j,r as x,l as h,q as f,S as D,a as u,c as m,z as L,f as e,t as d,e as l,R as g,h as n,F as V,d as N,w as R,M as q,b as E,g as A,i as M}from"./index-e48ba634.js";const z=["dir"],J={class:"text-3xl font-bold text-center mb-8 text-gray-800"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"space-y-2"},H={for:"name_en",class:"block text-sm font-medium text-gray-700"},K={class:"space-y-2"},P={for:"name_ar",class:"block text-sm font-medium text-gray-700"},Q={class:"space-y-4"},W={class:"text-lg font-semibold text-gray-700 border-b pb-2"},X={class:"space-y-2"},Y=["for"],Z={class:"flex space-x-2"},ee={class:"space-y-2"},te=["for"],ae={class:"flex space-x-2"},se={class:"pt-2"},le={class:"pt-4 flex justify-center space-x-4"},re={key:0},oe={key:1,class:"pi pi-spinner pi-spin"},ne={__name:"create",setup(ie){const y=I(),p=S(),{t}=j(),c=x(!1),w=h(()=>localStorage.getItem("appLang")||"en"),k=h(()=>w.value==="ar"),s=x({name_en:"",name_ar:"",values:[{value_en:"",value_ar:""}]}),B=()=>{s.value.values.push({value_en:"",value_ar:""})},T=r=>{s.value.values.length>1?s.value.values.splice(r,1):p.add({severity:"warn",summary:t("warning"),detail:t("attribute.minOneValue"),life:3e3})},C=async()=>{if(!s.value.name_en||!s.value.name_ar){p.add({severity:"error",summary:t("error"),detail:t("validation.requiredFields"),life:3e3});return}for(const r of s.value.values)if(!r.value_en||!r.value_ar){p.add({severity:"error",summary:t("error"),detail:t("attribute.valueRequired"),life:3e3});return}c.value=!0,M.post("/api/attribute",s.value).then(r=>{y.push({name:"attributes"}),p.add({severity:"success",summary:t("success"),detail:t("attribute.createSuccess"),life:3e3})}).catch(r=>{p.add({severity:"error",summary:t("error"),detail:r.response.data.message,life:3e3}),c.value=!1,console.log(r.response.data.message)})};return(r,a)=>{const _=f("InputText"),b=f("Button"),F=f("Toast"),U=D("can");return u(),m(V,null,[L((u(),m("div",{class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg",dir:k.value?"rtl":"ltr"},[e("h1",J,d(l(t)("attribute.createTitle")),1),e("form",{onSubmit:q(C,["prevent"]),class:"space-y-6"},[e("div",O,[e("div",G,[e("label",H,[g(d(l(t)("attribute.nameEn"))+" ",1),a[3]||(a[3]=e("span",{class:"text-red-500"},"*",-1))]),n(_,{id:"name_en",modelValue:s.value.name_en,"onUpdate:modelValue":a[0]||(a[0]=o=>s.value.name_en=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"])]),e("div",K,[e("label",P,[g(d(l(t)("attribute.nameAr"))+" ",1),a[4]||(a[4]=e("span",{class:"text-red-500"},"*",-1))]),n(_,{id:"name_ar",modelValue:s.value.name_ar,"onUpdate:modelValue":a[1]||(a[1]=o=>s.value.name_ar=o),dir:"rtl",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"])])]),e("div",Q,[e("h3",W,d(l(t)("attribute.values")),1),(u(!0),m(V,null,N(s.value.values,(o,i)=>(u(),m("div",{key:i,class:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end"},[e("div",X,[e("label",{for:`value_en_${i}`,class:"block text-sm font-medium text-gray-700"},[g(d(l(t)("attribute.valueEn"))+" ",1),a[5]||(a[5]=e("span",{class:"text-red-500"},"*",-1))],8,Y),e("div",Z,[n(_,{id:`value_en_${i}`,modelValue:o.value_en,"onUpdate:modelValue":v=>o.value_en=v,class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["id","modelValue","onUpdate:modelValue"])])]),e("div",ee,[e("label",{for:`value_ar_${i}`,class:"block text-sm font-medium text-gray-700"},[g(d(l(t)("attribute.valueAr"))+" ",1),a[6]||(a[6]=e("span",{class:"text-red-500"},"*",-1))],8,te),e("div",ae,[n(_,{id:`value_ar_${i}`,modelValue:o.value_ar,"onUpdate:modelValue":v=>o.value_ar=v,dir:"rtl",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["id","modelValue","onUpdate:modelValue"]),i>0?(u(),E(b,{key:0,type:"button",icon:"pi pi-trash",severity:"danger",onClick:v=>T(i),class:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition",title:l(t)("attribute.removeValue")},null,8,["onClick","title"])):A("",!0)])])]))),128)),e("div",se,[n(b,{type:"button",label:l(t)("attribute.addValue"),icon:"pi pi-plus",onClick:B,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition"},null,8,["label"])])]),e("div",le,[n(b,{type:"button",label:l(t)("attribute.cancelButton"),icon:"pi pi-times",onClick:a[2]||(a[2]=o=>l(y).go(-1)),class:"px-6 py-3 mx-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:c.value},null,8,["label","disabled"]),n(b,{type:"submit",label:l(t)("attribute.createButton"),icon:"pi pi-plus",loading:c.value,class:"px-8 mx-2 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:c.value},{default:R(()=>[c.value?(u(),m("i",oe)):(u(),m("span",re,d(l(t)("attribute.createButton")),1))]),_:1},8,["label","loading","disabled"])])],32)],8,z)),[[U,"create attributes"]]),n(F)],64)}}},de=$(ne,[["__scopeId","data-v-c0f8a1d6"]]);export{de as default};
