import{a as X,I as Y,u as ee,r as n,m as te,o as ae,K as j,b as v,c as y,d as o,e as i,w as d,g as e,x as b,j as se,t as r,F as z,f as le,i as F,M as oe,O as c,P as ie,Q as ne,R as re,S as g,p as D,Z as de,T as ue,s as ce,z as pe,U as me,W as ve}from"./index-3dc1732e.js";const be={class:"grid"},ge={class:"col-12"},he={class:"card p-4 shadow-2 border-round"},_e={class:"text-2xl font-bold"},fe={class:"flex gap-2"},ye={class:"p-input-icon-left"},xe={class:"card shadow-1 surface-0"},we={class:"text-center py-4"},Te={class:"text-xl"},ke={class:"flex justify-content-center align-items-center py-4"},Ce={class:"p-paginator p-component p-unselectable-text p-paginator-bottom"},$e={class:"p-paginator-left-content"},Ve={class:"p-paginator-current"},Pe={class:"p-paginator-right-content"},De=["disabled"],Ue=["disabled"],Ne=["onClick"],Re={key:1,class:"p-paginator-dots"},Ee=["disabled"],Se=["disabled"],Ie={class:"flex align-items-center justify-content-center"},ze={__name:"index",setup(Be){const C=X(),$=Y(),{t:l}=ee(),x=n(!0),U=n([]),h=n(!1),N=n(null),R=n(null),Q=n({}),w=n("");n(null);const u=n(1),V=n(0),p=n(10),T=n(0),W=n(""),A=n(""),E=n(""),S=n(""),I=n(0),B=n(0),M=n([]),_=()=>{x.value=!0,F.get("/api/custom-tabs",{params:{page:u.value,limit:p.value,search:w.value||void 0}}).then(s=>{U.value=s.data.data.data,V.value=s.data.data.total,T.value=s.data.data.last_page,W.value=s.data.data.first_page_url,A.value=s.data.data.last_page_url,E.value=s.data.data.next_page_url,S.value=s.data.data.prev_page_url,I.value=s.data.data.from,B.value=s.data.data.to,M.value=s.data.data.links,x.value=!1}).catch(s=>{$.add({severity:"error",summary:l("error"),detail:l("customTabs.loadError"),life:3e3}),x.value=!1,console.error("Error fetching custom tabs:",s)})};te([w,p],()=>{u.value=1,_()});const f=s=>{s>=1&&s<=T.value&&(u.value=s,_())},G=s=>{p.value=s.value,u.value=1,_()},K=s=>{N.value=s,h.value=!0},L=()=>{F.delete(`/api/custom-tabs/${N.value}`).then(()=>{$.add({severity:"success",summary:l("success"),detail:l("customTabs.deleteSuccess"),life:3e3}),_(),h.value=!1}).catch(s=>{$.add({severity:"error",summary:l("error"),detail:l("customTabs.deleteError"),life:3e3}),console.error("Error deleting custom tab:",s)})},O=()=>{R.value.exportCSV()},Z=()=>{C.push({name:"custom_tabs_create"})},q=s=>{C.push({name:"custom_tabs_update",params:{id:s}})},H=s=>{C.push({name:"custom_tabs_show",params:{id:s}})},J=s=>s===1?"success":"info";return ae(()=>{_()}),(s,t)=>{const m=j("can"),P=j("tooltip");return v(),y("div",be,[o("div",ge,[o("div",he,[i(e(ie),{class:"mb-4"},{start:d(()=>[o("h2",_e,r(e(l)("customTabs.managementTitle")),1)]),end:d(()=>[o("div",fe,[o("span",ye,[t[8]||(t[8]=o("i",{class:"pi pi-search"},null,-1)),i(e(oe),{modelValue:w.value,"onUpdate:modelValue":t[0]||(t[0]=a=>w.value=a),placeholder:e(l)("customTabs.search")},null,8,["modelValue","placeholder"])]),b(i(e(c),{label:e(l)("customTabs.export"),icon:"pi pi-upload",class:"p-export",onClick:O},null,8,["label"]),[[m,"list custom tabs"]]),b(i(e(c),{label:e(l)("customTabs.new"),icon:"pi pi-plus",class:"p-button-success",onClick:Z},null,8,["label"]),[[m,"create custom tabs"]])])]),_:1}),i(e(ne)),o("div",xe,[b((v(),se(e(ue),{ref_key:"dt",ref:R,value:U.value,loading:x.value,"data-key":"id",paginator:!1,rows:p.value,filters:Q.value,totalRecords:V.value,"responsive-layout":"scroll",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{empty:d(()=>[o("div",we,[t[9]||(t[9]=o("i",{class:"pi pi-exclamation-circle text-2xl mb-2"},null,-1)),o("p",Te,r(e(l)("customTabs.noData")),1)])]),loading:d(()=>[o("div",ke,[i(e(re),{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:d(()=>[i(e(g),{"selection-mode":"multiple","header-style":"width: 3rem"}),i(e(g),{field:"name_en",header:e(l)("customTabs.nameEn"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:d(a=>[D(r(a.data.name_en),1)]),_:1},8,["header"]),i(e(g),{field:"name_ar",header:e(l)("customTabs.nameAr"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:d(a=>[D(r(a.data.name_ar),1)]),_:1},8,["header"]),i(e(g),{field:"model_type",header:e(l)("customTabs.modelType"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:d(a=>[D(r(a.data.model_type||e(l)("customTabs.noModelType")),1)]),_:1},8,["header"]),i(e(g),{field:"type_description",header:e(l)("customTabs.typeDescription"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:d(a=>[i(e(de),{value:a.data.type_description||e(l)("customTabs.noType"),severity:J(a.data.type)},null,8,["value","severity"])]),_:1},8,["header"]),i(e(g),{header:e(l)("actions"),"header-style":"width:15rem;"},{body:d(a=>[b(i(e(c),{icon:"pi pi-pencil",class:"p-detail",onClick:k=>q(a.data.id)},null,8,["onClick"]),[[m,"edit custom tabs"],[P,e(l)("edit"),void 0,{top:!0}]]),b(i(e(c),{icon:"pi pi-trash mx-2",class:"p-delete",onClick:k=>K(a.data.id)},null,8,["onClick"]),[[m,"delete custom tabs"],[P,e(l)("delete"),void 0,{top:!0}]]),b(i(e(c),{icon:"pi pi-eye mx-2",class:"p-detail",onClick:k=>H(a.data.id)},null,8,["onClick"]),[[m,"view custom tabs"],[P,e(l)("show"),void 0,{top:!0}]])]),_:1},8,["header"])]),_:1},8,["value","loading","rows","filters","totalRecords"])),[[m,"list custom tabs"]]),o("div",Ce,[o("div",$e,[o("span",Ve,r(e(l)("show"))+" "+r(I.value)+" "+r(e(l)("to"))+" "+r(B.value)+" "+r(e(l)("from"))+" "+r(V.value),1)]),o("div",Pe,[o("button",{class:"p-paginator-first p-paginator-element p-link",disabled:u.value===1,onClick:t[1]||(t[1]=a=>f(1))},t[10]||(t[10]=[o("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)]),8,De),o("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!S.value,onClick:t[2]||(t[2]=a=>f(u.value-1))},t[11]||(t[11]=[o("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)]),8,Ue),(v(!0),y(z,null,le(M.value,(a,k)=>(v(),y(z,{key:k},[a.label&&!isNaN(parseInt(a.label))?(v(),y("button",{key:0,class:ce(["p-paginator-page p-paginator-element p-link",{"p-highlight":a.active}]),onClick:Me=>f(parseInt(a.label))},r(a.label),11,Ne)):a.label==="..."?(v(),y("span",Re,"...")):pe("",!0)],64))),128)),o("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!E.value,onClick:t[3]||(t[3]=a=>f(u.value+1))},t[12]||(t[12]=[o("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)]),8,Ee),o("button",{class:"p-paginator-last p-paginator-element p-link",disabled:u.value===T.value,onClick:t[4]||(t[4]=a=>f(T.value))},t[13]||(t[13]=[o("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)]),8,Se),i(e(me),{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=a=>p.value=a),options:[5,10,20,30],onChange:G,class:"ml-2",style:{width:"80px"}},null,8,["modelValue"])])])]),i(e(ve),{visible:h.value,"onUpdate:visible":t[7]||(t[7]=a=>h.value=a),style:{width:"450px"},header:e(l)("customTabs.deleteConfirmTitle"),modal:!0},{footer:d(()=>[i(e(c),{label:e(l)("no"),icon:"pi pi-times",class:"p-button-text",onClick:t[6]||(t[6]=a=>h.value=!1)},null,8,["label"]),i(e(c),{label:e(l)("yes"),icon:"pi pi-check",class:"p-button-text p-button-danger",onClick:L},null,8,["label"])]),default:d(()=>[o("div",Ie,[t[14]||(t[14]=o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem",color:"var(--red-500)"}},null,-1)),o("span",null,r(e(l)("customTabs.deleteConfirmMessage")),1)])]),_:1},8,["visible","header"])])])])}}};export{ze as default};
