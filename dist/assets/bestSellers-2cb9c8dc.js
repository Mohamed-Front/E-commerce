import{_ as d}from"./productsSwiper-fc7f295a.js";import{u as _,r as h,w as f,o as g,c as b,a as S}from"./index-b794012a.js";const x={props:{Stor:{type:Object,required:!0}},setup(l){const n=l,{t:u}=_(),o=h({title:u("category.exclusive"),products:[]});class m{constructor(s,a,r,t){this.name=s,this.img=a,this.price=r,this.id=t}}const p=async()=>{var e;try{const s=(e=n.Stor)==null?void 0:e.id;if(!s)return;const a=await S.get(`api/home/discounts/${s}`),r=localStorage.getItem("appLang")||"en";o.value.products=a.data.data.data.map(t=>{var c,i;return new m(r==="en"?t.name_en:t.name_ar||t.name_en,((i=(c=t.media)==null?void 0:c[0])==null?void 0:i.url)||"",t.base_price,t.id)})}catch(s){console.error("Failed to fetch best sellers:",s)}};return f(()=>{var e;return(e=n.Stor)==null?void 0:e.id},e=>{e&&p()},{immediate:!0}),(e,s)=>(g(),b(d,{products:o.value},null,8,["products"]))}},w={props:{Stor:{type:Object,required:!0}},setup(l){const n=l,{t:u}=_(),o=h({title:u("category.bestsellers"),products:[]});class m{constructor(s,a,r,t){this.name=s,this.img=a,this.price=r,this.id=t}}const p=async()=>{var e;try{const s=(e=n.Stor)==null?void 0:e.id;if(!s)return;const a=await S.get(`api/home/best-sellers/${s}`),r=localStorage.getItem("appLang")||"en";o.value.products=a.data.data.data.map(t=>{var c,i;return new m(r==="en"?t.name_en:t.name_ar||t.name_en,((i=(c=t.media)==null?void 0:c[0])==null?void 0:i.url)||"",t.base_price,t.id)})}catch(s){console.error("Failed to fetch best sellers:",s)}};return f(()=>{var e;return(e=n.Stor)==null?void 0:e.id},e=>{e&&p()},{immediate:!0}),(e,s)=>(g(),b(d,{products:o.value},null,8,["products"]))}};export{x as _,w as a};
