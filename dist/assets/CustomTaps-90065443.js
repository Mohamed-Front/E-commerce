import{S as F,A as N,a as $}from"./ProductOffers-4aae7b76.js";import{_ as R,r as y,u as j,k as D,n as O,o as A,a as _,c as S,F as V,d as C,f as w,t as z,h as q,w as T,b as U,e as b,i as E}from"./index-39233d5b.js";function W(I){let{swiper:a,extendParams:h}=I;h({grid:{rows:1,fill:"column"}});let c,d,f;const p=()=>{let e=a.params.spaceBetween;return typeof e=="string"&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*a.size:typeof e=="string"&&(e=parseFloat(e)),e},B=e=>{const{slidesPerView:s}=a.params,{rows:t,fill:o}=a.params.grid;f=Math.floor(e/t),Math.floor(e/t)===e/t?c=e:c=Math.ceil(e/t)*t,s!=="auto"&&o==="row"&&(c=Math.max(c,s*t)),d=c/t},x=(e,s,t,o)=>{const{slidesPerGroup:n}=a.params,u=p(),{rows:i,fill:g}=a.params.grid;let m,r,l;if(g==="row"&&n>1){const v=Math.floor(e/(n*i)),M=e-i*n*v,P=v===0?n:Math.min(Math.ceil((t-v*i*n)/i),n);l=Math.floor(M/P),r=M-l*P+v*n,m=r+l*c/i,s.style.order=m}else g==="column"?(r=Math.floor(e/i),l=e-r*i,(r>f||r===f&&l===i-1)&&(l+=1,l>=i&&(l=0,r+=1))):(l=Math.floor(e/d),r=e-l*d);s.row=l,s.column=r,s.style[o("margin-top")]=l!==0?u&&`${u}px`:""},k=(e,s,t)=>{const{centeredSlides:o,roundLengths:n}=a.params,u=p(),{rows:i}=a.params.grid;if(a.virtualSize=(e+u)*c,a.virtualSize=Math.ceil(a.virtualSize/i)-u,a.wrapperEl.style[t("width")]=`${a.virtualSize+u}px`,o){const g=[];for(let m=0;m<s.length;m+=1){let r=s[m];n&&(r=Math.floor(r)),s[m]<a.virtualSize+s[0]&&g.push(r)}s.splice(0,s.length),s.push(...g)}};a.grid={initSlides:B,updateSlide:x,updateWrapperSize:k}}const G={class:"mx-auto px-4 max-w-[1500px]"},H={class:"flex items-center justify-between"},J={class:"font-bold font-sans text-gray-800 lg:mt-4 xs:mt-2 xs:text-lg sm:text-xl md:text-2xl lg:text-3xl"},K={class:"w-full aspect-[3.3/4] overflow-hidden rounded-xl shadow-sm relative"},Q=["src","alt"],X={class:"font-sans mt-4 mb-1 text-center mx-3 text-gray-800 font-medium xs:text-sm sm:text-base md:text-lg"},Y={__name:"CustomTaps",setup(I){const a=y(localStorage.getItem("appLang")||"ar"),h=y([]),c=y([]),d=y(localStorage.getItem("defaultStoreId")||null),f=j(),p=D(),B=async()=>{try{const e=await E.get("api/home/get-stores");h.value=e.data.data.data;const s=h.value.find(t=>t.is_default===1);s&&(localStorage.setItem("defaultStoreId",s.id),d.value=s.id)}catch(e){console.error("Error fetching stores:",e)}},x=async()=>{try{const e=["home","stores-hasmarket"].includes(p.name)?"store":"category",s=p.params.id||d.value;if(!s){console.error("No store ID available");return}const t=await E.get(`/api/home/get-custom-tab/${e}/${s}`);c.value=t.data.data.data}catch(e){console.error("Error fetching custom tabs:",e)}},k=(e,s,t)=>{console.log(t);let o;switch(e){case 1:o="customtap-category";break;case 2:o="customtap-products";break;case 3:o="customtap-brand";break;default:console.error("Unknown tab type:",e);return}f.push({name:o,params:{id:s},query:{title:t}})};return O(()=>p.name,()=>{(d.value||p.params.id)&&x()},{immediate:!0}),A(()=>{B(),(d.value||p.params.id)&&x()}),(e,s)=>(_(),S("div",G,[(_(!0),S(V,null,C(c.value,t=>(_(),S("div",{key:t.id},[w("div",H,[w("h2",J,z(a.value==="ar"?t.name_ar:t.name_en),1)]),q(b($),{modules:[b(N),b(W)],"slides-per-view":t.row_type===1?4:2,grid:t.row_type===2?{rows:2,fill:"row"}:null,"space-between":t.row_type===1?8:16,loop:!0,autoplay:{delay:0,disableOnInteraction:!0},speed:25e3,"grab-cursor":!0,class:"mt-6 pb-1",breakpoints:t.row_type===1?{320:{slidesPerView:2,spaceBetween:8},640:{slidesPerView:2,spaceBetween:12},768:{slidesPerView:3,spaceBetween:16},1024:{slidesPerView:5,spaceBetween:20}}:{320:{slidesPerView:2,spaceBetween:8,grid:{rows:2}},640:{slidesPerView:2,spaceBetween:12,grid:{rows:2}},768:{slidesPerView:3,spaceBetween:16,grid:{rows:2}},1024:{slidesPerView:5,spaceBetween:20,grid:{rows:2}}}},{default:T(()=>[(_(!0),S(V,null,C(t.details,(o,n)=>(_(),U(b(F),{key:n,class:"group flex flex-col items-start cursor-pointer transition-all pb-[1%] rounded-lg shadow-lg duration-300 hover:-translate-y-2",onClick:u=>k(t.type,o.id,a.value==="ar"?o.name_ar:o.name_en)},{default:T(()=>{var u;return[w("div",K,[w("img",{src:((u=o.media[0])==null?void 0:u.url)||"/placeholder.jpg",alt:a.value==="ar"?o.name_ar:o.name_en,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,Q),s[0]||(s[0]=w("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"},null,-1))]),w("p",X,z(a.value==="ar"?o.name_ar:o.name_en),1)]}),_:2},1032,["onClick"]))),128))]),_:2},1032,["modules","slides-per-view","grid","space-between","breakpoints"])]))),128))]))}},ee=R(Y,[["__scopeId","data-v-e82adc90"]]);export{ee as C};
