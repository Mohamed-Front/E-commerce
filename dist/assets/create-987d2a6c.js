import{_ as O,b as D,L as M,u as z,r as n,I as E,d as P,o as c,e as _,g as m,j as u,f as r,x as l,t as i,P as R,s as y,B as f,i as X,a as V,$ as Y,a3 as k,X as L,Y as S,p as A,m as G}from"./index-b794012a.js";const g=h=>(A("data-v-e90a1175"),h=h(),G(),h),H=["dir"],J={class:"max-w-3xl mx-auto card transform hover:scale-[1.01] transition-transform duration-300"},K=["onSubmit"],Q={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},W={class:"space-y-2"},Z={for:"store_id",class:"block text-sm font-medium text-gray-700"},ee=g(()=>r("span",{class:"text-red-500"},"*",-1)),ae={key:0,id:"store_id_error",class:"text-red-500"},te={class:"space-y-2"},se=g(()=>r("span",{class:"text-red-500"},"*",-1)),re={key:0,id:"type_error",class:"text-red-500"},oe={class:"space-y-2"},le=g(()=>r("span",{class:"text-red-500"},"*",-1)),de={key:0,id:"name_ar_error",class:"text-red-500"},ie={class:"space-y-2"},ne=g(()=>r("span",{class:"text-red-500"},"*",-1)),ue={key:0,id:"name_en_error",class:"text-red-500"},ce={class:"space-y-2"},_e=g(()=>r("span",{class:"text-red-500"},"*",-1)),me={key:0,id:"row_type_error",class:"text-red-500"},pe={key:0},be={key:1,class:"pi pi-spinner pi-spin"},ve={setup(h){const q=D(),p=M(),{t:a}=z(),b=n(!1),v=n(!1),w=n(!1),x=n([]),$=n([]),t=n({}),I=n(localStorage.getItem("appLang")||"en"),o=n({store_id:[],type:null,name_ar:"",name_en:"",row_type:null}),j=n([{label:a("custom_tabs.categories"),value:1},{label:a("custom_tabs.products"),value:2}]),C=n([{label:a("custom_tabs.single_row"),value:1},{label:a("custom_tabs.double_rows"),value:2}]);E(()=>I.value==="ar"?"name_ar":"name_en");const T=async()=>{var e;w.value=!0;try{const s=await V.get("/api/store");$.value=((e=s.data)==null?void 0:e.data.data)||[],$.value.length||p.add({severity:"warn",summary:a("warning"),detail:a("custom_tabs.no_stores_found"),life:3e3})}catch{$.value=[],p.add({severity:"error",summary:a("error"),detail:a("custom_tabs.fetch_stores_failed"),life:3e3})}finally{w.value=!1}},U=async()=>{var e;v.value=!0;try{const s=await V.get("/api/custom-tabs");x.value=((e=s.data)==null?void 0:e.data.data)||[],x.value.length||p.add({severity:"warn",summary:a("warning"),detail:a("custom_tabs.no_tabs_found"),life:3e3})}catch{x.value=[],p.add({severity:"error",summary:a("error"),detail:a("custom_tabs.fetch_failed"),life:3e3})}finally{v.value=!1}},B=()=>(t.value={},o.value.store_id||(t.value.store_id=a("custom_tabs.store_id_required")),[1,2].includes(o.value.type)||(t.value.type=a("custom_tabs.type_required")),o.value.name_ar||(t.value.name_ar=a("custom_tabs.name_ar_required")),o.value.name_en||(t.value.name_en=a("custom_tabs.name_en_required")),[1,2].includes(o.value.row_type)||(t.value.row_type=a("custom_tabs.row_type_required")),Object.keys(t.value).length===0),N=async()=>{var e,s;if(!B()){p.add({severity:"error",summary:a("error"),detail:a("custom_tabs.creation_failed"),life:3e3});return}b.value=!0;try{await V.post("/api/custom-tabs",{...o.value,store_id:o.value.store_id}),q.push({name:"custom_tabs"}),p.add({severity:"success",summary:a("success"),detail:a("custom_tabs.created_successfully"),life:3e3})}catch(d){p.add({severity:"error",summary:a("error"),detail:((s=(e=d.response)==null?void 0:e.data)==null?void 0:s.message)||a("custom_tabs.creation_failed"),life:3e3})}finally{b.value=!1}},F=()=>{o.value={store_id:[],type:null,name_ar:"",name_en:"",row_type:null},t.value={}};return P(()=>{T(),U()}),(e,s)=>(c(),_("div",{class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",dir:e.$t("dir")},[m(u(Y),{position:"top-right"}),r("div",J,[r("h1",{id:"form-title",class:l(["text-3xl font-bold text-center mb-8 text-gray-800",{"text-right":e.$t("dir")==="rtl"}]),role:"heading","aria-level":"1"},i(e.$t("custom_tabs.create_new_tab")),3),r("form",{onSubmit:R(N,["prevent"]),class:"space-y-6",role:"form","aria-labelledby":"form-title"},[r("div",Q,[r("div",W,[r("label",Z,[y(i(e.$t("custom_tabs.store_id"))+" ",1),ee]),m(u(k),{filter:"",id:"store_id",modelValue:o.value.store_id,"onUpdate:modelValue":s[0]||(s[0]=d=>o.value.store_id=d),options:$.value,optionLabel:"name_en",optionValue:"id",placeholder:w.value?e.$t("loading"):e.$t("custom_tabs.select_store"),disabled:w.value||b.value,class:l(["w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t.value.store_id}]),"aria-describedby":"store_id_error",required:""},null,8,["modelValue","options","placeholder","disabled","class"]),t.value.store_id?(c(),_("small",ae,i(t.value.store_id),1)):f("",!0)]),r("div",te,[r("label",{for:"type",class:l(["block text-sm font-medium text-gray-700",{"text-right":e.$t("dir")==="rtl"}])},[y(i(e.$t("custom_tabs.type"))+" ",1),se],2),m(u(k),{filter:"",id:"type",modelValue:o.value.type,"onUpdate:modelValue":s[1]||(s[1]=d=>o.value.type=d),options:j.value,optionLabel:"label",optionValue:"value",placeholder:v.value?e.$t("loading"):e.$t("custom_tabs.select_type"),disabled:v.value,class:l(["w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",{"border-red-500":t.value.type}]),"aria-describedby":"type_error",required:""},null,8,["modelValue","options","placeholder","disabled","class"]),t.value.type?(c(),_("small",re,i(t.value.type),1)):f("",!0)]),r("div",oe,[r("label",{for:"name_ar",class:l(["block text-sm font-medium text-gray-700",{"text-right":e.$t("dir")==="rtl"}])},[y(i(e.$t("custom_tabs.name_ar"))+" ",1),le],2),m(u(L),{id:"name_ar",modelValue:o.value.name_ar,"onUpdate:modelValue":s[2]||(s[2]=d=>o.value.name_ar=d),placeholder:e.$t("custom_tabs.enter_name_ar"),class:l(["w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",{"border-red-500":t.value.name_ar}]),"aria-describedby":"name_ar_error",required:""},null,8,["modelValue","placeholder","class"]),t.value.name_ar?(c(),_("small",de,i(t.value.name_ar),1)):f("",!0)]),r("div",ie,[r("label",{for:"name_en",class:l(["block text-sm font-medium text-gray-700",{"text-right":e.$t("dir")==="rtl"}])},[y(i(e.$t("custom_tabs.name_en"))+" ",1),ne],2),m(u(L),{id:"name_en",modelValue:o.value.name_en,"onUpdate:modelValue":s[3]||(s[3]=d=>o.value.name_en=d),placeholder:e.$t("custom_tabs.enter_name_en"),class:l(["w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",{"border-red-500":t.value.name_en}]),"aria-describedby":"name_en_error",required:""},null,8,["modelValue","placeholder","class"]),t.value.name_en?(c(),_("small",ue,i(t.value.name_en),1)):f("",!0)]),r("div",ce,[r("label",{for:"row_type",class:l(["block text-sm font-medium text-gray-700",{"text-right":e.$t("dir")==="rtl"}])},[y(i(e.$t("custom_tabs.row_type"))+" ",1),_e],2),m(u(k),{filter:"",id:"row_type",modelValue:o.value.row_type,"onUpdate:modelValue":s[4]||(s[4]=d=>o.value.row_type=d),options:C.value,optionLabel:"label",optionValue:"value",placeholder:v.value?e.$t("loading"):e.$t("custom_tabs.select_row_type"),disabled:v.value,class:l(["w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",{"border-red-500":t.value.row_type}]),"aria-describedby":"row_type_error",required:""},null,8,["modelValue","options","placeholder","disabled","class"]),t.value.row_type?(c(),_("small",me,i(t.value.row_type),1)):f("",!0)])]),r("div",{class:l(["pt-6 flex justify-center space-x-4",{"space-x-reverse":e.$t("dir")==="rtl"}])},[m(u(S),{type:"submit",label:e.$t("custom_tabs.create_tab"),icon:"pi pi-plus",loading:b.value,class:l(["px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",{"space-x-reverse":e.$t("dir")==="rtl"}]),disabled:b.value},{default:X(()=>[b.value?(c(),_("i",be)):(c(),_("span",pe,i(e.$t("custom_tabs.create_tab")),1))]),_:1},8,["label","loading","class","disabled"]),m(u(S),{type:"button",label:e.$t("custom_tabs.cancel"),icon:"pi pi-times",class:l(["px-8 py-3 mx-3 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",{"space-x-reverse":e.$t("dir")==="rtl"}]),onClick:s[5]||(s[5]=d=>{u(q).push({name:"custom-tabs"}),F()}),disabled:b.value},null,8,["label","class","disabled"])],2)],40,K)])],8,H))}},fe=O(ve,[["__scopeId","data-v-e90a1175"]]);export{fe as default};
