import{_ as b,j as k,k as w,J as B,r as u,o as V,i as m,a as r,c as d,h as n,w as v,e as t,R as q,t as h,F as S,d as U,f as $,U as C,V as E,Y as I,a5 as F}from"./index-e48ba634.js";const M={class:"mx-auto p-4"},N={key:0,class:"flex flex-col gap-4"},T=["for"],j={key:1,class:"text-center"},D={__name:"update",setup(L){const{t:s}=k(),p=w(),i=B(),g=u([]),o=u(!1),l=u({order_tax:"",facebook:"",snapchat:"",instagram:"",whatsapp:"",address:"",phone:""});V(()=>{_()});const _=async()=>{o.value=!0;try{const a=await m.get("api/setting",{params:{code:p.query.code,realmId:p.query.realmId}});a.data.is_success&&(g.value=a.data.data,a.data.data.forEach(c=>{l.value.hasOwnProperty(c.key)&&(l.value[c.key]=c.value)}),i.add({severity:"success",summary:"Success Message",detail:s("quickBooks.successContent"),life:3e3}))}catch{i.add({severity:"error",summary:"Error Message",detail:s("quickBooks.erorrContent"),life:3e3})}finally{o.value=!1}},y=async()=>{o.value=!0;try{const a=Object.entries(l.value).map(([f,e])=>({key:f,value:e}));(await m.post("api/setting",{data:a})).data.is_success&&(i.add({severity:"success",summary:"Update Successful",detail:s("quickBooks.updateSuccess"),life:3e3}),await _())}catch{i.add({severity:"error",summary:"Update Failed",detail:s("quickBooks.updateError"),life:3e3})}finally{o.value=!1}};return(a,c)=>(r(),d("div",M,[n(t(F),{class:"max-w-5xl mx-auto"},{title:v(()=>[q(h(t(s)("settings.title")),1)]),content:v(()=>[o.value?(r(),d("div",j,[n(t(I),{style:{width:"50px",height:"50px"}})])):(r(),d("div",N,[(r(!0),d(S,null,U(l.value,(f,e)=>(r(),d("div",{key:e,class:"field"},[$("label",{for:e,class:"block mb-2 font-medium"},h(t(s)(`settings.${e}`)),9,T),n(t(C),{id:e,modelValue:l.value[e],"onUpdate:modelValue":x=>l.value[e]=x,placeholder:t(s)(`settings.${e}Placeholder`),class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue","placeholder"])]))),128)),n(t(E),{label:t(s)("settings.updateButton"),disabled:o.value,class:"mt-4",onClick:y},null,8,["label","disabled"])]))]),_:1})]))}},P=b(D,[["__scopeId","data-v-b9ed9d9b"]]);export{P as default};
