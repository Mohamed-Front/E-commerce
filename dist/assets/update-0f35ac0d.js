import{_ as k,j as b,k as w,I as B,r as u,o as V,i as m,a as r,c as d,h as n,w as v,e as t,N as q,t as y,F as S,d as I,f as U,P as $,R as C,Y as E,ae as N}from"./index-c059490f.js";const F={class:"mx-auto p-4"},M={key:0,class:"flex flex-col gap-4"},P=["for"],T={key:1,class:"text-center"},j={__name:"update",setup(D){const{t:s}=b(),p=w(),i=B(),g=u([]),o=u(!1),l=u({order_tax:"",address:"",phone:""});V(()=>{f()});const f=async()=>{o.value=!0;try{const a=await m.get("api/setting",{params:{code:p.query.code,realmId:p.query.realmId}});a.data.is_success&&(g.value=a.data.data,a.data.data.forEach(c=>{l.value.hasOwnProperty(c.key)&&(l.value[c.key]=c.value)}),i.add({severity:"success",summary:"Success Message",detail:s("quickBooks.successContent"),life:3e3}))}catch{i.add({severity:"error",summary:"Error Message",detail:s("quickBooks.erorrContent"),life:3e3})}finally{o.value=!1}},h=async()=>{o.value=!0;try{const a=Object.entries(l.value).map(([_,e])=>({key:_,value:e}));(await m.post("api/setting",{data:a})).data.is_success&&(i.add({severity:"success",summary:"Update Successful",detail:s("quickBooks.updateSuccess"),life:3e3}),await f())}catch{i.add({severity:"error",summary:"Update Failed",detail:s("quickBooks.updateError"),life:3e3})}finally{o.value=!1}};return(a,c)=>(r(),d("div",F,[n(t(N),{class:"max-w-5xl mx-auto"},{title:v(()=>[q(y(t(s)("settings.title")),1)]),content:v(()=>[o.value?(r(),d("div",T,[n(t(E),{style:{width:"50px",height:"50px"}})])):(r(),d("div",M,[(r(!0),d(S,null,I(l.value,(_,e)=>(r(),d("div",{key:e,class:"field"},[U("label",{for:e,class:"block mb-2 font-medium"},y(t(s)(`settings.${e}`)),9,P),n(t($),{id:e,modelValue:l.value[e],"onUpdate:modelValue":x=>l.value[e]=x,placeholder:t(s)(`settings.${e}Placeholder`),class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue","placeholder"])]))),128)),n(t(C),{label:t(s)("settings.updateButton"),disabled:o.value,class:"mt-4",onClick:h},null,8,["label","disabled"])]))]),_:1})]))}},O=k(j,[["__scopeId","data-v-87ab0ffe"]]);export{O as default};
