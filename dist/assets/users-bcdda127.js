import{p as ne,s as ie,r as a,v as de,y as re,x as ce,o as ue,d as i,z as pe,e as c,f as u,h as s,i as l,w as n,A as _e,b as A,B as y,C as ve,t as d,m as $,F as R,k as me,D as he,n as j,E as ge,G as fe}from"./index-4b2dbc04.js";const v=w=>(ge("data-v-38468c7d"),w=w(),fe(),w),be={class:"grid"},ye={class:"col-12"},we={class:"my-2"},ke={class:"my-2 flex gap-2"},Ce={class:"p-input-icon-left"},xe=v(()=>s("i",{class:"pi pi-search"},null,-1)),$e={class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},De={class:"m-0 my-auto px-2"},Pe={class:"p-paginator p-component p-unselectable-text mt-3"},Ve={class:"p-paginator-left-content"},Te={class:"p-paginator-current"},Ne={class:"p-paginator-right-content"},Se={class:"p-paginator-pages"},Be=["disabled"],Ie=v(()=>s("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)),Ue=[Ie],Me=["disabled"],Ee=v(()=>s("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)),Fe=[Ee],ze=["onClick"],Ae={key:1,class:"p-paginator-dots"},Re=["disabled"],je=v(()=>s("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)),Ge=[je],Le=["disabled"],Oe=v(()=>s("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)),Qe=[Oe],Ye={class:"p-paginator-rpp-options"},qe={class:"flex align-items-center justify-content-center"},He=v(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Je={key:0},Ke={setup(w){const P=ie();a([]);const G=de();a(null);const k=a(!0),V=a("");a({}),a(!0),a("");const T=a(null);a(!1),a(!1);const m=a(!1),L=a({}),N=a(null),S=a(null),B=a({}),C=a(""),r=a(1),I=a(0),h=a(10),x=a(0),O=a(""),Q=a(""),U=a(""),M=a(""),E=a(0),F=a(0),z=a([]),Y=()=>{S.value.exportCSV()},q=t=>{V.value=t,m.value=!0},H=()=>{A.get(`/api/delete/${V.value}`).then(()=>{g(),m.value=!1,G.add({severity:"success",summary:"Successful",detail:"user Deleted",life:3e3})})},J=()=>{B.value={global:{value:null,matchMode:_e.CONTAINS}}};re(()=>{J()});const g=()=>{k.value=!0,A.get("/api/user",{params:{page:r.value,limit:h.value,search:C.value}}).then(t=>{k.value=!1,T.value=t.data.data.data,I.value=t.data.data.total,x.value=t.data.data.last_page,O.value=t.data.data.first_page_url,Q.value=t.data.data.last_page_url,U.value=t.data.data.next_page_url,M.value=t.data.data.prev_page_url,E.value=t.data.data.from,F.value=t.data.data.to,z.value=t.data.data.links}).catch(t=>{k.value=!1,console.error("Error fetching data:",t)})};ce(C,t=>{r.value=1,g()});const f=t=>{t>=1&&t<=x.value&&(r.value=t,g())},K=t=>{h.value=t.value,r.value=1,g()};ue(()=>{g()});const W=()=>{P.push({name:"user-create"})},X=t=>{P.push({name:"user-edite",params:{id:t}})};return(t,o)=>{const p=i("Button"),Z=i("InputText"),ee=i("Toolbar"),te=i("Toast"),_=i("Column"),ae=i("DataTable"),se=i("Dropdown"),oe=i("Dialog"),le=i("va-card"),b=pe("can");return c(),u("div",be,[s("div",ye,[l(le,{class:"card"},{default:n(()=>[l(ee,{class:"mb-4"},{start:n(()=>[s("div",we,[y(l(p,{label:"New",icon:"pi pi-plus",class:"new mr-2",onClick:W},null,512),[[b,"create users"]])])]),end:n(()=>[y((c(),u("div",ke,[s("span",Ce,[xe,l(Z,{modelValue:C.value,"onUpdate:modelValue":o[0]||(o[0]=e=>C.value=e),placeholder:"Search..."},null,8,["modelValue"])]),l(p,{label:"Export",icon:"pi pi-upload",class:"new",onClick:o[1]||(o[1]=e=>Y())})])),[[b,"list users"]])]),_:1}),l(te),y((c(),ve(ae,{ref_key:"dt",ref:S,selection:N.value,"onUpdate:selection":o[2]||(o[2]=e=>N.value=e),value:T.value,loading:k.value,"data-key":"id",paginator:!1,rows:h.value,filters:B.value,"responsive-layout":"scroll"},{header:n(()=>[s("div",$e,[s("h5",De,d(t.$t("user.users")),1)])]),default:n(()=>[l(_,{"selection-mode":"multiple","header-style":"width: 3rem"}),l(_,{field:"name",header:t.$t("user.name"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[$(d(e.data.name),1)]),_:1},8,["header"]),l(_,{field:"email",header:t.$t("user.email"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[$(d(e.data.email),1)]),_:1},8,["header"]),l(_,{field:"phone",header:t.$t("user.phone"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[$(d(e.data.phone),1)]),_:1},8,["header"]),l(_,{field:"type",header:t.$t("user.type"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[$(d(e.data.type),1)]),_:1},8,["header"]),l(_,{"header-style":"min-width:10rem;"},{body:n(e=>[y(l(p,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:D=>X(e.data.id)},null,8,["onClick"]),[[b,"edit users"]]),y(l(p,{icon:"pi pi-trash",class:"delete mt-2",onClick:D=>q(e.data.id)},null,8,["onClick"]),[[b,"delete users"]])]),_:1})]),_:1},8,["selection","value","loading","rows","filters"])),[[b,"list users"]]),s("div",Pe,[s("div",Ve,[s("span",Te,"Showing "+d(E.value)+" to "+d(F.value)+" of "+d(I.value)+" entries",1)]),s("div",Ne,[s("span",Se,[s("button",{class:"p-paginator-first p-paginator-element p-link",disabled:r.value===1,onClick:o[3]||(o[3]=e=>f(1))},Ue,8,Be),s("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!M.value,onClick:o[4]||(o[4]=e=>f(r.value-1))},Fe,8,Me),(c(!0),u(R,null,me(z.value,(e,D)=>(c(),u(R,{key:D},[e.label&&!isNaN(e.label)?(c(),u("button",{key:0,class:he(["p-paginator-page p-paginator-element p-link",{"p-highlight":e.active}]),onClick:We=>f(parseInt(e.label))},d(e.label),11,ze)):e.label==="..."?(c(),u("span",Ae,"...")):j("",!0)],64))),128)),s("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!U.value,onClick:o[5]||(o[5]=e=>f(r.value+1))},Ge,8,Re),s("button",{class:"p-paginator-last p-paginator-element p-link",disabled:r.value===x.value,onClick:o[6]||(o[6]=e=>f(x.value))},Qe,8,Le)]),s("span",Ye,[l(se,{modelValue:h.value,"onUpdate:modelValue":o[7]||(o[7]=e=>h.value=e),options:[5,10,20,30],onChange:K,class:"ml-2",style:{width:"100px"}},null,8,["modelValue"])])])]),l(oe,{visible:m.value,"onUpdate:visible":o[9]||(o[9]=e=>m.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[l(p,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[8]||(o[8]=e=>m.value=!1)}),l(p,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:H})]),default:n(()=>[s("div",qe,[He,L.value?(c(),u("span",Je,"Are you sure you want to delete the selected user?")):j("",!0)])]),_:1},8,["visible"])]),_:1})])])}}},Ze=ne(Ke,[["__scopeId","data-v-38468c7d"]]);export{Ze as default};
