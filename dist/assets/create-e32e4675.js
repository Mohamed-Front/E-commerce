import{_ as Q,u as W,H as X,D as Y,r as _,J as O,K as Z,o as u,c,L as ee,a as e,t as n,e as l,m as b,b as h,P as p,s as k,F as L,d as R,w as te,p as se,i as oe,G as le}from"./index-22274b14.js";const m=B=>(se("data-v-bfb8e593"),B=B(),oe(),B),ae={class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg"},re={class:"text-3xl font-bold text-center mb-8 text-gray-800"},ne=["onSubmit"],ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},de={class:"space-y-2"},ue={for:"name_en",class:"block text-sm font-medium text-gray-700"},ce=m(()=>e("span",{class:"text-red-500"},"*",-1)),pe={class:"space-y-2"},_e={for:"name_ar",class:"block text-sm font-medium text-gray-700"},ge=m(()=>e("span",{class:"text-red-500"},"*",-1)),me={class:"space-y-4 md:col-span-2"},ve={class:"flex items-center space-x-4"},be={class:"block text-sm font-medium text-gray-700 mx-2"},fe={class:"flex items-center space-x-4"},he={class:"block text-sm font-medium text-gray-700 mx-2"},xe={class:"space-y-2"},ye={class:"block text-sm font-medium text-gray-700"},we={class:"flex justify-center"},ke={key:0,class:"p-4 w-full h-full"},De={class:"relative group w-full h-full"},je=["src","alt"],$e={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Te=m(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),Ce=[Te],Se={key:1,class:"p-4 flex flex-col items-center justify-center"},Ie=m(()=>e("div",{class:"bg-blue-100 p-3 rounded-full mb-2"},[e("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),Ue={class:"text-sm text-center text-gray-600"},Ve={class:"text-blue-500 font-medium"},Be={class:"space-y-2"},Ee={class:"block text-sm font-medium text-gray-700"},Pe={class:"flex justify-center"},Fe={key:0,class:"p-4 w-full h-full"},Oe={class:"relative group w-full h-full"},Le=["src","alt"],Me={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Ae=m(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),Ne=[Ae],Re={key:1,class:"p-4 flex flex-col items-center justify-center"},qe=m(()=>e("div",{class:"bg-blue-100 p-3 rounded-full mb-2"},[e("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),ze={class:"text-sm text-center text-gray-600"},Ge={class:"text-blue-500 font-medium"},He={class:"space-y-2 md:col-span-2"},Je={class:"block text-sm font-medium text-gray-700"},Ke={class:"flex justify-center"},Qe={key:0,class:"p-4 w-full h-full"},We={class:"relative group w-full h-full"},Xe=["src","alt"],Ye={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Ze=m(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),et=[Ze],tt={key:1,class:"p-4 flex flex-col items-center justify-center"},st=m(()=>e("div",{class:"bg-blue-100 p-3 rounded-full mb-2"},[e("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),ot={class:"text-sm text-center text-gray-600"},lt={class:"text-blue-500 font-medium"},at={class:"space-y-2 md:col-span-2"},rt={class:"block text-sm font-medium text-gray-700"},nt={class:"flex justify-center"},it={key:0,class:"p-4"},dt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},ut=["src","alt"],ct={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},pt=["onClick"],_t=m(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),gt=[_t],mt={class:"mt-2 text-center text-sm text-gray-500"},vt={key:1,class:"p-8 flex flex-col items-center justify-center"},bt=m(()=>e("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[e("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),ft={class:"text-sm text-center text-gray-600 mb-1"},ht={class:"text-blue-500 font-medium"},xt={class:"text-xs text-gray-400"},yt={class:"space-y-2 md:col-span-2"},wt={class:"block text-sm font-medium text-gray-700"},kt={class:"flex justify-center"},Dt={key:0,class:"p-4"},jt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},$t=["src","alt"],Tt={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Ct=["onClick"],St=m(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),It=[St],Ut={class:"mt-2 text-center text-sm text-gray-500"},Vt={key:1,class:"p-8 flex flex-col items-center justify-center"},Bt=m(()=>e("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[e("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),Et={class:"text-sm text-center text-gray-600 mb-1"},Pt={class:"text-blue-500 font-medium"},Ft={class:"text-xs text-gray-400"},Ot={class:"space-y-2 md:col-span-2"},Lt={class:"block text-sm font-medium text-gray-700"},Mt={class:"flex justify-center"},At={key:0,class:"p-4"},Nt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Rt=["src","alt"],qt={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},zt=["onClick"],Gt=m(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),Ht=[Gt],Jt={class:"mt-2 text-center text-sm text-gray-500"},Kt={key:1,class:"p-8 flex flex-col items-center justify-center"},Qt=m(()=>e("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[e("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),Wt={class:"text-sm text-center text-gray-600 mb-1"},Xt={class:"text-blue-500 font-medium"},Yt={class:"text-xs text-gray-400"},Zt={class:"pt-4 flex justify-center space-x-4"},es={key:0},ts={key:1,class:"pi pi-spinner pi-spin"},ss={setup(B){const q=W(),z=X(),{t:o}=Y();_();const x=_(!1),a=_({name_en:"",name_ar:"",is_default:!1,has_market:!1,store_image:null,main_banner_image:null,sub_banner_image:null,slider_images_one:[],slider_images_two:[],slider_images_three:[]}),E=_(null),P=_(null),F=_(null),D=_([]),j=_([]),$=_([]),T=_(!1),C=_(!1),S=_(!1),I=_(!1),U=_(!1),V=_(!1),H=(r,t)=>{const d=new FileReader;d.onload=i=>{switch(t){case"store":a.value.store_image=r,E.value=i.target.result,T.value=!1;break;case"main_banner":a.value.main_banner_image=r,P.value=i.target.result,C.value=!1;break;case"sub_banner":a.value.sub_banner_image=r,F.value=i.target.result,S.value=!1;break}},d.readAsDataURL(r)},J=(r,t)=>{const d=[],i=[];Array.from(r).forEach(g=>{const f=new FileReader;f.onload=N=>{d.push(N.target.result),i.push(g),d.length===r.length&&(t==="slider_one"?(a.value.slider_images_one=[...a.value.slider_images_one,...i],D.value=[...D.value,...d],I.value=!1):t==="slider_two"?(a.value.slider_images_two=[...a.value.slider_images_two,...i],j.value=[...j.value,...d],U.value=!1):t==="slider_three"&&(a.value.slider_images_three=[...a.value.slider_images_three,...i],$.value=[...$.value,...d],V.value=!1))},f.readAsDataURL(g)})},y=(r,t)=>{var i,g,f;const d=((i=r.target.files)==null?void 0:i[0])||((f=(g=r.dataTransfer)==null?void 0:g.files)==null?void 0:f[0]);d&&d.type.match("image.*")&&H(d,t)},w=(r,t)=>{var i;const d=r.target.files||((i=r.dataTransfer)==null?void 0:i.files);d&&d.length>0&&J(d,t)},M=r=>{switch(r){case"store":a.value.store_image=null,E.value=null;break;case"main_banner":a.value.main_banner_image=null,P.value=null;break;case"sub_banner":a.value.sub_banner_image=null,F.value=null;break}},A=(r,t)=>{t==="slider_one"?(a.value.slider_images_one.splice(r,1),D.value.splice(r,1)):t==="slider_two"?(a.value.slider_images_two.splice(r,1),j.value.splice(r,1)):t==="slider_three"&&(a.value.slider_images_three.splice(r,1),$.value.splice(r,1))},K=async()=>{var t,d;x.value=!0;const r=new FormData;r.append("name_en",a.value.name_en),r.append("name_ar",a.value.name_ar),r.append("is_default",a.value.is_default?"1":"0"),r.append("has_market",a.value.has_market?"1":"0"),a.value.store_image&&r.append("store_image",a.value.store_image),a.value.main_banner_image&&r.append("main_banner_image",a.value.main_banner_image),a.value.sub_banner_image&&r.append("sub_banner_image",a.value.sub_banner_image),a.value.slider_images_one.forEach((i,g)=>{r.append(`slider_images_one[${g}]`,i)}),a.value.slider_images_two.forEach((i,g)=>{r.append(`slider_images_two[${g}]`,i)}),a.value.slider_images_three.forEach((i,g)=>{r.append(`slider_images_three[${g}]`,i)});try{await le.post("/api/store",r),q.push({name:"stores"}),z.add({severity:"success",summary:o("success"),detail:o("store.createdSuccess"),life:3e3})}catch(i){console.error("Error:",i),z.add({severity:"error",summary:o("error"),detail:((d=(t=i.response)==null?void 0:t.data)==null?void 0:d.message)||o("store.createError"),life:3e3})}finally{x.value=!1}};return(r,t)=>{const d=O("InputText"),i=O("InputSwitch"),g=O("Button"),f=O("Toast"),N=Z("can");return u(),c(L,null,[ee((u(),c("div",ae,[e("h1",re,n(l(o)("store.createTitle")),1),e("form",{onSubmit:p(K,["prevent"]),class:"space-y-6"},[e("div",ie,[e("div",de,[e("label",ue,[b(n(l(o)("store.nameEn"))+" ",1),ce]),h(d,{id:"name_en",modelValue:a.value.name_en,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name_en=s),placeholder:l(o)("store.enterNameEn"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),e("div",pe,[e("label",_e,[b(n(l(o)("store.nameAr"))+" ",1),ge]),h(d,{id:"name_ar",modelValue:a.value.name_ar,"onUpdate:modelValue":t[1]||(t[1]=s=>a.value.name_ar=s),placeholder:l(o)("store.enterNameAr"),dir:"rtl",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),e("div",me,[e("div",ve,[e("label",be,n(l(o)("store.isDefault")),1),h(i,{modelValue:a.value.is_default,"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.is_default=s)},null,8,["modelValue"])]),e("div",fe,[e("label",he,n(l(o)("store.hasMarket")),1),h(i,{modelValue:a.value.has_market,"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.has_market=s)},null,8,["modelValue"])])]),e("div",xe,[e("label",ye,n(l(o)("store.storeLogo")),1),e("div",we,[e("label",{onDragover:t[6]||(t[6]=p(s=>T.value=!0,["prevent"])),onDragleave:t[7]||(t[7]=s=>T.value=!1),onDrop:t[8]||(t[8]=p(s=>y(s,"store"),["prevent"])),class:k([{"border-blue-500 bg-blue-50":T.value,"border-gray-300":!T.value},"cursor-pointer w-full h-48 rounded-xl border-2 border-dashed transition-colors duration-300 flex items-center justify-center"])},[e("input",{type:"file",onChange:t[4]||(t[4]=s=>y(s,"store")),accept:"image/*",class:"hidden"},null,32),E.value?(u(),c("div",ke,[e("div",De,[e("img",{src:E.value,alt:l(o)("store.storeLogo"),class:"w-full h-full object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,je),e("div",$e,[e("button",{type:"button",onClick:t[5]||(t[5]=p(s=>M("store"),["stop"])),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},Ce)])])])):(u(),c("div",Se,[Ie,e("p",Ue,[e("span",Ve,n(l(o)("store.clickToUpload")),1),b(" "+n(l(o)("store.orDragDrop")),1)])]))],34)])]),e("div",Be,[e("label",Ee,n(l(o)("store.mainBanner")),1),e("div",Pe,[e("label",{onDragover:t[11]||(t[11]=p(s=>C.value=!0,["prevent"])),onDragleave:t[12]||(t[12]=s=>C.value=!1),onDrop:t[13]||(t[13]=p(s=>y(s,"main_banner"),["prevent"])),class:k([{"border-blue-500 bg-blue-50":C.value,"border-gray-300":!C.value},"cursor-pointer w-full h-48 rounded-xl border-2 border-dashed transition-colors duration-300 flex items-center justify-center"])},[e("input",{type:"file",onChange:t[9]||(t[9]=s=>y(s,"main_banner")),accept:"image/*",class:"hidden"},null,32),P.value?(u(),c("div",Fe,[e("div",Oe,[e("img",{src:P.value,alt:l(o)("store.mainBanner"),class:"w-full h-full object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Le),e("div",Me,[e("button",{type:"button",onClick:t[10]||(t[10]=p(s=>M("main_banner"),["stop"])),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},Ne)])])])):(u(),c("div",Re,[qe,e("p",ze,[e("span",Ge,n(l(o)("store.clickToUpload")),1),b(" "+n(l(o)("store.orDragDrop")),1)])]))],34)])]),e("div",He,[e("label",Je,n(l(o)("store.subBanner")),1),e("div",Ke,[e("label",{onDragover:t[16]||(t[16]=p(s=>S.value=!0,["prevent"])),onDragleave:t[17]||(t[17]=s=>S.value=!1),onDrop:t[18]||(t[18]=p(s=>y(s,"sub_banner"),["prevent"])),class:k([{"border-blue-500 bg-blue-50":S.value,"border-gray-300":!S.value},"cursor-pointer w-full max-w-2xl h-48 rounded-xl border-2 border-dashed transition-colors duration-300 flex items-center justify-center"])},[e("input",{type:"file",onChange:t[14]||(t[14]=s=>y(s,"sub_banner")),accept:"image/*",class:"hidden"},null,32),F.value?(u(),c("div",Qe,[e("div",We,[e("img",{src:F.value,alt:l(o)("store.subBanner"),class:"w-full h-full object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Xe),e("div",Ye,[e("button",{type:"button",onClick:t[15]||(t[15]=p(s=>M("sub_banner"),["stop"])),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},et)])])])):(u(),c("div",tt,[st,e("p",ot,[e("span",lt,n(l(o)("store.clickToUpload")),1),b(" "+n(l(o)("store.orDragDrop")),1)])]))],34)])]),e("div",at,[e("label",rt,n(l(o)("store.sliderOne")),1),e("div",nt,[e("label",{onDragover:t[20]||(t[20]=p(s=>I.value=!0,["prevent"])),onDragleave:t[21]||(t[21]=s=>I.value=!1),onDrop:t[22]||(t[22]=p(s=>w(s,"slider_one"),["prevent"])),class:k([{"border-blue-500 bg-blue-50":I.value,"border-gray-300":!I.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300"])},[e("input",{type:"file",onChange:t[19]||(t[19]=s=>w(s,"slider_one")),accept:"image/*",multiple:"",class:"hidden"},null,32),D.value.length>0?(u(),c("div",it,[e("div",dt,[(u(!0),c(L,null,R(D.value,(s,v)=>(u(),c("div",{key:v,class:"relative group"},[e("img",{src:s,alt:`${l(o)("store.sliderOne")} ${v+1}`,class:"w-full h-32 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,ut),e("div",ct,[e("button",{type:"button",onClick:p(G=>A(v,"slider_one"),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},gt,8,pt)])]))),128))]),e("p",mt,n(l(o)("store.clickOrDragMore")),1)])):(u(),c("div",vt,[bt,e("p",ft,[e("span",ht,n(l(o)("store.clickToUpload")),1),b(" "+n(l(o)("store.orDragDrop")),1)]),e("p",xt,n(l(o)("store.multipleImages")),1)]))],34)])]),e("div",yt,[e("label",wt,n(l(o)("store.sliderTwo")),1),e("div",kt,[e("label",{onDragover:t[24]||(t[24]=p(s=>U.value=!0,["prevent"])),onDragleave:t[25]||(t[25]=s=>U.value=!1),onDrop:t[26]||(t[26]=p(s=>w(s,"slider_two"),["prevent"])),class:k([{"border-blue-500 bg-blue-50":U.value,"border-gray-300":!U.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300"])},[e("input",{type:"file",onChange:t[23]||(t[23]=s=>w(s,"slider_two")),accept:"image/*",multiple:"",class:"hidden"},null,32),j.value.length>0?(u(),c("div",Dt,[e("div",jt,[(u(!0),c(L,null,R(j.value,(s,v)=>(u(),c("div",{key:v,class:"relative group"},[e("img",{src:s,alt:`${l(o)("store.sliderTwo")} ${v+1}`,class:"w-full h-32 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,$t),e("div",Tt,[e("button",{type:"button",onClick:p(G=>A(v,"slider_two"),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},It,8,Ct)])]))),128))]),e("p",Ut,n(l(o)("store.clickOrDragMore")),1)])):(u(),c("div",Vt,[Bt,e("p",Et,[e("span",Pt,n(l(o)("store.clickToUpload")),1),b(" "+n(l(o)("store.orDragDrop")),1)]),e("p",Ft,n(l(o)("store.multipleImages")),1)]))],34)])]),e("div",Ot,[e("label",Lt,n(l(o)("store.sliderThree")),1),e("div",Mt,[e("label",{onDragover:t[28]||(t[28]=p(s=>V.value=!0,["prevent"])),onDragleave:t[29]||(t[29]=s=>V.value=!1),onDrop:t[30]||(t[30]=p(s=>w(s,"slider_three"),["prevent"])),class:k([{"border-blue-500 bg-blue-50":V.value,"border-gray-300":!V.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300"])},[e("input",{type:"file",onChange:t[27]||(t[27]=s=>w(s,"slider_three")),accept:"image/*",multiple:"",class:"hidden"},null,32),$.value.length>0?(u(),c("div",At,[e("div",Nt,[(u(!0),c(L,null,R($.value,(s,v)=>(u(),c("div",{key:v,class:"relative group"},[e("img",{src:s,alt:`${l(o)("store.sliderThree")} ${v+1}`,class:"w-full h-32 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Rt),e("div",qt,[e("button",{type:"button",onClick:p(G=>A(v,"slider_three"),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},Ht,8,zt)])]))),128))]),e("p",Jt,n(l(o)("store.clickOrDragMore")),1)])):(u(),c("div",Kt,[Qt,e("p",Wt,[e("span",Xt,n(l(o)("store.clickToUpload")),1),b(" "+n(l(o)("store.orDragDrop")),1)]),e("p",Yt,n(l(o)("store.multipleImages")),1)]))],34)])])]),e("div",Zt,[h(g,{type:"button",label:l(o)("cancel"),icon:"pi pi-times",onClick:t[31]||(t[31]=s=>l(q).go(-1)),class:"px-6 py-3 bg-gray-200 mx-2 hover:bg-gray-300 text-gray-700 rounded-lg shadow-md hover:shadow-lg transition-all duration-300",disabled:x.value},null,8,["label","disabled"]),h(g,{type:"submit",label:l(o)("store.createStore"),icon:"pi pi-plus",loading:x.value,class:"px-8 py-3 bg-gradient-to-r mx-2 from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300",disabled:x.value},{default:te(()=>[x.value?(u(),c("i",ts)):(u(),c("span",es,n(l(o)("store.createStore")),1))]),_:1},8,["label","loading","disabled"])])],40,ne)])),[[N,"create stores"]]),h(f)],64)}}},ls=Q(ss,[["__scopeId","data-v-bfb8e593"]]);export{ls as default};
