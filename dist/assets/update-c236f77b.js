import{_ as b,u as k,n as w,L as B,r as u,d as V,a as m,o as r,e as d,g as n,i as v,j as t,s as q,t as g,F as S,h as U,f as $,X as C,Y as E,a0 as I,a8 as F}from"./index-b794012a.js";const L={class:"mx-auto p-4"},M={key:0,class:"flex flex-col gap-4"},N=["for"],T={key:1,class:"text-center"},j={setup(D){const{t:s}=k(),p=w(),i=B(),h=u([]),o=u(!1),l=u({order_tax:"",facebook:"",snapchat:"",instagram:"",whatsapp:"",address:"",phone:""});V(()=>{_()});const _=async()=>{o.value=!0;try{const a=await m.get("api/setting",{params:{code:p.query.code,realmId:p.query.realmId}});a.data.is_success&&(h.value=a.data.data,a.data.data.forEach(c=>{l.value.hasOwnProperty(c.key)&&(l.value[c.key]=c.value)}),i.add({severity:"success",summary:"Success Message",detail:s("quickBooks.successContent"),life:3e3}))}catch{i.add({severity:"error",summary:"Error Message",detail:s("quickBooks.erorrContent"),life:3e3})}finally{o.value=!1}},y=async()=>{o.value=!0;try{const a=Object.entries(l.value).map(([f,e])=>({key:f,value:e}));(await m.post("api/setting",{data:a})).data.is_success&&(i.add({severity:"success",summary:"Update Successful",detail:s("quickBooks.updateSuccess"),life:3e3}),await _())}catch{i.add({severity:"error",summary:"Update Failed",detail:s("quickBooks.updateError"),life:3e3})}finally{o.value=!1}};return(a,c)=>(r(),d("div",L,[n(t(F),{class:"max-w-5xl mx-auto"},{title:v(()=>[q(g(t(s)("settings.title")),1)]),content:v(()=>[o.value?(r(),d("div",T,[n(t(I),{style:{width:"50px",height:"50px"}})])):(r(),d("div",M,[(r(!0),d(S,null,U(l.value,(f,e)=>(r(),d("div",{key:e,class:"field"},[$("label",{for:e,class:"block mb-2 font-medium"},g(t(s)(`settings.${e}`)),9,N),n(t(C),{id:e,modelValue:l.value[e],"onUpdate:modelValue":x=>l.value[e]=x,placeholder:t(s)(`settings.${e}Placeholder`),class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue","placeholder"])]))),128)),n(t(E),{label:t(s)("settings.updateButton"),disabled:o.value,class:"mt-4",onClick:y},null,8,["label","disabled"])]))]),_:1})]))}},P=b(j,[["__scopeId","data-v-7b83bb45"]]);export{P as default};
