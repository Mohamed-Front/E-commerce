import{_ as $,u as D,f as j,G as L,r as V,A as w,h as x,i as N,b as i,c as _,l as q,B as a,j as e,t as u,q as f,e as r,F as k,n as A,k as E,D as R,m as G,v as M,x as O,y as z,a as H}from"./index-7330e92f.js";const y=m=>(O("data-v-c0f8a1d6"),m=m(),z(),m),J=["dir"],K={class:"text-3xl font-bold text-center mb-8 text-gray-800"},P=["onSubmit"],Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W={class:"space-y-2"},X={for:"name_en",class:"block text-sm font-medium text-gray-700"},Y=y(()=>e("span",{class:"text-red-500"},"*",-1)),Z={class:"space-y-2"},ee={for:"name_ar",class:"block text-sm font-medium text-gray-700"},te=y(()=>e("span",{class:"text-red-500"},"*",-1)),ae={class:"space-y-4"},se={class:"text-lg font-semibold text-gray-700 border-b pb-2"},oe={class:"space-y-2"},le=["for"],re=y(()=>e("span",{class:"text-red-500"},"*",-1)),ne={class:"flex space-x-2"},ie={class:"space-y-2"},ue=["for"],de=y(()=>e("span",{class:"text-red-500"},"*",-1)),ce={class:"flex space-x-2"},_e={class:"pt-2"},pe={class:"pt-4 flex justify-center space-x-4"},me={key:0},be={key:1,class:"pi pi-spinner pi-spin"},ve={setup(m){const h=D(),p=j(),{t}=L(),d=V(!1),B=w(()=>localStorage.getItem("appLang")||"en"),I=w(()=>B.value==="ar"),s=V({name_en:"",name_ar:"",values:[{value_en:"",value_ar:""}]}),S=()=>{s.value.values.push({value_en:"",value_ar:""})},T=o=>{s.value.values.length>1?s.value.values.splice(o,1):p.add({severity:"warn",summary:t("warning"),detail:t("attribute.minOneValue"),life:3e3})},C=async()=>{if(!s.value.name_en||!s.value.name_ar){p.add({severity:"error",summary:t("error"),detail:t("validation.requiredFields"),life:3e3});return}for(const o of s.value.values)if(!o.value_en||!o.value_ar){p.add({severity:"error",summary:t("error"),detail:t("attribute.valueRequired"),life:3e3});return}d.value=!0,H.post("/api/attribute",s.value).then(o=>{h.push({name:"attributes"}),p.add({severity:"success",summary:t("success"),detail:t("attribute.createSuccess"),life:3e3})}).catch(o=>{p.add({severity:"error",summary:t("error"),detail:o.response.data.message,life:3e3}),d.value=!1,console.log(o.response.data.message)})};return(o,c)=>{const b=x("InputText"),v=x("Button"),F=x("Toast"),U=N("can");return i(),_(k,null,[q((i(),_("div",{class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg",dir:a(I)?"rtl":"ltr"},[e("h1",K,u(a(t)("attribute.createTitle")),1),e("form",{onSubmit:R(C,["prevent"]),class:"space-y-6"},[e("div",Q,[e("div",W,[e("label",X,[f(u(a(t)("attribute.nameEn"))+" ",1),Y]),r(b,{id:"name_en",modelValue:s.value.name_en,"onUpdate:modelValue":c[0]||(c[0]=l=>s.value.name_en=l),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"])]),e("div",Z,[e("label",ee,[f(u(a(t)("attribute.nameAr"))+" ",1),te]),r(b,{id:"name_ar",modelValue:s.value.name_ar,"onUpdate:modelValue":c[1]||(c[1]=l=>s.value.name_ar=l),dir:"rtl",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"])])]),e("div",ae,[e("h3",se,u(a(t)("attribute.values")),1),(i(!0),_(k,null,A(s.value.values,(l,n)=>(i(),_("div",{key:n,class:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end"},[e("div",oe,[e("label",{for:`value_en_${n}`,class:"block text-sm font-medium text-gray-700"},[f(u(a(t)("attribute.valueEn"))+" ",1),re],8,le),e("div",ne,[r(b,{id:`value_en_${n}`,modelValue:l.value_en,"onUpdate:modelValue":g=>l.value_en=g,class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["id","modelValue","onUpdate:modelValue"])])]),e("div",ie,[e("label",{for:`value_ar_${n}`,class:"block text-sm font-medium text-gray-700"},[f(u(a(t)("attribute.valueAr"))+" ",1),de],8,ue),e("div",ce,[r(b,{id:`value_ar_${n}`,modelValue:l.value_ar,"onUpdate:modelValue":g=>l.value_ar=g,dir:"rtl",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["id","modelValue","onUpdate:modelValue"]),n>0?(i(),G(v,{key:0,type:"button",icon:"pi pi-trash",severity:"danger",onClick:g=>T(n),class:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition",title:a(t)("attribute.removeValue")},null,8,["onClick","title"])):M("",!0)])])]))),128)),e("div",_e,[r(v,{type:"button",label:a(t)("attribute.addValue"),icon:"pi pi-plus",onClick:S,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition"},null,8,["label"])])]),e("div",pe,[r(v,{type:"button",label:a(t)("attribute.cancelButton"),icon:"pi pi-times",onClick:c[2]||(c[2]=l=>a(h).go(-1)),class:"px-6 py-3 mx-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:d.value},null,8,["label","disabled"]),r(v,{type:"submit",label:a(t)("attribute.createButton"),icon:"pi pi-plus",loading:d.value,class:"px-8 mx-2 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:d.value},{default:E(()=>[d.value?(i(),_("i",be)):(i(),_("span",me,u(a(t)("attribute.createButton")),1))]),_:1},8,["label","loading","disabled"])])],40,P)],8,J)),[[U,"create attributes"]]),r(F)],64)}}},fe=$(ve,[["__scopeId","data-v-c0f8a1d6"]]);export{fe as default};
