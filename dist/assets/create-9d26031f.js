import{_ as D,d as k,I as C,u as I,r as f,a as u,S as N,o as d,f as c,x as T,g as t,t as l,q as p,h as n,z as B,j as M,L as q,F,b as U}from"./index-264675fd.js";import{h as Y}from"./moment-fbc5633a.js";const S={class:"max-w-2xl mx-auto p-6 bg-white rounded-xl shadow-lg"},j={class:"text-3xl font-bold text-center mb-8 text-gray-800"},L={class:"grid grid-cols-1 gap-6"},R={class:"space-y-2"},A={for:"code",class:"block text-sm font-medium text-gray-700"},E={class:"flex gap-2"},z={class:"space-y-2"},G={for:"discount_type",class:"block text-sm font-medium text-gray-700"},H={class:"space-y-2"},J={for:"discount_value",class:"block text-sm font-medium text-gray-700"},K={key:0,class:"text-gray-500 text-xs"},O={class:"space-y-2"},P={for:"expires_at",class:"block text-sm font-medium text-gray-700"},Q={class:"pt-4 flex justify-center"},W={key:0},X={key:1,class:"pi pi-spinner pi-spin"},Z={__name:"create",setup(ee){const b=k(),v=C(),{t:_}=I(),r=f(!1),s=f({code:"",discount_type:null,discount_value:null,expires_at:""}),g=()=>{const o="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="C-";for(let i=0;i<3;i++)e+=o.charAt(Math.floor(Math.random()*o.length));s.value.code=e},y=async()=>{r.value=!0,s.value.expires_at=Y(s.value.expires_at).format("YYYY-MM-DD");try{await U.post("/api/coupon",s.value),b.push({name:"coupon"}),v.add({severity:"success",summary:_("success"),detail:_("coupon.created_successfully"),life:3e3})}finally{r.value=!1}};return(o,e)=>{const i=u("InputText"),m=u("Button"),x=u("Dropdown"),h=u("InputNumber"),w=u("Calendar"),V=u("Toast"),$=N("can");return d(),c(F,null,[T((d(),c("div",S,[t("h1",j,l(o.$t("coupon.create_new_coupon")),1),t("form",{onSubmit:q(y,["prevent"]),class:"space-y-6"},[t("div",L,[t("div",R,[t("label",A,[p(l(o.$t("coupon.code"))+" ",1),e[4]||(e[4]=t("span",{class:"text-red-500"},"*",-1))]),t("div",E,[n(i,{id:"code",modelValue:s.value.code,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.code=a),placeholder:o.$t("coupon.enter_code"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"]),n(m,{type:"button",onClick:g,icon:"pi pi-refresh",class:"px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition",title:o.$t("coupon.generate_random_code")},null,8,["title"])])]),t("div",z,[t("label",G,[p(l(o.$t("coupon.discount_type"))+" ",1),e[5]||(e[5]=t("span",{class:"text-red-500"},"*",-1))]),n(x,{filter:"",id:"discount_type",modelValue:s.value.discount_type,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.discount_type=a),options:[{label:o.$t("coupon.fixed_amount"),value:1},{label:o.$t("coupon.percentage"),value:2}],optionLabel:"label",optionValue:"value",placeholder:o.$t("coupon.select_discount_type"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,8,["modelValue","options","placeholder"])]),t("div",H,[t("label",J,[p(l(o.$t("coupon.discount_value"))+" ",1),e[6]||(e[6]=t("span",{class:"text-red-500"},"*",-1))]),n(h,{id:"discount_value",modelValue:s.value.discount_value,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.discount_value=a),min:0,max:s.value.discount_type===2?100:null,placeholder:o.$t("coupon.enter_discount_value"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","max","placeholder"]),s.value.discount_type===2?(d(),c("small",K,l(o.$t("coupon.percentage_note")),1)):B("",!0)]),t("div",O,[t("label",P,[p(l(o.$t("coupon.expiration_date"))+" ",1),e[7]||(e[7]=t("span",{class:"text-red-500"},"*",-1))]),n(w,{id:"expires_at",modelValue:s.value.expires_at,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.expires_at=a),minDate:new Date,dateFormat:"yy-mm-dd",placeholder:o.$t("coupon.select_expiration_date"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,8,["modelValue","minDate","placeholder"])])]),t("div",Q,[n(m,{type:"submit",label:o.$t("coupon.create_coupon"),icon:"pi pi-plus",loading:r.value,class:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:r.value},{default:M(()=>[r.value?(d(),c("i",X)):(d(),c("span",W,l(o.$t("coupon.create_coupon")),1))]),_:1},8,["label","loading","disabled"])])],32)])),[[$,"create coupons"]]),n(V)],64)}}},se=D(Z,[["__scopeId","data-v-e4354328"]]);export{se as default};
