import{_ as I,m as T,b as B,I as C,u as q,r as i,e as F,n as c,Q as M,o as p,f as _,y as x,g as a,t as d,x as m,h as o,L as N,j,i as L,G as R,F as S,a as y}from"./index-a3454f94.js";const A={class:"max-w-3xl mx-auto p-6 bg-white rounded-xl shadow-lg"},E={class:"text-3xl font-bold text-center mb-8 text-gray-800"},G={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Q={class:"space-y-2"},H={for:"address_line_1",class:"block text-sm font-medium text-gray-700"},J={class:"space-y-2"},K={for:"address_line_1",class:"block text-sm font-medium text-gray-700"},O={class:"space-y-2"},P={for:"address_line_2",class:"block text-sm font-medium text-gray-700"},W={class:"space-y-2"},X={for:"city",class:"block text-sm font-medium text-gray-700"},Y={class:"space-y-2"},Z={for:"country",class:"block text-sm font-medium text-gray-700"},ee={class:"space-y-2"},se={for:"zip_code",class:"block text-sm font-medium text-gray-700"},ae={class:"space-y-2"},le={class:"flex items-center space-x-2"},te={class:"text-sm font-medium text-gray-700"},de={class:"pt-4 flex justify-between"},oe={key:0},re={key:1,class:"pi pi-spinner pi-spin"},ne={__name:"update",setup(ue){const V=T(),f=B(),b=C(),{t:n}=q(),r=i(!1),g=i(V.params.id),v=i([]),l=i({user:null,address_line_1:"",address_line_2:"",city:"",country:"",zip_code:"",is_default:!1}),w=()=>{y.get("api/user").then(e=>{v.value=e.data.data.data,$()})},$=async()=>{r.value=!0;try{const e=await y.get(`/api/address/${g.value}`);l.value=e.data.data,l.value.is_default=e.data.data.is_default==1}catch{b.add({severity:"error",summary:n("error"),detail:n("address.load_error"),life:3e3}),f.push({name:"address"})}finally{r.value=!1}},k=async()=>{r.value=!0;try{l.value.is_default=l.value.is_default?"1":"0",await y.put(`/api/address/${g.value}`,l.value),f.push({name:"address"}),b.add({severity:"success",summary:n("success"),detail:n("address.updated_successfully"),life:3e3})}catch{b.add({severity:"error",summary:n("error"),detail:n("address.update_error"),life:3e3})}finally{r.value=!1}};return F(()=>{w()}),(e,s)=>{const U=c("Dropdown"),u=c("InputText"),h=c("Button"),z=c("Toast"),D=M("can");return p(),_(S,null,[x((p(),_("div",A,[a("h1",E,d(e.$t("address.update_address")),1),a("form",{onSubmit:R(k,["prevent"]),class:"space-y-6 grid grid-cols-1 gap-3"},[a("div",G,[a("div",Q,[a("label",H,[m(d(e.$t("user.name"))+" ",1),s[8]||(s[8]=a("span",{class:"text-red-500"},"*",-1))]),o(U,{filter:"",modelValue:l.value.user_id,"onUpdate:modelValue":s[0]||(s[0]=t=>l.value.user_id=t),options:v.value,optionLabel:"name",optionValue:"id",placeholder:e.$t("user.name"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options","placeholder"])]),a("div",J,[a("label",K,[m(d(e.$t("address.line1"))+" ",1),s[9]||(s[9]=a("span",{class:"text-red-500"},"*",-1))]),o(u,{id:"address_line_1",modelValue:l.value.address_line_1,"onUpdate:modelValue":s[1]||(s[1]=t=>l.value.address_line_1=t),placeholder:e.$t("address.enter_line1"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),a("div",O,[a("label",P,d(e.$t("address.line2")),1),o(u,{id:"address_line_2",modelValue:l.value.address_line_2,"onUpdate:modelValue":s[2]||(s[2]=t=>l.value.address_line_2=t),placeholder:e.$t("address.enter_line2"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue","placeholder"])]),a("div",W,[a("label",X,[m(d(e.$t("address.city"))+" ",1),s[10]||(s[10]=a("span",{class:"text-red-500"},"*",-1))]),o(u,{id:"city",modelValue:l.value.city,"onUpdate:modelValue":s[3]||(s[3]=t=>l.value.city=t),placeholder:e.$t("address.enter_city"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),a("div",Y,[a("label",Z,[m(d(e.$t("address.country"))+" ",1),s[11]||(s[11]=a("span",{class:"text-red-500"},"*",-1))]),o(u,{id:"country",modelValue:l.value.country,"onUpdate:modelValue":s[4]||(s[4]=t=>l.value.country=t),placeholder:e.$t("address.enter_country"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),a("div",ee,[a("label",se,d(e.$t("address.zip_code")),1),o(u,{id:"zip_code",modelValue:l.value.zip_code,"onUpdate:modelValue":s[5]||(s[5]=t=>l.value.zip_code=t),placeholder:e.$t("address.enter_zip_code"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue","placeholder"])]),a("div",ae,[a("label",le,[x(a("input",{type:"checkbox",class:"w-5 h-5 mx-2","onUpdate:modelValue":s[6]||(s[6]=t=>l.value.is_default=t),binary:!0},null,512),[[N,l.value.is_default]]),a("span",te,d(e.$t("address.set_as_default")),1)])])]),a("div",de,[o(h,{type:"button",label:e.$t("cancel"),icon:"pi pi-times",onClick:s[7]||(s[7]=t=>j(f).push({name:"address"})),class:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg shadow transition-all duration-300",disabled:r.value},null,8,["label","disabled"]),o(h,{type:"submit",label:e.$t("update"),icon:"pi pi-check",loading:r.value,class:"px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300",disabled:r.value},{default:L(()=>[r.value?(p(),_("i",re)):(p(),_("span",oe,d(e.$t("update")),1))]),_:1},8,["label","loading","disabled"])])],32)])),[[D,"edit address"]]),o(z)],64)}}},ce=I(ne,[["__scopeId","data-v-9a3818d2"]]);export{ce as default};
