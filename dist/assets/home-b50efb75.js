import{S as y,A as S,a as I,P as G}from"./ProductOffers-4aae7b76.js";import{_ as D,u as F,r as o,o as H,a,c as _,b as f,w as c,F as C,d as $,e as n,f as l,g as x,h as k,t as L,i as T,j as J,k as K,l as Q,m as U}from"./index-39233d5b.js";import{N as R}from"./navigation-6224ce33.js";import{C as W}from"./CustomTaps-90065443.js";/* empty css                   */const X={class:"mx-auto max-w-[1400px] px-4"},Y=["onClick"],Z=["src","alt"],A={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8 max-w-7xl mx-auto"},ee={class:"rounded-xl shadow-lg overflow-hidden"},se=["onClick"],te=["src","alt"],ae={class:"bg-white rounded-xl shadow-lg overflow-hidden"},le=["onClick"],ne=["src","alt"],oe={key:1,class:"py-2 rounded-sm px-2 bg-[#1F3A932B] mx-auto max-w-7xl"},re=["onClick"],ie=["src","alt"],de={class:"p-3 w-full text-center rounded-xl"},ue={class:"font-bold text-sm text-black"},ce={key:2,class:"my-8 max-w-5xl mx-auto"},me=["src"],_e={__name:"StoreDetails",setup(E){const h=F(),m=o([]),v=o([]),w=o([]),M=o(null),b=o(null),N=o(null),j=o([]),V=o(localStorage.getItem("defaultStoreId")||"4"),i=o(null),g=(t,r)=>(t==null?void 0:t.find(e=>e.name===r))||null,d=(t,r)=>(t==null?void 0:t.filter(e=>e.name===r))||[],p=t=>{if(!t||!t.media_links){console.log("Media item or media links are missing. Cannot navigate.",t);return}const{type:r,id:e}=t.media_links;r===1?h.push({name:"customtap-category",params:{id:e}}):r===2?h.push({name:"customtap-product",params:{id:e}}):h.push({name:"customtap-brand",params:{id:e}})},P=t=>{h.push({name:"subcategory",params:{id:t.id}})},B=async()=>{try{const t=await T.get(`/api/home/store-details/${V.value}`),{store:r}=t.data.data,e=r.media||[],s=r.media_links||[],u=e.map(O=>{const z=s.find(q=>q.media_id===O.id);return{...O,media_links:O.media_links||z||null}});m.value=d(u,"slider_images_one"),v.value=d(u,"slider_images_two"),w.value=d(u,"slider_images_three"),M.value=g(u,"main_banner_image"),b.value=g(u,"sub_banner_image"),N.value=g(u,"store_image"),j.value=r.categories||[],i.value&&i.value.swiper&&(i.value.swiper.update(),i.value.swiper.autoplay.start())}catch(t){console.error("Error fetching store details:",t)}};return H(()=>{V.value&&B()}),(t,r)=>(a(),_("div",X,[m.value.length?(a(),f(n(I),{key:0,modules:[n(S),n(R)],breakpoints:{320:{slidesPerView:1},640:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:1}},"space-between":10,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:!1,class:"w-full"},{default:c(()=>[(a(!0),_(C,null,$(m.value,(e,s)=>(a(),f(n(y),{key:s},{default:c(()=>[l("div",{onClick:u=>p(e),class:"flex w-full max-h-[50vh] items-center justify-center bg-gradient-to-br from-gray-50 to-gray-300 rounded-xl shadow-lg overflow-hidden cursor-pointer"},[l("img",{src:e.url,alt:`Slider Image ${s+1}`,class:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-500"},null,8,Z)],8,Y)]),_:2},1024))),128))]),_:1},8,["modules"])):x("",!0),l("div",A,[l("div",ee,[v.value.length?(a(),f(n(I),{key:0,modules:[n(S)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:c(()=>[(a(!0),_(C,null,$(v.value,(e,s)=>(a(),f(n(y),{key:"two-"+s},{default:c(()=>[l("div",{onClick:u=>p(e),class:"flex w-full max-h-64 items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl overflow-hidden cursor-pointer"},[l("img",{src:e.url,alt:`Slider Two Image ${s+1}`,class:"w-full h-64 object-cover rounded-xl transform hover:scale-105 transition-transform duration-500"},null,8,te)],8,se)]),_:2},1024))),128))]),_:1},8,["modules"])):x("",!0)]),l("div",ae,[w.value.length?(a(),f(n(I),{key:0,modules:[n(S)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:c(()=>[(a(!0),_(C,null,$(w.value,(e,s)=>(a(),f(n(y),{key:"three-"+s},{default:c(()=>[l("div",{onClick:u=>p(e),class:"flex w-full h-64 items-center justify-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl overflow-hidden cursor-pointer"},[l("img",{src:e.url,alt:`Slider Three Image ${s+1}`,class:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-500"},null,8,ne)],8,le)]),_:2},1024))),128))]),_:1},8,["modules"])):x("",!0)])]),j.value.length>1?(a(),_("div",oe,[k(n(I),{ref_key:"categoriesSwiper",ref:i,modules:[n(S)],"slides-per-view":8,"space-between":10,navigation:!1,autoplay:{delay:600,disableOnInteraction:!1},pagination:{clickable:!0},class:"w-full",breakpoints:{320:{slidesPerView:2},640:{slidesPerView:2},768:{slidesPerView:5},1024:{slidesPerView:7}}},{default:c(()=>[(a(!0),_(C,null,$(j.value,(e,s)=>(a(),f(n(y),{key:s},{default:c(()=>{var u;return[l("div",{onClick:O=>P(e),class:"flex flex-col items-center justify-center rounded-xl h-full w-full cursor-pointer"},[e!=null&&e.media?(a(),_("img",{key:0,src:(u=e==null?void 0:e.media[0])==null?void 0:u.url,alt:e.name_en||"Category Image",class:"w-full h-full object-cover rounded-xl"},null,8,ie)):x("",!0),l("div",de,[l("span",ue,L(e!=null&&e.name_ar?e.name_ar.slice(0,20):"Category"),1)])],8,re)]}),_:2},1024))),128))]),_:1},8,["modules"])])):x("",!0),b.value?(a(),_("div",ce,[l("div",{onClick:r[0]||(r[0]=e=>p(b.value)),class:"relative overflow-hidden rounded-2xl shadow-lg animate-banner-slide cursor-pointer"},[l("img",{src:b.value.url,class:"w-full h-64 sm:h-40 md:h-46 object-cover transition-transform duration-700 hover:scale-105",loading:"lazy"},null,8,me),r[1]||(r[1]=l("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent flex items-center justify-center p-6"},null,-1))])])):x("",!0)]))}},pe=D(_e,[["__scopeId","data-v-e4e371a3"]]);const fe={class:"min-h-[100vh]"},he=["onClick"],ge=["src"],ve={class:"contaner"},we={class:"mx-auto mt-16 w-[100%] max-w-7xl"},be={__name:"home",setup(E){J();const h=F();K(),o({title:"",products:[]}),o({title:"",products:[]});const m=o({}),v=o([]),w=o({}),M=o({});o({title:"",products:[]}),o(!1),o(null),o(localStorage.getItem("appLang")||"ar");const b=o(localStorage.getItem("defaultStoreId")),N=Q(()=>Object.values(w.value)),j=i=>{console.log(i),i.has_subcategories?h.push({name:"subcategory",params:{id:i.id}}):h.push({name:"produts_category",params:{id:i.id}})},V=async()=>{var i,g,d,p,P,B,t;try{(await T.get(`api/home/get-categories/${b.value}`)).data.data.forEach(s=>{w.value[s.id]={name:localStorage.getItem("appLang")=="en"?s.name_en:s.name_ar||s.name_en,id:s.id,has_subcategories:s.has_subcategories}});const e=await T.get("api/home/get-media-link");v.value=e.data.data.map(s=>({url:s.url,id:s.id})),((i=m.value.media)==null?void 0:i.length)>0&&(M.value={store_image:(g=m.value.media.find(s=>s.name=="store_image"))==null?void 0:g.url,sub_banner_image:(d=m.value.media.find(s=>s.name=="sub_banner_image"))==null?void 0:d.url,slider_images_one:(p=m.value.media.find(s=>s.name=="slider_images_one"))==null?void 0:p.url,slider_images_two:(P=m.value.media.find(s=>s.name=="slider_images_two"))==null?void 0:P.url,slider_images_three:(B=m.value.media.find(s=>s.name=="slider_images_three"))==null?void 0:B.url,main_banner_image:(t=m.value.media.find(s=>s.name=="main_banner_image"))==null?void 0:t.url})}catch(r){console.error("Error fetching data:",r)}};return U(()=>{V()}),(i,g)=>(a(),_("main",fe,[l("header",null,[k(n(I),{modules:[n(S),n(R)],"slides-per-view":5,"space-between":25,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},speed:3e3,navigation:!1,"grab-cursor":"",class:"h-[58px] mt-2",breakpoints:{0:{slidesPerView:4,spaceBetween:5},480:{slidesPerView:3,spaceBetween:5},768:{slidesPerView:4,spaceBetween:5},1024:{slidesPerView:8,spaceBetween:5}}},{default:c(()=>[(a(!0),_(C,null,$(N.value,d=>(a(),f(n(y),{key:d.id,class:"flex items-center justify-center"},{default:c(()=>[l("div",{class:"titels font-sans bg-[#1F3A93] h-[40px] min-w-[80px] sm:h-[44px] sm:min-w-[100px] md:h-[48px] md:min-w-[140px] text-[.5rem] sm:text-[.8rem] md:text-[.8rem] text-center place-content-center font-bold rounded-lg shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl cursor-pointer text-white",onClick:p=>j(d)},L(d.name),9,he)]),_:2},1024))),128))]),_:1},8,["modules"]),k(n(I),{modules:[n(S)],"slides-per-view":1.3,"centered-slides":!0,"space-between":10,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},speed:3e3,"grab-cursor":"",class:"my-swiper mt-2"},{default:c(()=>[(a(!0),_(C,null,$(v.value,(d,p)=>(a(),f(n(y),{key:p,class:"flex justify-center"},{default:c(()=>[l("img",{src:d.url,class:"w-full h-auto max-w-[1200px] max-h-[600px] object-contain mb-2 rounded-lg"},null,8,ge)]),_:2},1024))),128))]),_:1},8,["modules"])]),k(pe),l("div",ve,[l("section",we,[k(G)]),k(W)])]))}},Ce=D(be,[["__scopeId","data-v-bc2dbfa3"]]);export{Ce as default};
