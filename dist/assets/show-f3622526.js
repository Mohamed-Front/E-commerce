import{_ as b,u as g,m as k,b as $,H as I,r as y,e as j,o as n,f as c,g as s,h as a,j as e,i as r,t as o,a as D,V as N,W as V,x as u,a1 as q,a3 as v,Y as B,X as _}from"./index-ef259121.js";const E={class:"grid"},R={class:"col-12"},T={class:"card p-4 shadow-2 border-round"},W={key:0,class:"flex justify-content-center align-items-center py-4"},C={key:1},G={class:"grid"},H={class:"col-12 md:col-6"},M={class:"my-1"},O={class:"text-xl font-bold"},P=["src"],S={key:1},X={class:"text-center py-4"},Y={class:"text-xl"},z={key:2,class:"text-center py-4"},A={class:"text-xl"},F={__name:"show",setup(J){const{t}=g(),x=k();$();const f=I(),i=y(null),h=y(!0),w=()=>{h.value=!0,D.get(`/api/order/${x.params.id}`).then(p=>{i.value=p.data.data,h.value=!1}).catch(p=>{f.add({severity:"error",summary:t("error"),detail:t("order.loadError"),life:3e3}),h.value=!1,console.error("Error fetching order data:",p)})};return j(()=>{w()}),(p,l)=>(n(),c("div",E,[s("div",R,[s("div",T,[a(e(N)),h.value?(n(),c("div",W,[a(e(V),{style:{width:"50px",height:"50px"},strokeWidth:"4"})])):i.value?(n(),c("div",C,[a(e(v),{class:"mb-4"},{title:r(()=>l[0]||(l[0]=[s("div",{class:"flex justify-content-between align-items-center"},null,-1)])),content:r(()=>[s("div",G,[s("div",H,[s("p",M,[s("strong",null,o(e(t)("order.totalPrice"))+":",1),u(" $"+o(i.value.total_price),1)]),s("p",null,[s("strong",null,o(e(t)("order.status"))+":",1),a(e(q),{value:i.value.status===0?e(t)("order.pending"):e(t)("order.completed"),severity:i.value.status===0?"warning":"success"},null,8,["value","severity"])])])])]),_:1}),a(e(v),null,{title:r(()=>[s("h3",O,o(e(t)("order.items")),1)]),content:r(()=>[a(e(B),{value:i.value.order_items,"responsive-layout":"scroll",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{empty:r(()=>[s("div",X,[l[1]||(l[1]=s("i",{class:"pi pi-exclamation-circle text-2xl mb-2"},null,-1)),s("p",Y,o(e(t)("order.noItems")),1)])]),default:r(()=>[a(e(_),{field:"id",header:e(t)("order.itemId"),sortable:!0,"header-style":"width:10%; min-width:8rem;"},{body:r(d=>[u(o(d.data.id),1)]),_:1},8,["header"]),a(e(_),{field:"product.name_en",header:e(t)("order.productName"),sortable:!0,"header-style":"width:20%; min-width:12rem;"},{body:r(d=>[u(o(d.data.product.name_en),1)]),_:1},8,["header"]),a(e(_),{field:"quantity",header:e(t)("order.quantity"),sortable:!0,"header-style":"width:15%; min-width:10rem;"},{body:r(d=>[u(o(d.data.quantity),1)]),_:1},8,["header"]),a(e(_),{field:"price",header:e(t)("order.price"),sortable:!0,"header-style":"width:15%; min-width:10rem;"},{body:r(d=>[u(" $"+o(d.data.price),1)]),_:1},8,["header"]),a(e(_),{header:e(t)("order.image"),"header-style":"width:15%; min-width:10rem;"},{body:r(d=>{var m;return[(m=d.data.product.media[0])!=null&&m.url?(n(),c("img",{key:0,src:d.data.product.media[0].url,alt:"Product Image",class:"w-1rem h-1rem object-cover border-round"},null,8,P)):(n(),c("span",S,o(e(t)("order.noImage")),1))]}),_:1},8,["header"])]),_:1},8,["value"])]),_:1})])):(n(),c("div",z,[l[2]||(l[2]=s("i",{class:"pi pi-exclamation-circle text-2xl mb-2"},null,-1)),s("p",A,o(e(t)("order.noData")),1)]))])])]))}},L=b(F,[["__scopeId","data-v-e7ee3ea1"]]);export{L as default};
