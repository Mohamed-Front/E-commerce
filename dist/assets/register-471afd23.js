import{_ as U,u as A,q as L,r as g,l as z,a as s,c as l,f as e,p as S,x as B,A as h,B as w,t as r,g as y,U as $,F as k,d as _,W as T,e as i,O as F}from"./index-699d78fd.js";const H={class:"bg-gray-900 min-h-screen flex items-start justify-center p-4 overflow-hidden",dir:"rtl"},N={class:"bg-white rounded-3xl shadow-2xl p-4 w-full max-w-sm sm:max-w-lg my-8"},D={class:"bg-gray-100 rounded-xl p-1 mb-4 flex transition-all duration-300"},G={class:"space-y-4"},I={class:"relative"},O={key:0,class:"text-red-500 text-sm text-right"},R={key:0,class:"flex"},q=["value"],P={key:2,class:"text-red-500 text-sm text-right"},W={class:"relative"},J=["type"],K={class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"},Q={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},Y={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},Z={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ee={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.015 10.015 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.965 9.965 0 011.313-2.617M15 12a3 3 0 11-6 0 3 3 0 016 0z"},te={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0zM2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},oe={key:0,class:"text-red-500 text-sm text-right"},se={key:3,class:"text-red-500 text-center text-sm"},le={key:4,class:"text-red-500 text-sm text-center"},ne=["disabled"],ae=["disabled"],re={class:"mt-8 text-center text-sm text-gray-500"},ie={__name:"register",setup(de){const f=A(),n=L(),a=g("phone"),d=g(""),p=g(""),b=g("+962"),v=g(""),x=g(""),m=g(!1),V=[{name:"السعودية",code:"+966"},{name:"الإمارات",code:"+971"},{name:"مصر",code:"+20"},{name:"الكويت",code:"+965"},{name:"قطر",code:"+974"},{name:"الجزائر",code:"+213"},{name:"البحرين",code:"+973"},{name:"جزر القمر",code:"+269"},{name:"جيبوتي",code:"+253"},{name:"العراق",code:"+964"},{name:"الأردن",code:"+962"},{name:"لبنان",code:"+961"},{name:"ليبيا",code:"+218"},{name:"المغرب",code:"+212"},{name:"موريتانيا",code:"+222"},{name:"عمان",code:"+968"},{name:"فلسطين",code:"+970"},{name:"الصومال",code:"+252"},{name:"السودان",code:"+249"},{name:"سوريا",code:"+963"},{name:"تونس",code:"+216"},{name:"اليمن",code:"+967"}],u=z(()=>{const c={};return d.value&&d.value.length<2&&(c.name="الاسم يجب أن يكون حرفين على الأقل"),c}),M=z(()=>d.value&&d.value.length>=2&&x.value&&x.value.length>=6&&(a.value==="phone"?p.value&&/^\d{7,15}$/.test(p.value):v.value&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.value))),C=c=>{a.value=c,n.clearErrors("register"),n.clearErrors("googleLogin")},j=async()=>{if(n.clearErrors("register"),!M.value){n.authErrors.register=Object.values(u.value);return}const c={name:d.value,email:v.value,password:x.value,phone:a.value==="phone"?p.value:void 0,countryCode:a.value==="phone"?b.value:void 0,otp_type:a.value==="phone"?"whatsapp":"email"};await n.handleRegister(c,f)},E=async()=>{await n.handleGoogleLogin({},f)};return(c,t)=>(s(),l("div",H,[e("div",N,[t[13]||(t[13]=e("div",{class:"flex flex-col items-center mb-8"},[e("img",{src:S,alt:"SHIFT7 Logo",class:"h-16 w-16 object-contain"})],-1)),e("div",D,[e("button",{onClick:t[0]||(t[0]=o=>C("phone")),class:B(["flex-1 mx-2 py-3 px-4 rounded-xl font-bold transition-colors duration-300",a.value==="phone"?"bg-yellow-400 text-gray-700":"bg-white text-gray-500"])}," تسجيل الدخول بالهاتف ",2),e("button",{onClick:t[1]||(t[1]=o=>C("email")),class:B(["flex-1 py-3 px-4 rounded-xl font-bold transition-colors duration-300",a.value==="email"?"bg-yellow-400 text-gray-700":"bg-white text-gray-500"])}," تسجيل الدخول بالبريد الإلكتروني ",2)]),e("div",G,[e("div",I,[h(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>d.value=o),placeholder:"ادخل اسمك",class:"w-full px-4 py-3 pr-12 rounded-xl bg-gray-100 placeholder-gray-400 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow text-right"},null,512),[[w,d.value]]),t[9]||(t[9]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),u.value.name?(s(),l("div",O,r(u.value.name),1)):y("",!0)]),a.value==="phone"?(s(),l("div",R,[h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>b.value=o),class:"w-1/3 px-4 py-3 rounded-tr-xl rounded-br-xl bg-gray-100 text-gray-700 focus:outline-none transition-shadow text-right"},[(s(),l(k,null,_(V,o=>e("option",{key:o.code,value:o.code},r(o.name)+" "+r(o.code),9,q)),64))],512),[[$,b.value]]),h(e("input",{type:"tel","onUpdate:modelValue":t[4]||(t[4]=o=>p.value=o),placeholder:"ادخل رقم الهاتف",class:"w-2/3 px-4 py-3 rounded-tl-xl rounded-bl-xl bg-gray-100 placeholder-gray-400 text-gray-700 focus:outline-none transition-shadow text-right"},null,512),[[w,p.value]])])):h((s(),l("input",{key:1,type:"email","onUpdate:modelValue":t[5]||(t[5]=o=>v.value=o),placeholder:"ادخل بريدك الإلكتروني",class:"w-full px-4 py-3 rounded-xl bg-gray-100 placeholder-gray-400 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow text-right"},null,512)),[[w,v.value]]),u.value.email?(s(),l("div",P,r(u.value.email),1)):y("",!0),e("div",W,[h(e("input",{type:m.value?"text":"password","onUpdate:modelValue":t[6]||(t[6]=o=>x.value=o),placeholder:"ادخل كلمة المرور",class:"w-full px-4 py-3 pr-12 rounded-xl bg-gray-100 placeholder-gray-400 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow text-right"},null,8,J),[[T,x.value]]),e("div",K,[(s(),l("svg",Q,[t[10]||(t[10]=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15a4 4 0 110-8 4 4 0 010 8z"},null,-1)),m.value?(s(),l("path",Y)):(s(),l("path",X))]))]),e("button",{type:"button",onClick:t[7]||(t[7]=o=>m.value=!m.value),class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 hover:text-gray-600"},[(s(),l("svg",Z,[m.value?(s(),l("path",te)):(s(),l("path",ee))]))]),u.value.password?(s(),l("div",oe,r(u.value.password),1)):y("",!0)]),i(n).getErrorsByAction("register").length?(s(),l("div",se,[(s(!0),l(k,null,_(i(n).getErrorsByAction("register"),o=>(s(),l("p",{key:o},r(o),1))),128))])):y("",!0),i(n).getErrorsByAction("googleLogin").length?(s(),l("div",le,[(s(!0),l(k,null,_(i(n).getErrorsByAction("googleLogin"),o=>(s(),l("p",{key:o},r(o),1))),128))])):y("",!0)]),e("button",{onClick:j,disabled:i(n).loading||!M.value,class:"w-full mt-8 py-3 bg-blue-700 text-white font-bold rounded-xl shadow-lg hover:bg-blue-800 transition-colors duration-300 disabled:bg-gray-400"},r(i(n).loading?"جاري التسجيل...":"تسجيل"),9,ne),t[14]||(t[14]=e("div",{class:"flex items-center my-6"},[e("div",{class:"flex-grow border-t border-gray-300"}),e("span",{class:"mx-4 text-gray-400 text-xs font-semibold"},"أو"),e("div",{class:"flex-grow border-t border-gray-300"})],-1)),e("button",{onClick:E,disabled:i(n).loading,class:"w-full py-3 bg-white border border-gray-300 rounded-xl shadow-sm hover:shadow-md flex items-center justify-center space-x-2"},t[11]||(t[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg","aria-label":"Google",role:"img",viewBox:"0 0 512 512",class:"w-6 h-6"},[e("rect",{width:"512",height:"512",rx:"15%",fill:"#ffffff"}),e("path",{d:"M488 261.2c0-14.7-1.4-29.1-4.1-43.1H256v82.2h135.5c-5.7 29.8-22.3 55.4-46.1 73.1v53.4h68.8c40.3-37.1 63.5-91.8 63.5-165.6z",fill:"#4285f4"}),e("path",{d:"M256 496c69.8 0 128.4-22.9 171.2-62.5l-68.8-53.4c-19.1 13.5-44.5 21.6-76.4 21.6-58.6 0-108.4-39.6-126.3-92.4H68.8v53.4C106.8 447.2 176.6 496 256 496z",fill:"#34a853"}),e("path",{d:"M129.7 302.5c-3.1-9.2-4.9-19-4.9-29.2s1.8-19.9 4.9-29.2V190H68.8c-10.2 20.3-15.8 43.8-15.8 68.8s5.6 48.5 15.8 68.8L129.7 302.5z",fill:"#fbbc04"}),e("path",{d:"M256 106.8c34.8 0 65.9 12 90.3 35.5l61.2-61.2c-38.3-36.4-88.6-58.1-151.5-58.1-79.4 0-149.2 48.8-187.2 122.8l61.2 47.5c17.9-52.8 67.7-92.4 126.3-92.4z",fill:"#ea4335"})],-1),e("span",{class:"text-gray-700 font-semibold"},"المتابعة باستخدام جوجل",-1)]),8,ae),e("div",re,[t[12]||(t[12]=F(" لديك حساب بالفعل؟ ")),e("a",{onClick:t[8]||(t[8]=o=>i(f).push({name:"authlog"})),class:"text-blue-600 cursor-pointer font-semibold hover:underline"},"تسجيل الدخول")])])]))}},ce=U(ie,[["__scopeId","data-v-57451acb"]]);export{ce as default};
