import{_ as ve,b as ge,m as be,I as fe,u as ye,r as f,d as A,e as xe,n as w,Q as he,y as Ve,o as y,f as x,g as a,t as d,j as i,x as b,h as u,q as h,F as P,s as J,l as K,G as k,a as U}from"./index-a3454f94.js";const ke=["dir"],we={class:"text-3xl font-bold text-center mb-8 text-gray-800"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ue={class:"space-y-2"},De={for:"store_id",class:"block text-sm font-medium text-gray-700"},Ce={class:"space-y-2"},Le={for:"category_id",class:"block text-sm font-medium text-gray-700"},Fe={class:"space-y-2"},$e={for:"brand_id",class:"block text-sm font-medium text-gray-700"},Te={class:"space-y-2"},Ae={for:"sku",class:"block text-sm font-medium text-gray-700"},Se={class:"space-y-2"},je={for:"name_en",class:"block text-sm font-medium text-gray-700"},Re={class:"space-y-2"},Pe={for:"name_ar",class:"block text-sm font-medium text-gray-700"},Me={class:"space-y-2"},Be={for:"sub_name_en",class:"block text-sm font-medium text-gray-700"},Ee={class:"space-y-2"},Ne={for:"sub_name_ar",class:"block text-sm font-medium text-gray-700"},qe={class:"md:col-span-2 space-y-2"},ze={for:"description_en",class:"block text-sm font-medium text-gray-700"},Ge={class:"md:col-span-2 space-y-2"},Oe={for:"description_ar",class:"block text-sm font-medium text-gray-700"},Qe={class:"space-y-2"},He={for:"tax",class:"block text-sm font-medium text-gray-700"},Je={class:"space-y-2"},Ke={for:"is_displayed",class:"block text-sm font-medium text-gray-700"},We={class:"space-y-2"},Xe={for:"base_price",class:"block text-sm font-medium text-gray-700"},Ye={class:"space-y-2"},Ze={for:"cost_price",class:"block text-sm font-medium text-gray-700"},ea={class:"md:col-span-2 space-y-2"},aa={class:"flex items-center"},ta={for:"hasVariants",class:"text-sm font-medium text-gray-700"},sa={key:1,class:"md:col-span-2 space-y-4"},la={class:"border-b pb-2"},oa={class:"text-lg font-semibold text-gray-800"},ia={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ra={class:"space-y-2 md:col-span-2"},da=["for"],na={class:"space-y-2"},ua=["for"],ca={class:"space-y-2"},pa=["for"],ma={class:"space-y-2"},_a=["for"],va={class:"space-y-2"},ga=["for"],ba=["for","onDrop"],fa=["id","onChange"],ya={key:0,class:"p-4"},xa={class:"relative group"},ha=["src"],Va={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},ka=["onClick","title"],wa={class:"mt-2 text-center text-sm text-gray-500"},Ia={key:1,class:"p-4 flex flex-col items-center justify-center"},Ua={class:"text-xs text-center text-gray-600"},Da={class:"text-blue-500 font-medium"},Ca={class:"text-xs text-gray-400"},La={class:"flex justify-end"},Fa={class:"md:col-span-2 space-y-2"},$a={class:"block text-sm font-medium text-gray-700"},Ta={key:0,class:"flex flex-col items-center"},Aa={class:"relative group"},Sa=["src"],ja={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Ra=["title"],Pa={class:"mt-2 text-center text-sm text-gray-500"},Ma={key:1,class:"flex flex-col items-center justify-center space-y-3"},Ba={class:"text-sm text-center text-gray-600"},Ea={class:"text-blue-500 font-medium"},Na={class:"text-xs text-gray-400"},qa={class:"md:col-span-2 space-y-2"},za={class:"block text-sm font-medium text-gray-700"},Ga={key:0,class:"space-y-4"},Oa={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Qa=["src"],Ha={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Ja=["onClick","title"],Ka={class:"text-center text-sm text-gray-500"},Wa={key:1,class:"flex flex-col items-center justify-center space-y-3"},Xa={class:"text-sm text-center text-gray-600"},Ya={class:"text-blue-500 font-medium"},Za={class:"text-xs text-gray-400"},et={class:"pt-4 flex justify-center space-x-4"},at={__name:"update",setup(tt){const M=ge(),B=be(),m=fe(),{t}=ye();f();const F=f(!1),g=f(!1),E=f([]),N=f([]),q=f([]),z=f([]),V=f(!1),D=f(null),I=f(null),S=f([]),C=f([]),$=A(()=>localStorage.getItem("appLang")||"en"),L=A(()=>$.value==="en"?"name_en":"name_ar"),W=A(()=>$.value==="ar"),s=f({store_id:null,category_id:null,brand_id:null,sku:"",name_en:"",name_ar:"",sub_name_en:"",sub_name_ar:"",description_en:"",description_ar:"",base_price:null,cost_price:null,tax:0,is_displayed:!0,variants:[]}),X=A(()=>z.value.map(l=>({label:$.value==="en"?l.name_en:l.name_ar,value:l.id,items:l.values.map(e=>({id:e.id,[L.value]:$.value==="en"?e.value_en:e.value_ar}))}))),Y=async()=>{try{const e=(await U.get(`/api/product/${B.params.id}`)).data.data;s.value={store_id:e.store_id,category_id:e.category_id,brand_id:e.brand_id,sku:e.sku||"",name_en:e.name_en,name_ar:e.name_ar,sub_name_en:e.sub_name_en||"",sub_name_ar:e.sub_name_ar||"",description_en:e.description_en||"",description_ar:e.description_ar||"",base_price:e.base_price||null,cost_price:e.cost_price||null,tax:e.tax||0,is_displayed:e.is_displayed===1,variants:e.variants.map(r=>({id:r.id,sku:r.sku||"",price:r.price,cost_price:r.cost_price||null,attribute_value_ids:r.attribute_values.map(c=>c.id),variant_image:null,variant_image_preview:r.media&&r.media.length>0?r.media[0].url:null}))||[]},V.value=e.has_variants,e.media&&e.media.length>0&&(I.value=e.media[0].url,e.media.length>1&&(C.value=e.media.slice(1).map(r=>r.url)))}catch{m.add({severity:"error",summary:t("error"),detail:t("error.productLoad"),life:3e3})}},Z=async()=>{try{const l=await U.get("/api/store");E.value=l.data.data.data}catch{m.add({severity:"error",summary:t("error"),detail:t("error.storeLoad"),life:3e3})}},ee=async()=>{try{const l=await U.get("/api/category");N.value=l.data.data.data}catch{m.add({severity:"error",summary:t("error"),detail:t("error.categoryLoad"),life:3e3})}},ae=async()=>{try{const l=await U.get("/api/brand");q.value=l.data.data.data}catch{m.add({severity:"error",summary:t("error"),detail:t("error.brandLoad"),life:3e3})}},te=async()=>{try{const l=await U.get("/api/product/create/data");z.value=l.data.data}catch{m.add({severity:"error",summary:t("error"),detail:t("error.attributeLoad"),life:3e3})}};xe(()=>{Z(),ee(),ae(),te(),Y()});const se=l=>{if(l.size>2*1024*1024){m.add({severity:"error",summary:t("error"),detail:t("validation.imageSize"),life:3e3});return}if(!l.type.match("image.*")){m.add({severity:"error",summary:t("error"),detail:t("validation.imageInvalid"),life:3e3});return}D.value=l;const e=new FileReader;e.onload=r=>{I.value=r.target.result},e.readAsDataURL(l)},G=l=>{var r,c,n;const e=((r=l.target.files)==null?void 0:r[0])||((n=(c=l.dataTransfer)==null?void 0:c.files)==null?void 0:n[0]);e&&se(e),g.value=!1},le=()=>{D.value=null,I.value=null},oe=l=>{for(let e=0;e<l.length;e++){const r=l[e];if(r.size>2*1024*1024){m.add({severity:"error",summary:t("error"),detail:t("validation.imageSize"),life:3e3});continue}if(!r.type.match("image.*")){m.add({severity:"error",summary:t("error"),detail:t("validation.imageInvalid"),life:3e3});continue}const c=new FileReader;c.onload=n=>{S.value.push(r),C.value.push(n.target.result)},c.readAsDataURL(r)}g.value=!1},O=l=>{var r;const e=l.target.files||((r=l.dataTransfer)==null?void 0:r.files);e&&e.length>0&&oe(e)},ie=l=>{S.value.splice(l,1),C.value.splice(l,1)},re=(l,e)=>{if(l.size>2*1024*1024){m.add({severity:"error",summary:t("error"),detail:t("validation.imageSize"),life:3e3});return}if(!l.type.match("image.*")){m.add({severity:"error",summary:t("error"),detail:t("validation.imageInvalid"),life:3e3});return}s.value.variants[e].variant_image=l;const r=new FileReader;r.onload=c=>{s.value.variants[e].variant_image_preview=c.target.result},r.readAsDataURL(l)},Q=(l,e)=>{var c,n,_;const r=((c=l.target.files)==null?void 0:c[0])||((_=(n=l.dataTransfer)==null?void 0:n.files)==null?void 0:_[0]);r&&re(r,e)},de=l=>{s.value.variants[l].variant_image=null,s.value.variants[l].variant_image_preview=null},ne=()=>{V.value=!V.value,V.value&&!s.value.variants.length?H():V.value||(s.value.variants=[])},H=()=>{s.value.variants.push({id:null,sku:"",price:"",cost_price:null,attribute_value_ids:[],variant_image:null,variant_image_preview:null})},ue=l=>{s.value.variants.length>1?s.value.variants.splice(l,1):m.add({severity:"warn",summary:t("error"),detail:t("validation.atLeastOneVariant"),life:3e3})},ce=async()=>{var r,c;if(["store_id","category_id","brand_id","name_en","name_ar","sku"].some(n=>!s.value[n])){m.add({severity:"error",summary:t("error"),detail:t("validation.requiredFields"),life:3e3});return}if(!I.value&&!D.value){m.add({severity:"error",summary:t("error"),detail:t("validation.mainImageRequired"),life:3e3});return}if(V.value){if(s.value.variants.some(n=>!n.sku||!n.price||n.attribute_value_ids.length===0)){m.add({severity:"error",summary:t("error"),detail:t("validation.variantRequiredFields"),life:3e3});return}}else if(!s.value.base_price){m.add({severity:"error",summary:t("error"),detail:t("validation.basePriceRequired"),life:3e3});return}F.value=!0;const e=new FormData;e.append("_method","PUT"),e.append("store_id",s.value.store_id),e.append("category_id",s.value.category_id),e.append("brand_id",s.value.brand_id),e.append("sku",s.value.sku),e.append("name_en",s.value.name_en),e.append("name_ar",s.value.name_ar),e.append("sub_name_en",s.value.sub_name_en||""),e.append("sub_name_ar",s.value.sub_name_ar||""),e.append("description_en",s.value.description_en||""),e.append("description_ar",s.value.description_ar||""),e.append("tax",s.value.tax),e.append("is_displayed",s.value.is_displayed?1:0),D.value&&e.append("main_image",D.value),S.value.forEach((n,_)=>{e.append(`images[${_}]`,n)}),V.value?s.value.variants.forEach((n,_)=>{e.append(`variants[${_}][id]`,n.id||""),e.append(`variants[${_}][sku]`,n.sku),e.append(`variants[${_}][price]`,n.price),e.append(`variants[${_}][cost_price]`,n.cost_price||0),Array.isArray(n.attribute_value_ids)&&n.attribute_value_ids.forEach((j,R)=>{e.append(`variants[${_}][attribute_value_ids][${R}]`,j)}),n.variant_image&&e.append(`variants[${_}][variant_image]`,n.variant_image)}):(e.append("base_price",s.value.base_price),e.append("cost_price",s.value.cost_price||0));try{await U.post(`/api/product/${B.params.id}`,e,{headers:{"Content-Type":"multipart/form-data"}}),M.push({name:"product"}),m.add({severity:"success",summary:t("success"),detail:t("product.updateSuccess"),life:3e3})}catch(n){m.add({severity:"error",summary:t("error"),detail:((c=(r=n.response)==null?void 0:r.data)==null?void 0:c.message)||t("error.updateError"),life:3e3})}finally{F.value=!1}};return(l,e)=>{const r=w("Dropdown"),c=w("InputText"),n=w("Textarea"),_=w("InputNumber"),j=w("InputSwitch"),R=w("Checkbox"),pe=w("MultiSelect"),T=w("Button"),me=w("Toast"),_e=he("can");return Ve((y(),x("div",{class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg",dir:W.value?"rtl":"ltr"},[a("h1",we,d(i(t)("product.updateTitle")),1),a("form",{onSubmit:k(ce,["prevent"]),class:"space-y-6"},[a("div",Ie,[a("div",Ue,[a("label",De,[b(d(i(t)("product.store"))+" ",1),e[22]||(e[22]=a("span",{class:"text-red-500"},"*",-1))]),u(r,{filter:"",id:"store_id",modelValue:s.value.store_id,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.store_id=o),options:E.value,optionLabel:L.value,optionValue:"id",class:h(["w-full",{"p-invalid":!s.value.store_id}])},null,8,["modelValue","options","optionLabel","class"])]),a("div",Ce,[a("label",Le,[b(d(i(t)("product.category"))+" ",1),e[23]||(e[23]=a("span",{class:"text-red-500"},"*",-1))]),u(r,{filter:"",id:"category_id",modelValue:s.value.category_id,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.category_id=o),options:N.value,optionLabel:L.value,optionValue:"id",class:h(["w-full",{"p-invalid":!s.value.category_id}])},null,8,["modelValue","options","optionLabel","class"])]),a("div",Fe,[a("label",$e,[b(d(i(t)("product.brand"))+" ",1),e[24]||(e[24]=a("span",{class:"text-red-500"},"*",-1))]),u(r,{filter:"",id:"brand_id",modelValue:s.value.brand_id,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.brand_id=o),options:q.value,optionLabel:L.value,optionValue:"id",class:h(["w-full",{"p-invalid":!s.value.brand_id}])},null,8,["modelValue","options","optionLabel","class"])]),a("div",Te,[a("label",Ae,[b(d(i(t)("product.sku"))+" ",1),e[25]||(e[25]=a("span",{class:"text-red-500"},"*",-1))]),u(c,{id:"sku",modelValue:s.value.sku,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.sku=o),class:h(["w-full",{"p-invalid":!s.value.sku}])},null,8,["modelValue","class"])]),a("div",Se,[a("label",je,[b(d(i(t)("product.nameEn"))+" ",1),e[26]||(e[26]=a("span",{class:"text-red-500"},"*",-1))]),u(c,{id:"name_en",modelValue:s.value.name_en,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.name_en=o),class:h(["w-full",{"p-invalid":!s.value.name_en}])},null,8,["modelValue","class"])]),a("div",Re,[a("label",Pe,[b(d(i(t)("product.nameAr"))+" ",1),e[27]||(e[27]=a("span",{class:"text-red-500"},"*",-1))]),u(c,{id:"name_ar",modelValue:s.value.name_ar,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.name_ar=o),dir:"rtl",class:h(["w-full",{"p-invalid":!s.value.name_ar}])},null,8,["modelValue","class"])]),a("div",Me,[a("label",Be,d(i(t)("product.subNameEn")),1),u(c,{id:"sub_name_en",modelValue:s.value.sub_name_en,"onUpdate:modelValue":e[6]||(e[6]=o=>s.value.sub_name_en=o),class:"w-full"},null,8,["modelValue"])]),a("div",Ee,[a("label",Ne,d(i(t)("product.subNameAr")),1),u(c,{id:"sub_name_ar",modelValue:s.value.sub_name_ar,"onUpdate:modelValue":e[7]||(e[7]=o=>s.value.sub_name_ar=o),dir:"rtl",class:"w-full"},null,8,["modelValue"])]),a("div",qe,[a("label",ze,d(i(t)("product.descriptionEn")),1),u(n,{id:"description_en",modelValue:s.value.description_en,"onUpdate:modelValue":e[8]||(e[8]=o=>s.value.description_en=o),rows:"4",class:"w-full"},null,8,["modelValue"])]),a("div",Ge,[a("label",Oe,d(i(t)("product.descriptionAr")),1),u(n,{id:"description_ar",modelValue:s.value.description_ar,"onUpdate:modelValue":e[9]||(e[9]=o=>s.value.description_ar=o),rows:"4",dir:"rtl",class:"w-full"},null,8,["modelValue"])]),a("div",Qe,[a("label",He,d(i(t)("product.tax"))+" (%) ",1),u(_,{id:"tax",modelValue:s.value.tax,"onUpdate:modelValue":e[10]||(e[10]=o=>s.value.tax=o),mode:"decimal",min:0,max:100,minFractionDigits:2,class:"w-full"},null,8,["modelValue"])]),a("div",Je,[a("label",Ke,d(i(t)("product.displayStatus")),1),u(j,{id:"is_displayed",modelValue:s.value.is_displayed,"onUpdate:modelValue":e[11]||(e[11]=o=>s.value.is_displayed=o)},null,8,["modelValue"])]),V.value?J("",!0):(y(),x(P,{key:0},[a("div",We,[a("label",Xe,[b(d(i(t)("product.basePrice"))+" ",1),e[28]||(e[28]=a("span",{class:"text-red-500"},"*",-1))]),u(_,{id:"base_price",modelValue:s.value.base_price,"onUpdate:modelValue":e[12]||(e[12]=o=>s.value.base_price=o),mode:"decimal",minFractionDigits:2,class:h(["w-full",{"p-invalid":!s.value.base_price}])},null,8,["modelValue","class"])]),a("div",Ye,[a("label",Ze,d(i(t)("product.costPrice")),1),u(_,{id:"cost_price",modelValue:s.value.cost_price,"onUpdate:modelValue":e[13]||(e[13]=o=>s.value.cost_price=o),mode:"decimal",minFractionDigits:2,class:"w-full"},null,8,["modelValue"])])],64)),a("div",ea,[a("div",aa,[u(R,{modelValue:V.value,"onUpdate:modelValue":e[14]||(e[14]=o=>V.value=o),inputId:"hasVariants",binary:!0,onClick:ne,class:"mr-2"},null,8,["modelValue"]),a("label",ta,d(i(t)("product.hasVariants")),1)])]),V.value?(y(),x("div",sa,[a("div",la,[a("h3",oa,d(i(t)("product.variants")),1)]),(y(!0),x(P,null,K(s.value.variants,(o,p)=>(y(),x("div",{key:p,class:"p-4 border rounded-lg space-y-4 bg-gray-50"},[a("div",ia,[a("div",ra,[a("label",{for:"attributes_"+p,class:"block text-sm font-medium text-gray-700"},[b(d(i(t)("product.attributes"))+" ",1),e[29]||(e[29]=a("span",{class:"text-red-500"},"*",-1))],8,da),u(pe,{id:"attributes_"+p,modelValue:o.attribute_value_ids,"onUpdate:modelValue":v=>o.attribute_value_ids=v,options:X.value,optionGroupLabel:"label",optionGroupChildren:"items",optionLabel:L.value,optionValue:"id",class:h(["w-full",{"p-invalid":o.attribute_value_ids.length===0}]),display:"chip",filter:!0,showToggleAll:!1},null,8,["id","modelValue","onUpdate:modelValue","options","optionLabel","class"])]),a("div",na,[a("label",{for:"sku_"+p,class:"block text-sm font-medium text-gray-700"},[b(d(i(t)("product.sku"))+" ",1),e[30]||(e[30]=a("span",{class:"text-red-500"},"*",-1))],8,ua),u(c,{id:"sku_"+p,modelValue:o.sku,"onUpdate:modelValue":v=>o.sku=v,class:h(["w-full",{"p-invalid":!o.sku}])},null,8,["id","modelValue","onUpdate:modelValue","class"])]),a("div",ca,[a("label",{for:"price_"+p,class:"block text-sm font-medium text-gray-700"},[b(d(i(t)("product.price"))+" ",1),e[31]||(e[31]=a("span",{class:"text-red-500"},"*",-1))],8,pa),u(_,{id:"price_"+p,modelValue:o.price,"onUpdate:modelValue":v=>o.price=v,mode:"decimal",minFractionDigits:2,class:h(["w-full",{"p-invalid":!o.price}])},null,8,["id","modelValue","onUpdate:modelValue","class"])]),a("div",ma,[a("label",{for:"cost_price_"+p,class:"block text-sm font-medium text-gray-700"},d(i(t)("product.costPrice")),9,_a),u(_,{id:"cost_price_"+p,modelValue:o.cost_price,"onUpdate:modelValue":v=>o.cost_price=v,mode:"decimal",minFractionDigits:2,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"])]),a("div",va,[a("label",{for:"variant_image_"+p,class:"block text-sm font-medium text-gray-700"},d(i(t)("product.variantImage")),9,ga),a("label",{for:"variant_image_"+p,onDragover:e[15]||(e[15]=k(v=>g.value=!0,["prevent"])),onDragleave:e[16]||(e[16]=v=>g.value=!1),onDrop:k(v=>Q(v,p),["prevent"]),class:h([{"border-blue-500 bg-blue-50":g.value,"border-gray-300":!g.value},"cursor-pointer w-full rounded-lg border-2 border-dashed transition-colors duration-300 block"])},[a("input",{type:"file",id:"variant_image_"+p,onChange:v=>Q(v,p),accept:"image/*",class:"hidden"},null,40,fa),o.variant_image_preview?(y(),x("div",ya,[a("div",xa,[a("img",{src:o.variant_image_preview,alt:"Variant Preview",class:"w-full h-32 object-contain rounded-lg shadow-md"},null,8,ha),a("div",Va,[a("button",{type:"button",onClick:k(v=>de(p),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",title:i(t)("product.deleteImage")},e[32]||(e[32]=[a("i",{class:"pi pi-trash text-sm"},null,-1)]),8,ka)])]),a("p",wa,d(i(t)("product.changeImage")),1)])):(y(),x("div",Ia,[e[33]||(e[33]=a("div",{class:"bg-blue-100 p-2 rounded-full mb-2"},[a("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),a("p",Ua,[a("span",Da,d(i(t)("product.uploadClick")),1),b(" "+d(i(t)("product.uploadDrag")),1)]),a("p",Ca,d(i(t)("product.imageFormat")),1)]))],42,ba)])]),a("div",La,[u(T,{type:"button",icon:"pi pi-trash",class:"p-button-danger p-button-sm",onClick:v=>ue(p),disabled:s.value.variants.length===1,label:i(t)("product.removeVariant")},null,8,["onClick","disabled","label"])])]))),128)),u(T,{type:"button",label:i(t)("product.addVariant"),icon:"pi pi-plus",class:"p-button-outlined p-button-secondary",onClick:H},null,8,["label"])])):J("",!0),a("div",Fa,[a("label",$a,[b(d(i(t)("product.mainImage"))+" ",1),e[34]||(e[34]=a("span",{class:"text-red-500"},"*",-1))]),a("label",{for:"main_image_upload",onDragover:e[17]||(e[17]=k(o=>g.value=!0,["prevent"])),onDragleave:e[18]||(e[18]=o=>g.value=!1),onDrop:k(G,["prevent"]),class:h([{"border-blue-500 bg-blue-50":g.value,"border-gray-300":!g.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300 p-6 block"])},[a("input",{type:"file",id:"main_image_upload",onChange:G,accept:"image/*",class:"hidden"},null,32),I.value?(y(),x("div",Ta,[a("div",Aa,[a("img",{src:I.value,alt:"Main Preview",class:"w-full h-48 object-contain rounded-lg shadow-md"},null,8,Sa),a("div",ja,[a("button",{type:"button",onClick:k(le,["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",title:i(t)("product.deleteImage")},e[35]||(e[35]=[a("i",{class:"pi pi-trash text-sm"},null,-1)]),8,Ra)])]),a("p",Pa,d(i(t)("product.changeImage")),1)])):(y(),x("div",Ma,[e[36]||(e[36]=a("div",{class:"bg-blue-100 p-3 rounded-full"},[a("i",{class:"pi pi-image text-blue-500 text-2xl"})],-1)),a("p",Ba,[a("span",Ea,d(i(t)("product.uploadClick")),1),b(" "+d(i(t)("product.uploadDrag")),1)]),a("p",Na,d(i(t)("product.imageFormat")),1)]))],34)]),a("div",qa,[a("label",za,d(i(t)("product.additionalImages")),1),a("label",{for:"additional_images_upload",onDragover:e[19]||(e[19]=k(o=>g.value=!0,["prevent"])),onDragleave:e[20]||(e[20]=o=>g.value=!1),onDrop:k(O,["prevent"]),class:h([{"border-blue-500 bg-blue-50":g.value,"border-gray-300":!g.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300 p-6 block"])},[a("input",{type:"file",id:"additional_images_upload",onChange:O,accept:"image/*",multiple:"",class:"hidden"},null,32),C.value.length>0?(y(),x("div",Ga,[a("div",Oa,[(y(!0),x(P,null,K(C.value,(o,p)=>(y(),x("div",{key:p,class:"relative group"},[a("img",{src:o,alt:"Additional Preview",class:"w-full h-32 object-cover rounded-lg shadow-md"},null,8,Qa),a("div",Ha,[a("button",{type:"button",onClick:k(v=>ie(p),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",title:i(t)("product.deleteImage")},e[37]||(e[37]=[a("i",{class:"pi pi-trash text-sm"},null,-1)]),8,Ja)])]))),128))]),a("p",Ka,d(i(t)("product.addMoreImages")),1)])):(y(),x("div",Wa,[e[38]||(e[38]=a("div",{class:"bg-blue-100 p-3 rounded-full"},[a("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),a("p",Xa,[a("span",Ya,d(i(t)("product.uploadClick")),1),b(" "+d(i(t)("product.uploadDrag")),1)]),a("p",Za,d(i(t)("product.imageFormat")),1)]))],34)])]),a("div",et,[u(T,{type:"button",label:i(t)("product.cancelButton"),icon:"pi pi-times",onClick:e[21]||(e[21]=o=>i(M).go(-1)),class:"p-button-outlined p-button-secondary",disabled:F.value},null,8,["label","disabled"]),u(T,{type:"submit",label:i(t)("product.updateButton"),icon:"pi pi-check",loading:F.value,class:"p-button-success"},null,8,["label","loading"])])],32),u(me)],8,ke)),[[_e,"update product inventories"]])}}},lt=ve(at,[["__scopeId","data-v-5c88e376"]]);export{lt as default};
