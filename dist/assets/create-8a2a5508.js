import{_ as D,u as k,E as C,B as I,r as b,H as u,I as B,o as d,c,J as M,a as t,t as l,l as p,b as n,C as N,w as T,M as F,F as U,D as Y}from"./index-e0fe619d.js";import{h as q}from"./moment-fbc5633a.js";const E={class:"max-w-2xl mx-auto p-6 bg-white rounded-xl shadow-lg"},R={class:"text-3xl font-bold text-center mb-8 text-gray-800"},S={class:"grid grid-cols-1 gap-6"},j={class:"space-y-2"},A={for:"code",class:"block text-sm font-medium text-gray-700"},H={class:"flex gap-2"},J={class:"space-y-2"},L={for:"discount_type",class:"block text-sm font-medium text-gray-700"},G={class:"space-y-2"},K={for:"discount_value",class:"block text-sm font-medium text-gray-700"},O={key:0,class:"text-gray-500 text-xs"},P={class:"space-y-2"},Q={for:"expires_at",class:"block text-sm font-medium text-gray-700"},W={class:"pt-4 flex justify-center"},X={key:0},Z={key:1,class:"pi pi-spinner pi-spin"},z={__name:"create",setup(ee){const f=k(),v=C(),{t:_}=I(),r=b(!1),s=b({code:"",discount_type:null,discount_value:null,expires_at:""}),g=()=>{const o="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="C-";for(let i=0;i<3;i++)e+=o.charAt(Math.floor(Math.random()*o.length));s.value.code=e},y=async()=>{r.value=!0,s.value.expires_at=q(s.value.expires_at).format("YYYY-MM-DD");try{await Y.post("/api/coupon",s.value),f.push({name:"coupon"}),v.add({severity:"success",summary:_("success"),detail:_("coupon.created_successfully"),life:3e3})}finally{r.value=!1}};return(o,e)=>{const i=u("InputText"),m=u("Button"),x=u("Dropdown"),h=u("InputNumber"),w=u("Calendar"),V=u("Toast"),$=B("can");return d(),c(U,null,[M((d(),c("div",E,[t("h1",R,l(o.$t("coupon.create_new_coupon")),1),t("form",{onSubmit:F(y,["prevent"]),class:"space-y-6"},[t("div",S,[t("div",j,[t("label",A,[p(l(o.$t("coupon.code"))+" ",1),e[4]||(e[4]=t("span",{class:"text-red-500"},"*",-1))]),t("div",H,[n(i,{id:"code",modelValue:s.value.code,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.code=a),placeholder:o.$t("coupon.enter_code"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"]),n(m,{type:"button",onClick:g,icon:"pi pi-refresh",class:"px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition",title:o.$t("coupon.generate_random_code")},null,8,["title"])])]),t("div",J,[t("label",L,[p(l(o.$t("coupon.discount_type"))+" ",1),e[5]||(e[5]=t("span",{class:"text-red-500"},"*",-1))]),n(x,{id:"discount_type",modelValue:s.value.discount_type,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.discount_type=a),options:[{label:o.$t("coupon.fixed_amount"),value:1},{label:o.$t("coupon.percentage"),value:2}],optionLabel:"label",optionValue:"value",placeholder:o.$t("coupon.select_discount_type"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,8,["modelValue","options","placeholder"])]),t("div",G,[t("label",K,[p(l(o.$t("coupon.discount_value"))+" ",1),e[6]||(e[6]=t("span",{class:"text-red-500"},"*",-1))]),n(h,{id:"discount_value",modelValue:s.value.discount_value,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.discount_value=a),min:0,max:s.value.discount_type===2?100:null,placeholder:o.$t("coupon.enter_discount_value"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","max","placeholder"]),s.value.discount_type===2?(d(),c("small",O,l(o.$t("coupon.percentage_note")),1)):N("",!0)]),t("div",P,[t("label",Q,[p(l(o.$t("coupon.expiration_date"))+" ",1),e[7]||(e[7]=t("span",{class:"text-red-500"},"*",-1))]),n(w,{id:"expires_at",modelValue:s.value.expires_at,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.expires_at=a),minDate:new Date,dateFormat:"yy-mm-dd",placeholder:o.$t("coupon.select_expiration_date"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,8,["modelValue","minDate","placeholder"])])]),t("div",W,[n(m,{type:"submit",label:o.$t("coupon.create_coupon"),icon:"pi pi-plus",loading:r.value,class:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:r.value},{default:T(()=>[r.value?(d(),c("i",Z)):(d(),c("span",X,l(o.$t("coupon.create_coupon")),1))]),_:1},8,["label","loading","disabled"])])],32)])),[[$,"create coupons"]]),n(V)],64)}}},se=D(z,[["__scopeId","data-v-2b7e36c1"]]);export{se as default};
