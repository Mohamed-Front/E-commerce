import{_ as S,b as A,I as R,u as z,r as d,v as b,S as M,o as r,e as l,x as J,f as t,g as u,i as F,L as x,F as O,p as _,t as I,z as j,s as $,j as q,a as H}from"./index-23aef111.js";const K={class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W={class:"space-y-2"},X={key:0,class:"text-red-500 text-xs"},Y={class:"space-y-2"},Z={key:0,class:"text-red-500 text-xs"},ee={class:"md:col-span-2 space-y-2"},te={class:"flex justify-center"},ae={key:0,class:"p-4"},se={class:"relative group"},oe=["src"],re={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},le={class:"opacity-0 group-hover:opacity-100 space-x-3 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0"},ne={key:1,class:"p-8 flex flex-col items-center justify-center"},ie={class:"pt-4 flex justify-center space-x-4"},de={key:0},ue={key:1,class:"pi pi-spinner pi-spin"},ce={__name:"create",setup(pe){const y=A(),h=R(),{t:w}=z(),c=d(),n=d(!1),m=d(null),g=d(null),p=d(!1),i=d({name_en:"",name_ar:""}),N=a=>{a.preventDefault(),p.value=!0},T=()=>{p.value=!1},E=a=>{m.value=a;const e=new FileReader;e.onload=s=>{g.value=s.target.result},e.readAsDataURL(a),p.value=!1},k=a=>{var s,o,v;const e=((s=a.target.files)==null?void 0:s[0])||((v=(o=a.dataTransfer)==null?void 0:o.files)==null?void 0:v[0]);e&&e.type.match("image.*")&&E(e)},U=()=>{m.value=null,g.value=null},G=async()=>{n.value=!0;const a=new FormData;a.append("name_en",i.value.name_en),a.append("name_ar",i.value.name_ar),m.value&&a.append("image",m.value),H.post("/api/brand",a).then(e=>{y.push({name:"brand"}),h.add({severity:"success",summary:w("success"),detail:"Brand created successfully",life:3e3}),n.value=!1}).catch(e=>{var s,o;console.error("Error:",e),h.add({severity:"error",summary:w("error"),detail:((o=(s=e.response)==null?void 0:s.data)==null?void 0:o.message)||"An error occurred",life:3e3}),n.value=!1})};return(a,e)=>{const s=b("InputText"),o=b("Button"),v=b("Form"),L=b("Toast"),P=M("can");return r(),l(O,null,[J((r(),l("div",K,[e[10]||(e[10]=t("h1",{class:"text-3xl font-bold text-center mb-8 text-gray-800"},"Create New Brand",-1)),u(v,{ref_key:"form",ref:c,onSubmit:x(G,["prevent"]),class:"space-y-6"},{default:F(()=>{var D,C,B,V;return[t("div",Q,[t("div",W,[e[3]||(e[3]=t("label",{for:"name_en",class:"block text-sm font-medium text-gray-700"},[_(" English Name "),t("span",{class:"text-red-500"},"*")],-1)),u(s,{id:"name_en",modelValue:i.value.name_en,"onUpdate:modelValue":e[0]||(e[0]=f=>i.value.name_en=f),placeholder:"Enter brand name in English",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"]),(C=(D=c.value)==null?void 0:D.errors)!=null&&C.name_en?(r(),l("small",X,I(c.value.errors.name_en[0]),1)):j("",!0)]),t("div",Y,[e[4]||(e[4]=t("label",{for:"name_ar",class:"block text-sm font-medium text-gray-700"},[_(" Arabic Name "),t("span",{class:"text-red-500"},"*")],-1)),u(s,{id:"name_ar",modelValue:i.value.name_ar,"onUpdate:modelValue":e[1]||(e[1]=f=>i.value.name_ar=f),placeholder:"أدخل اسم العلامة التجارية بالعربية",dir:"rtl",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"]),(V=(B=c.value)==null?void 0:B.errors)!=null&&V.name_ar?(r(),l("small",Z,I(c.value.errors.name_ar[0]),1)):j("",!0)]),t("div",ee,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700"},"Brand Logo",-1)),t("div",te,[t("label",{onDragover:x(N,["prevent"]),onDragleave:T,onDrop:x(k,["prevent"]),class:$([{"border-blue-500 bg-blue-50":p.value,"border-gray-300":!p.value},"cursor-pointer w-full max-w-md rounded-xl border-2 border-dashed transition-colors duration-300"])},[t("input",{type:"file",onChange:k,accept:"image/*",class:"hidden"},null,32),g.value?(r(),l("div",ae,[t("div",se,[t("img",{src:g.value,alt:"Preview",class:"w-full h-64 object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,oe),t("div",re,[t("div",le,[t("button",{type:"button",onClick:x(U,["stop"]),class:"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},e[5]||(e[5]=[t("i",{class:"pi pi-trash text-sm"},null,-1)])),e[6]||(e[6]=t("button",{type:"button",class:"bg-white text-gray-700 p-2 rounded-full hover:bg-gray-100 transition"},[t("i",{class:"pi pi-pencil text-sm"})],-1))])])]),e[7]||(e[7]=t("p",{class:"mt-2 text-center text-sm text-gray-500"},"Click or drag to change logo",-1))])):(r(),l("div",ne,e[8]||(e[8]=[t("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[t("i",{class:"pi pi-image text-blue-500 text-2xl"})],-1),t("p",{class:"text-sm text-center text-gray-600 mb-1"},[t("span",{class:"text-blue-500 font-medium"},"Click to upload"),_(" or drag and drop ")],-1),t("p",{class:"text-xs text-gray-400"},"SVG, PNG, JPG or GIF (max. 2MB)",-1)])))],34)])])]),t("div",ie,[u(o,{type:"button",label:"Cancel",icon:"pi pi-times",onClick:e[2]||(e[2]=f=>q(y).go(-1)),class:"px-6 mx-2 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:n.value},null,8,["disabled"]),u(o,{type:"submit",label:"Create Brand",icon:"pi pi-plus",loading:n.value,class:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:n.value},{default:F(()=>[n.value?(r(),l("i",ue)):(r(),l("span",de,"Create Brand"))]),_:1},8,["loading","disabled"])])]}),_:1},512)])),[[P,"create brands"]]),u(L)],64)}}},ge=S(ce,[["__scopeId","data-v-fe1aff2b"]]);export{ge as default};
