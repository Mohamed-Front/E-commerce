import{p as ne,s as ie,r as t,v as de,y as re,x as ce,o as ue,d as i,z as pe,e as r,f as u,h as s,i as l,w as n,A as _e,b as A,B as y,C as ve,m as D,t as c,F as R,k as me,D as he,n as j,E as ge,G as fe}from"./index-d6624249.js";const p=w=>(ge("data-v-8616d62f"),w=w(),fe(),w),be={class:"grid"},ye={class:"col-12"},we={class:"my-2"},xe={class:"my-2 flex gap-2"},ke={class:"p-input-icon-left"},Ce=p(()=>s("i",{class:"pi pi-search"},null,-1)),De=p(()=>s("div",{class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},[s("h5",{class:"m-0 my-auto px-2"},"Users")],-1)),Ne={class:"p-paginator p-component p-unselectable-text mt-3"},Pe={class:"p-paginator-left-content"},Te={class:"p-paginator-current"},Ve={class:"p-paginator-right-content"},Se={class:"p-paginator-pages"},$e=["disabled"],Ue=p(()=>s("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)),Be=[Ue],Ie=["disabled"],Me=p(()=>s("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)),Ee=[Me],Fe=["onClick"],ze={key:1,class:"p-paginator-dots"},Ae=["disabled"],Re=p(()=>s("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)),je=[Re],Ge=["disabled"],Le=p(()=>s("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)),Oe=[Le],Qe={class:"p-paginator-rpp-options"},Ye={class:"flex align-items-center justify-content-center"},qe=p(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),He={key:0},Je={setup(w){const P=ie();t([]);const G=de();t(null);const x=t(!0),T=t("");t({}),t(!0),t("");const V=t(null);t(!1),t(!1);const m=t(!1),L=t({}),S=t(null),$=t(null),U=t({}),k=t(""),d=t(1),B=t(0),h=t(10),C=t(0),O=t(""),Q=t(""),I=t(""),M=t(""),E=t(0),F=t(0),z=t([]),Y=()=>{$.value.exportCSV()},q=a=>{T.value=a,m.value=!0},H=()=>{A.get(`/api/delete/${T.value}`).then(()=>{g(),m.value=!1,G.add({severity:"success",summary:"Successful",detail:"user Deleted",life:3e3})})},J=()=>{U.value={global:{value:null,matchMode:_e.CONTAINS}}};re(()=>{J()});const g=()=>{x.value=!0,A.get("/api/user",{params:{page:d.value,limit:h.value,search:k.value}}).then(a=>{x.value=!1,V.value=a.data.data.data,B.value=a.data.data.total,C.value=a.data.data.last_page,O.value=a.data.data.first_page_url,Q.value=a.data.data.last_page_url,I.value=a.data.data.next_page_url,M.value=a.data.data.prev_page_url,E.value=a.data.data.from,F.value=a.data.data.to,z.value=a.data.data.links}).catch(a=>{x.value=!1,console.error("Error fetching data:",a)})};ce(k,a=>{d.value=1,g()});const f=a=>{a>=1&&a<=C.value&&(d.value=a,g())},K=a=>{h.value=a.value,d.value=1,g()};ue(()=>{g()});const W=()=>{P.push({name:"user-create"})},X=a=>{P.push({name:"user-edite",params:{id:a}})};return(a,o)=>{const _=i("Button"),Z=i("InputText"),ee=i("Toolbar"),te=i("Toast"),v=i("Column"),ae=i("DataTable"),se=i("Dropdown"),oe=i("Dialog"),le=i("va-card"),b=pe("can");return r(),u("div",be,[s("div",ye,[l(le,{class:"card"},{default:n(()=>[l(ee,{class:"mb-4"},{start:n(()=>[s("div",we,[y(l(_,{label:"New",icon:"pi pi-plus",class:"new mr-2",onClick:W},null,512),[[b,"create users"]])])]),end:n(()=>[y((r(),u("div",xe,[s("span",ke,[Ce,l(Z,{modelValue:k.value,"onUpdate:modelValue":o[0]||(o[0]=e=>k.value=e),placeholder:"Search..."},null,8,["modelValue"])]),l(_,{label:"Export",icon:"pi pi-upload",class:"new",onClick:o[1]||(o[1]=e=>Y())})])),[[b,"list users"]])]),_:1}),l(te),y((r(),ve(ae,{ref_key:"dt",ref:$,selection:S.value,"onUpdate:selection":o[2]||(o[2]=e=>S.value=e),value:V.value,loading:x.value,"data-key":"id",paginator:!1,rows:h.value,filters:U.value,"responsive-layout":"scroll"},{header:n(()=>[De]),default:n(()=>[l(v,{"selection-mode":"multiple","header-style":"width: 3rem"}),l(v,{field:"name",header:"Name",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[D(c(e.data.name),1)]),_:1}),l(v,{field:"email",header:"Email",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[D(c(e.data.email),1)]),_:1}),l(v,{field:"phone",header:"Mobile Number",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[D(c(e.data.phone),1)]),_:1}),l(v,{field:"type",header:"Type",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[D(c(e.data.type),1)]),_:1}),l(v,{"header-style":"min-width:10rem;"},{body:n(e=>[y(l(_,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:N=>X(e.data.id)},null,8,["onClick"]),[[b,"edit users"]]),y(l(_,{icon:"pi pi-trash",class:"delete mt-2",onClick:N=>q(e.data.id)},null,8,["onClick"]),[[b,"delete users"]])]),_:1})]),_:1},8,["selection","value","loading","rows","filters"])),[[b,"list users"]]),s("div",Ne,[s("div",Pe,[s("span",Te,"Showing "+c(E.value)+" to "+c(F.value)+" of "+c(B.value)+" entries",1)]),s("div",Ve,[s("span",Se,[s("button",{class:"p-paginator-first p-paginator-element p-link",disabled:d.value===1,onClick:o[3]||(o[3]=e=>f(1))},Be,8,$e),s("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!M.value,onClick:o[4]||(o[4]=e=>f(d.value-1))},Ee,8,Ie),(r(!0),u(R,null,me(z.value,(e,N)=>(r(),u(R,{key:N},[e.label&&!isNaN(e.label)?(r(),u("button",{key:0,class:he(["p-paginator-page p-paginator-element p-link",{"p-highlight":e.active}]),onClick:Ke=>f(parseInt(e.label))},c(e.label),11,Fe)):e.label==="..."?(r(),u("span",ze,"...")):j("",!0)],64))),128)),s("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!I.value,onClick:o[5]||(o[5]=e=>f(d.value+1))},je,8,Ae),s("button",{class:"p-paginator-last p-paginator-element p-link",disabled:d.value===C.value,onClick:o[6]||(o[6]=e=>f(C.value))},Oe,8,Ge)]),s("span",Qe,[l(se,{modelValue:h.value,"onUpdate:modelValue":o[7]||(o[7]=e=>h.value=e),options:[5,10,20,30],onChange:K,class:"ml-2",style:{width:"100px"}},null,8,["modelValue"])])])]),l(oe,{visible:m.value,"onUpdate:visible":o[9]||(o[9]=e=>m.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[l(_,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[8]||(o[8]=e=>m.value=!1)}),l(_,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:H})]),default:n(()=>[s("div",Ye,[qe,L.value?(r(),u("span",He,"Are you sure you want to delete the selected user?")):j("",!0)])]),_:1},8,["visible"])]),_:1})])])}}},Xe=ne(Je,[["__scopeId","data-v-8616d62f"]]);export{Xe as default};
