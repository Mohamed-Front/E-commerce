import{p as oe,s as le,r as t,v as ne,y as ie,x as de,o as ce,d as i,e as _,f as v,h as s,i as l,w as n,z as re,b as F,m as k,t as c,F as z,k as pe,A as ue,n as A,B as _e,C as ve}from"./index-f9345899.js";const r=f=>(_e("data-v-c6b74e3d"),f=f(),ve(),f),me={class:"grid"},he={class:"col-12"},ge={class:"my-2"},be={class:"my-2 flex gap-2"},fe={class:"p-input-icon-left"},ye=r(()=>s("i",{class:"pi pi-search"},null,-1)),we=r(()=>s("div",{class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},[s("h5",{class:"m-0 my-auto px-2"},"Users")],-1)),xe={class:"p-paginator p-component p-unselectable-text mt-3"},ke={class:"p-paginator-left-content"},Ce={class:"p-paginator-current"},Ne={class:"p-paginator-right-content"},Pe={class:"p-paginator-pages"},Te=["disabled"],Ve=r(()=>s("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)),De=[Ve],Se=["disabled"],$e=r(()=>s("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)),Ue=[$e],Ie=["onClick"],Be={key:1,class:"p-paginator-dots"},Me=["disabled"],Ee=r(()=>s("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)),Fe=[Ee],ze=["disabled"],Ae=r(()=>s("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)),Re=[Ae],je={class:"p-paginator-rpp-options"},Le={class:"flex align-items-center justify-content-center"},Oe=r(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Qe={key:0},Ye={setup(f){const N=le();t([]);const R=ne();t(null);const y=t(!0),P=t("");t({}),t(!0),t("");const T=t(null);t(!1),t(!1);const m=t(!1),j=t({}),V=t(null),D=t(null),S=t({}),w=t(""),d=t(1),$=t(0),h=t(10),x=t(0),L=t(""),O=t(""),U=t(""),I=t(""),B=t(0),M=t(0),E=t([]),Q=()=>{D.value.exportCSV()},Y=a=>{P.value=a,m.value=!0},q=()=>{F.get(`/api/delete/${P.value}`).then(()=>{g(),m.value=!1,R.add({severity:"success",summary:"Successful",detail:"user Deleted",life:3e3})})},G=()=>{S.value={global:{value:null,matchMode:re.CONTAINS}}};ie(()=>{G()});const g=()=>{y.value=!0,F.get("/api/user",{params:{page:d.value,limit:h.value,search:w.value}}).then(a=>{y.value=!1,T.value=a.data.data.data,$.value=a.data.data.total,x.value=a.data.data.last_page,L.value=a.data.data.first_page_url,O.value=a.data.data.last_page_url,U.value=a.data.data.next_page_url,I.value=a.data.data.prev_page_url,B.value=a.data.data.from,M.value=a.data.data.to,E.value=a.data.data.links}).catch(a=>{y.value=!1,console.error("Error fetching data:",a)})};de(w,a=>{d.value=1,g()});const b=a=>{a>=1&&a<=x.value&&(d.value=a,g())},H=a=>{h.value=a.value,d.value=1,g()};ce(()=>{g()});const J=()=>{N.push({name:"user-create"})},K=a=>{N.push({name:"user-edite",params:{id:a}})};return(a,o)=>{const p=i("Button"),W=i("InputText"),X=i("Toolbar"),Z=i("Toast"),u=i("Column"),ee=i("DataTable"),te=i("Dropdown"),ae=i("Dialog"),se=i("va-card");return _(),v("div",me,[s("div",he,[l(se,{class:"card"},{default:n(()=>[l(X,{class:"mb-4"},{start:n(()=>[s("div",ge,[l(p,{label:"New",icon:"pi pi-plus",class:"new mr-2",onClick:J})])]),end:n(()=>[s("div",be,[s("span",fe,[ye,l(W,{modelValue:w.value,"onUpdate:modelValue":o[0]||(o[0]=e=>w.value=e),placeholder:"Search..."},null,8,["modelValue"])]),l(p,{label:"Export",icon:"pi pi-upload",class:"new",onClick:o[1]||(o[1]=e=>Q())})])]),_:1}),l(Z),l(ee,{ref_key:"dt",ref:D,selection:V.value,"onUpdate:selection":o[2]||(o[2]=e=>V.value=e),value:T.value,loading:y.value,"data-key":"id",paginator:!1,rows:h.value,filters:S.value,"responsive-layout":"scroll"},{header:n(()=>[we]),default:n(()=>[l(u,{"selection-mode":"multiple","header-style":"width: 3rem"}),l(u,{field:"name",header:"Name",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[k(c(e.data.name),1)]),_:1}),l(u,{field:"email",header:"Email",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[k(c(e.data.email),1)]),_:1}),l(u,{field:"phone",header:"Mobile Number",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[k(c(e.data.phone),1)]),_:1}),l(u,{field:"type",header:"Type",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[k(c(e.data.type),1)]),_:1}),l(u,{"header-style":"min-width:10rem;"},{body:n(e=>[l(p,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:C=>K(e.data.id)},null,8,["onClick"]),l(p,{icon:"pi pi-trash",class:"delete mt-2",onClick:C=>Y(e.data.id)},null,8,["onClick"])]),_:1})]),_:1},8,["selection","value","loading","rows","filters"]),s("div",xe,[s("div",ke,[s("span",Ce,"Showing "+c(B.value)+" to "+c(M.value)+" of "+c($.value)+" entries",1)]),s("div",Ne,[s("span",Pe,[s("button",{class:"p-paginator-first p-paginator-element p-link",disabled:d.value===1,onClick:o[3]||(o[3]=e=>b(1))},De,8,Te),s("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!I.value,onClick:o[4]||(o[4]=e=>b(d.value-1))},Ue,8,Se),(_(!0),v(z,null,pe(E.value,(e,C)=>(_(),v(z,{key:C},[e.label&&!isNaN(e.label)?(_(),v("button",{key:0,class:ue(["p-paginator-page p-paginator-element p-link",{"p-highlight":e.active}]),onClick:qe=>b(parseInt(e.label))},c(e.label),11,Ie)):e.label==="..."?(_(),v("span",Be,"...")):A("",!0)],64))),128)),s("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!U.value,onClick:o[5]||(o[5]=e=>b(d.value+1))},Fe,8,Me),s("button",{class:"p-paginator-last p-paginator-element p-link",disabled:d.value===x.value,onClick:o[6]||(o[6]=e=>b(x.value))},Re,8,ze)]),s("span",je,[l(te,{modelValue:h.value,"onUpdate:modelValue":o[7]||(o[7]=e=>h.value=e),options:[5,10,20,30],onChange:H,class:"ml-2",style:{width:"100px"}},null,8,["modelValue"])])])]),l(ae,{visible:m.value,"onUpdate:visible":o[9]||(o[9]=e=>m.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[l(p,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[8]||(o[8]=e=>m.value=!1)}),l(p,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:q})]),default:n(()=>[s("div",Le,[Oe,j.value?(_(),v("span",Qe,"Are you sure you want to delete the selected user?")):A("",!0)])]),_:1},8,["visible"])]),_:1})])])}}},He=oe(Ye,[["__scopeId","data-v-c6b74e3d"]]);export{He as default};
