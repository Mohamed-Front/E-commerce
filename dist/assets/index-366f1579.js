import{_ as q,a as H,I as J,u as O,r,m as X,o as Y,v as c,K as S,b as B,c as Z,d as o,e as a,w as i,x as _,j as ee,g as t,i as C,t as u,p as f}from"./index-3d79394e.js";const te={class:"grid"},ae={class:"col-12"},se={class:"card p-4 shadow-2 border-round"},oe={class:"text-2xl font-bold"},le={class:"flex gap-2"},ne={class:"p-input-icon-left"},re={class:"card shadow-1 surface-0"},ie={class:"text-center py-4"},ce={class:"text-xl"},de={class:"flex justify-content-center align-items-center py-4"},ue={class:"flex align-items-center justify-content-center"},pe={__name:"index",setup(me){const g=H(),x=J(),{t:e}=O(),v=r(!0),k=r([]),b=r(!1),D=r(null),P=r(null),I=r({}),h=r("");r(null);const R=r(1),V=r(0),y=r(10),L=r(0),T=()=>{v.value=!0,C.get("api/custom-tab-details"),C.get("/api/custom-tabs",{params:{page:R.value,per_page:y.value,search:h.value||void 0}}).then(l=>{k.value=l.data.data.data,V.value=l.data.data.total,L.value=l.data.data.last_page,v.value=!1}).catch(l=>{x.add({severity:"error",summary:e("error"),detail:e("customTabs.loadError"),life:3e3}),v.value=!1,console.error("Error fetching custom tabs:",l)})};X([R,y,h],()=>{T()});const E=l=>{D.value=l,b.value=!0},N=()=>{C.delete(`/api/custom-tabs/${D.value}`).then(()=>{x.add({severity:"success",summary:e("success"),detail:e("customTabs.deleteSuccess"),life:3e3}),T(),b.value=!1}).catch(l=>{x.add({severity:"error",summary:e("error"),detail:e("customTabs.deleteError"),life:3e3})})},j=()=>{P.value.exportCSV()},M=()=>{g.push({name:"custom_tabs_create"})},U=l=>{g.push({name:"custom_tabs_update",params:{id:l}})},z=l=>{g.push({name:"custom_tabs_show",params:{id:l}})};return Y(()=>{T()}),(l,n)=>{const A=c("InputText"),d=c("Button"),F=c("Toolbar"),G=c("Toast"),p=c("Column"),K=c("ProgressSpinner"),Q=c("DataTable"),W=c("Dialog"),m=S("can"),w=S("tooltip");return B(),Z("div",te,[o("div",ae,[o("div",se,[a(F,{class:"mb-4"},{start:i(()=>[o("h2",oe,u(t(e)("customTabs.managementTitle")),1)]),end:i(()=>[o("div",le,[o("span",ne,[n[3]||(n[3]=o("i",{class:"pi pi-search"},null,-1)),a(A,{modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=s=>h.value=s),placeholder:t(e)("customTabs.search")},null,8,["modelValue","placeholder"])]),_(a(d,{label:t(e)("customTabs.export"),icon:"pi pi-upload",class:"p-export",onClick:j},null,8,["label"]),[[m,"list custom tabs"]]),_(a(d,{label:t(e)("customTabs.new"),icon:"pi pi-plus",class:"p-button-success",onClick:M},null,8,["label"]),[[m,"create custom tabs"]])])]),_:1}),a(G),o("div",re,[_((B(),ee(Q,{ref_key:"dt",ref:P,value:k.value,loading:v.value,"data-key":"id",paginator:!0,rows:y.value,filters:I.value,totalRecords:V.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,20,30],"current-page-report-template":`${t(e)("show")} {first} ${t(e)("to")} {last} ${t(e)("from")} {totalRecords}`,"responsive-layout":"scroll",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{empty:i(()=>[o("div",ie,[n[4]||(n[4]=o("i",{class:"pi pi-exclamation-circle text-2xl mb-2"},null,-1)),o("p",ce,u(t(e)("customTabs.noData")),1)])]),loading:i(()=>[o("div",de,[a(K,{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:i(()=>[a(p,{"selection-mode":"multiple","header-style":"width: 3rem"}),a(p,{field:"name_en",header:t(e)("customTabs.nameEn"),sortable:!0},{body:i(s=>[f(u(s.data.name_en),1)]),_:1},8,["header"]),a(p,{field:"name_ar",header:t(e)("customTabs.nameAr"),sortable:!0},{body:i(s=>[f(u(s.data.name_ar),1)]),_:1},8,["header"]),a(p,{field:"model_type",header:t(e)("customTabs.modelType"),sortable:!0},{body:i(s=>[f(u(s.data.model_type),1)]),_:1},8,["header"]),a(p,{field:"type_description",header:t(e)("customTabs.typeDescription"),sortable:!0},{body:i(s=>[f(u(s.data.type_description),1)]),_:1},8,["header"]),a(p,{header:t(e)("actions"),headerStyle:"width: 15rem"},{body:i(s=>[_(a(d,{icon:"pi pi-pencil",class:"p-detail",onClick:$=>U(s.data.id)},null,8,["onClick"]),[[m,"edit custom tabs"],[w,t(e)("edit"),void 0,{top:!0}]]),_(a(d,{icon:"pi pi-trash",class:"p-delete mx-2",onClick:$=>E(s.data.id)},null,8,["onClick"]),[[m,"delete custom tabs"],[w,t(e)("delete"),void 0,{top:!0}]]),_(a(d,{icon:"pi pi-eye",class:"p-detail mx-2",onClick:$=>z(s.data.id)},null,8,["onClick"]),[[m,"delete custom tabs"],[w,t(e)("show"),void 0,{top:!0}]])]),_:1},8,["header"])]),_:1},8,["value","loading","rows","filters","totalRecords","current-page-report-template"])),[[m,"list custom tabs"]])]),a(W,{visible:b.value,"onUpdate:visible":n[2]||(n[2]=s=>b.value=s),style:{width:"450px"},header:t(e)("customTabs.deleteConfirmTitle"),modal:!0},{footer:i(()=>[a(d,{label:t(e)("no"),icon:"pi pi-times",class:"p-button-text",onClick:n[1]||(n[1]=s=>b.value=!1)},null,8,["label"]),a(d,{label:t(e)("yes"),icon:"pi pi-check",class:"p-button-text p-button-danger",onClick:N},null,8,["label"])]),default:i(()=>[o("div",ue,[n[5]||(n[5]=o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem",color:"var(--red-500)"}},null,-1)),o("span",null,u(t(e)("customTabs.deleteConfirmMessage")),1)])]),_:1},8,["visible","header"])])])])}}},be=q(pe,[["__scopeId","data-v-e29bb87a"]]);export{be as default};
