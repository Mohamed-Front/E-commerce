import{_ as S,z as T,u as C,f as q,G as M,r as c,o as N,h as p,i as j,b as _,c as m,l as V,j as s,t as l,n as f,e as d,E,B as F,k as R,D as A,p as G,a as v,x as L,y as H}from"./index-12f18b3e.js";const b=i=>(L("data-v-5a7c5498"),i=i(),H(),i),J={class:"max-w-3xl mx-auto p-6 bg-white rounded-xl shadow-lg"},K={class:"text-3xl font-bold text-center mb-8 text-gray-800"},O=["onSubmit"],P={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Q={class:"space-y-2"},W={for:"address_line_1",class:"block text-sm font-medium text-gray-700"},X=b(()=>s("span",{class:"text-red-500"},"*",-1)),Y={class:"space-y-2"},Z={for:"address_line_1",class:"block text-sm font-medium text-gray-700"},ee=b(()=>s("span",{class:"text-red-500"},"*",-1)),se={class:"space-y-2"},ae={for:"address_line_2",class:"block text-sm font-medium text-gray-700"},te={class:"space-y-2"},oe={for:"city",class:"block text-sm font-medium text-gray-700"},le=b(()=>s("span",{class:"text-red-500"},"*",-1)),de={class:"space-y-2"},re={for:"country",class:"block text-sm font-medium text-gray-700"},ne=b(()=>s("span",{class:"text-red-500"},"*",-1)),ue={class:"space-y-2"},ie={for:"zip_code",class:"block text-sm font-medium text-gray-700"},ce={class:"space-y-2"},pe={class:"flex items-center space-x-2"},_e={class:"text-sm font-medium text-gray-700"},me={class:"pt-4 flex justify-between"},fe={key:0},be={key:1,class:"pi pi-spinner pi-spin"},ye={setup(i){const $=T(),y=C(),g=q(),{t:n}=M(),r=c(!1),h=c($.params.id),x=c([]),a=c({user:null,address_line_1:"",address_line_2:"",city:"",country:"",zip_code:"",is_default:!1}),k=()=>{v.get("api/user").then(e=>{x.value=e.data.data.data,z()})},z=async()=>{r.value=!0;try{const e=await v.get(`/api/address/${h.value}`);a.value=e.data.data,a.value.is_default=e.data.data.is_default==1}catch{g.add({severity:"error",summary:n("error"),detail:n("address.load_error"),life:3e3}),y.push({name:"address"})}finally{r.value=!1}},I=async()=>{r.value=!0;try{a.value.is_default=a.value.is_default?"1":"0",await v.put(`/api/address/${h.value}`,a.value),y.push({name:"address"}),g.add({severity:"success",summary:n("success"),detail:n("address.updated_successfully"),life:3e3})}catch{g.add({severity:"error",summary:n("error"),detail:n("address.update_error"),life:3e3})}finally{r.value=!1}};return N(()=>{k()}),(e,t)=>{const U=p("Dropdown"),u=p("InputText"),w=p("Button"),D=p("Toast"),B=j("can");return _(),m(G,null,[V((_(),m("div",J,[s("h1",K,l(e.$t("address.update_address")),1),s("form",{onSubmit:A(I,["prevent"]),class:"space-y-6 grid grid-cols-1 gap-3"},[s("div",P,[s("div",Q,[s("label",W,[f(l(e.$t("user.name"))+" ",1),X]),d(U,{modelValue:a.value.user_id,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.user_id=o),options:x.value,optionLabel:"name",optionValue:"id",placeholder:e.$t("user.name"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options","placeholder"])]),s("div",Y,[s("label",Z,[f(l(e.$t("address.line1"))+" ",1),ee]),d(u,{id:"address_line_1",modelValue:a.value.address_line_1,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.address_line_1=o),placeholder:e.$t("address.enter_line1"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),s("div",se,[s("label",ae,l(e.$t("address.line2")),1),d(u,{id:"address_line_2",modelValue:a.value.address_line_2,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.address_line_2=o),placeholder:e.$t("address.enter_line2"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue","placeholder"])]),s("div",te,[s("label",oe,[f(l(e.$t("address.city"))+" ",1),le]),d(u,{id:"city",modelValue:a.value.city,"onUpdate:modelValue":t[3]||(t[3]=o=>a.value.city=o),placeholder:e.$t("address.enter_city"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),s("div",de,[s("label",re,[f(l(e.$t("address.country"))+" ",1),ne]),d(u,{id:"country",modelValue:a.value.country,"onUpdate:modelValue":t[4]||(t[4]=o=>a.value.country=o),placeholder:e.$t("address.enter_country"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),s("div",ue,[s("label",ie,l(e.$t("address.zip_code")),1),d(u,{id:"zip_code",modelValue:a.value.zip_code,"onUpdate:modelValue":t[5]||(t[5]=o=>a.value.zip_code=o),placeholder:e.$t("address.enter_zip_code"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue","placeholder"])]),s("div",ce,[s("label",pe,[V(s("input",{type:"checkbox",class:"w-5 h-5 mx-2","onUpdate:modelValue":t[6]||(t[6]=o=>a.value.is_default=o),binary:!0},null,512),[[E,a.value.is_default]]),s("span",_e,l(e.$t("address.set_as_default")),1)])])]),s("div",me,[d(w,{type:"button",label:e.$t("cancel"),icon:"pi pi-times",onClick:t[7]||(t[7]=o=>F(y).push({name:"address"})),class:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg shadow transition-all duration-300",disabled:r.value},null,8,["label","disabled"]),d(w,{type:"submit",label:e.$t("update"),icon:"pi pi-check",loading:r.value,class:"px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300",disabled:r.value},{default:R(()=>[r.value?(_(),m("i",be)):(_(),m("span",fe,l(e.$t("update")),1))]),_:1},8,["label","loading","disabled"])])],40,O)])),[[B,"edit address"]]),d(D)],64)}}},ve=S(ye,[["__scopeId","data-v-5a7c5498"]]);export{ve as default};
