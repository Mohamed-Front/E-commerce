import{_}from"./productsSwiper-4d8a941b.js";import{u as d,r as f,m as h,b as g,j as S,i as b}from"./index-3dc1732e.js";const y={__name:"Exclusiveoffers",props:{Stor:{type:Object,required:!0}},setup(l){const{t:m}=d(),n=f({title:m("category.exclusive"),products:[]}),r=l;class u{constructor(s,a,o,t){this.name=s,this.img=a,this.price=o,this.id=t}}const p=async()=>{var e;try{const s=((e=r.Stor)==null?void 0:e.id)||r.Stor;if(!s)return;const a=await b.get(`api/home/best-sellers/${s}`),o=localStorage.getItem("appLang")||"en";n.value.products=a.data.data.data.map(t=>{var c,i;return new u(o==="en"?t.name_en:t.name_ar||t.name_en,((i=(c=t.media)==null?void 0:c[0])==null?void 0:i.url)||"",t.base_price,t.id)})}catch(s){console.error("Failed to fetch best sellers:",s)}};return h(()=>{var e;return((e=r.Stor)==null?void 0:e.id)||r.Stor},e=>{e&&p()},{immediate:!0}),(e,s)=>(g(),S(_,{products:n.value},null,8,["products"]))}},w={__name:"bestSellers",props:{Stor:{type:Object,required:!0}},setup(l){const{t:m}=d(),n=f({title:m("category.bestsellers"),products:[]}),r=l;class u{constructor(s,a,o,t){this.name=s,this.img=a,this.price=o,this.id=t}}const p=async()=>{var e;try{const s=((e=r.Stor)==null?void 0:e.id)||r.Stor;if(!s)return;const a=await b.get(`api/home/best-sellers/${s}`),o=localStorage.getItem("appLang")||"en";n.value.products=a.data.data.data.map(t=>{var c,i;return new u(o==="en"?t.name_en:t.name_ar||t.name_en,((i=(c=t.media)==null?void 0:c[0])==null?void 0:i.url)||"",t.base_price,t.id)})}catch(s){console.error("Failed to fetch best sellers:",s)}};return h(()=>{var e;return((e=r.Stor)==null?void 0:e.id)||r.Stor},e=>{e&&p()},{immediate:!0}),(e,s)=>(g(),S(_,{products:n.value},null,8,["products"]))}};export{y as _,w as a};
