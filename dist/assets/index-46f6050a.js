import{_ as ie,u as de,G as re,f as ce,r as s,g as pe,w as ue,o as _e,h as c,i as G,b as v,c as x,j as e,e as i,k as r,l as y,m as ve,t as d,B as l,p as L,q as be,F as me,a as q,n as A,s as ge,v as he,x as fe,y as xe}from"./index-12f18b3e.js";const u=k=>(fe("data-v-1f0be6d0"),k=k(),xe(),k),ye={class:"grid"},ke={class:"col-12"},Ce={class:"card p-4 shadow-2 border-round"},we={class:"text-2xl font-bold"},Te={class:"flex gap-2"},De={class:"p-input-icon-left"},Ve=u(()=>e("i",{class:"pi pi-search"},null,-1)),Pe={class:"card shadow-1 surface-0"},Se={class:"text-center py-4"},Be=u(()=>e("i",{class:"pi pi-exclamation-circle text-2xl mb-2"},null,-1)),Ie={class:"text-xl"},Ne={class:"flex justify-content-center align-items-center py-4"},$e={class:"p-paginator p-component p-unselectable-text p-paginator-bottom"},Ue={class:"p-paginator-left-content"},Me={class:"p-paginator-current"},Re={class:"p-paginator-right-content"},Ee=["disabled"],Fe=u(()=>e("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)),je=[Fe],ze=["disabled"],Ge=u(()=>e("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)),Le=[Ge],qe=["onClick"],Ae={key:1,class:"p-paginator-dots"},Oe=["disabled"],Qe=u(()=>e("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)),We=[Qe],He=["disabled"],Je=u(()=>e("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)),Ke=[Je],Xe={class:"flex align-items-center justify-content-center"},Ye=u(()=>e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem",color:"var(--red-500)"}},null,-1)),Ze={setup(k){const B=de(),{t:o}=re(),V=ce(),C=s(!0),I=s(""),N=s(null),b=s(!1);s(null);const $=s(null),U=s({}),w=s(""),p=s(1),P=s(0),m=s(10),T=s(0),O=s(""),Q=s(""),M=s(""),R=s(""),E=s(0),F=s(0),j=s([]),W=()=>{$.value.exportCSV()},H=t=>{I.value=t,b.value=!0},J=()=>{q.delete(`/api/brand/${I.value}`).then(()=>{g(),b.value=!1,V.add({severity:"success",summary:o("success"),detail:o("brand.deleteSuccess"),life:3e3})}).catch(()=>{V.add({severity:"error",summary:o("error"),detail:o("brand.deleteError"),life:3e3})})},K=()=>{U.value={global:{value:null,matchMode:me.CONTAINS}}};pe(()=>{K()});const g=()=>{C.value=!0,q.get("/api/brand",{params:{page:p.value,per_page:m.value,search:w.value}}).then(t=>{N.value=t.data.data.data,P.value=t.data.data.total,T.value=t.data.data.last_page,O.value=t.data.data.first_page_url,Q.value=t.data.data.last_page_url,M.value=t.data.data.next_page_url,R.value=t.data.data.prev_page_url,E.value=t.data.data.from,F.value=t.data.data.to,j.value=t.data.data.links,C.value=!1}).catch(t=>{C.value=!1,V.add({severity:"error",summary:o("error"),detail:o("brand.loadError"),life:3e3}),console.error("Error fetching brands:",t)})};ue(w,t=>{p.value=1,g()});const h=t=>{t>=1&&t<=T.value&&(p.value=t,g())},X=t=>{m.value=t.value,p.value=1,g()};_e(()=>{g()});const Y=()=>{B.push({name:"brand-create"})},Z=t=>{B.push({name:"brand-edit",params:{id:t}})};return(t,n)=>{const ee=c("InputText"),_=c("Button"),te=c("Toolbar"),ae=c("Toast"),D=c("Column"),oe=c("ProgressSpinner"),se=c("DataTable"),le=c("Dropdown"),ne=c("Dialog"),f=G("can"),z=G("tooltip");return v(),x("div",ye,[e("div",ke,[e("div",Ce,[i(te,{class:"mb-4"},{start:r(()=>[e("h2",we,d(l(o)("brand.managementTitle")),1)]),end:r(()=>[e("div",Te,[e("span",De,[Ve,i(ee,{modelValue:w.value,"onUpdate:modelValue":n[0]||(n[0]=a=>w.value=a),placeholder:l(o)("brand.search")},null,8,["modelValue","placeholder"])]),y(i(_,{label:l(o)("brand.export"),icon:"pi pi-upload",class:"p-export",onClick:W},null,8,["label"]),[[f,"list brands"]]),y(i(_,{label:l(o)("brand.new"),icon:"pi pi-plus",class:"p-button-success",onClick:Y},null,8,["label"]),[[f,"create brands"]])])]),_:1}),i(ae),e("div",Pe,[y((v(),ve(se,{ref_key:"dt",ref:$,value:N.value,loading:C.value,"data-key":"id",paginator:!1,rows:m.value,filters:U.value,totalRecords:P.value,"responsive-layout":"scroll",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{empty:r(()=>[e("div",Se,[Be,e("p",Ie,d(l(o)("brand.noData")),1)])]),loading:r(()=>[e("div",Ne,[i(oe,{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:r(()=>[i(D,{"selection-mode":"multiple","header-style":"width: 3rem"}),i(D,{field:"name_en",header:l(o)("brand.name_en"),sortable:!0},{body:r(a=>[A(d(a.data.name_en),1)]),_:1},8,["header"]),i(D,{field:"name_ar",header:l(o)("brand.name_ar"),sortable:!0},{body:r(a=>[A(d(a.data.name_ar),1)]),_:1},8,["header"]),i(D,{header:l(o)("actions"),headerStyle:"width: 12rem"},{body:r(a=>[y(i(_,{icon:"pi pi-pencil",class:"p-detail",onClick:S=>Z(a.data.id)},null,8,["onClick"]),[[f,"edit brands"],[z,l(o)("edit"),void 0,{top:!0}]]),y(i(_,{icon:"pi pi-trash",class:"p-delete mx-2",onClick:S=>H(a.data.id)},null,8,["onClick"]),[[f,"delete brands"],[z,l(o)("delete"),void 0,{top:!0}]])]),_:1},8,["header"])]),_:1},8,["value","loading","rows","filters","totalRecords"])),[[f,"list brands"]]),e("div",$e,[e("div",Ue,[e("span",Me,d(l(o)("show"))+" "+d(E.value)+" "+d(l(o)("to"))+" "+d(F.value)+" "+d(l(o)("from"))+" "+d(P.value),1)]),e("div",Re,[e("button",{class:"p-paginator-first p-paginator-element p-link",disabled:p.value===1,onClick:n[1]||(n[1]=a=>h(1))},je,8,Ee),e("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!R.value,onClick:n[2]||(n[2]=a=>h(p.value-1))},Le,8,ze),(v(!0),x(L,null,be(j.value,(a,S)=>(v(),x(L,{key:S},[a.label&&!isNaN(a.label)?(v(),x("button",{key:0,class:ge(["p-paginator-page p-paginator-element p-link",{"p-highlight":a.active}]),onClick:et=>h(parseInt(a.label))},d(a.label),11,qe)):a.label==="..."?(v(),x("span",Ae,"...")):he("",!0)],64))),128)),e("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!M.value,onClick:n[3]||(n[3]=a=>h(p.value+1))},We,8,Oe),e("button",{class:"p-paginator-last p-paginator-element p-link",disabled:p.value===T.value,onClick:n[4]||(n[4]=a=>h(T.value))},Ke,8,He),i(le,{modelValue:m.value,"onUpdate:modelValue":n[5]||(n[5]=a=>m.value=a),options:[5,10,20,30],optionLabel:"",onChange:X,class:"ml-2",style:{width:"80px"}},null,8,["modelValue"])])])]),i(ne,{visible:b.value,"onUpdate:visible":n[7]||(n[7]=a=>b.value=a),style:{width:"450px"},header:l(o)("brand.deleteConfirmTitle"),modal:!0},{footer:r(()=>[i(_,{label:l(o)("no"),icon:"pi pi-times",class:"p-button-text",onClick:n[6]||(n[6]=a=>b.value=!1)},null,8,["label"]),i(_,{label:l(o)("yes"),icon:"pi pi-check",class:"p-button-text p-button-danger",onClick:J},null,8,["label"])]),default:r(()=>[e("div",Xe,[Ye,e("span",null,d(l(o)("brand.deleteConfirmMessage")),1)])]),_:1},8,["visible","header"])])])])}}},at=ie(Ze,[["__scopeId","data-v-1f0be6d0"]]);export{at as default};
