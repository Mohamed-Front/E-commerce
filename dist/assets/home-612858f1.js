import{e as ee,a as J,b as ae,S as E,A as H,c as R,P as se}from"./ProductOffers-25294e1c.js";import{_ as K,u as Q,r as p,o as te,a as c,c as S,b as z,w as I,F as q,d as G,e as o,f as u,g as T,h as V,t as W,i as Y,j as le,k as ie,l as ne,m as re}from"./index-65416e33.js";import{c as oe,N as Z}from"./navigation-9e28a6ae.js";import{C as de}from"./CustomTaps-6f33c73a.js";/* empty css                   */function X(F){return F===void 0&&(F=""),`.${F.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ce(F){let{swiper:a,extendParams:C,on:v,emit:k}=F;const h="swiper-pagination";C({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${h}-bullet`,bulletActiveClass:`${h}-bullet-active`,modifierClass:`${h}-`,currentClass:`${h}-current`,totalClass:`${h}-total`,hiddenClass:`${h}-hidden`,progressbarFillClass:`${h}-progressbar-fill`,progressbarOppositeClass:`${h}-progressbar-opposite`,clickableClass:`${h}-clickable`,lockClass:`${h}-lock`,horizontalClass:`${h}-horizontal`,verticalClass:`${h}-vertical`,paginationDisabledClass:`${h}-disabled`}}),a.pagination={el:null,bullets:[]};let $,L=0;const b=e=>(Array.isArray(e)?e:[e]).filter(s=>!!s);function A(){return!a.params.pagination.el||!a.pagination.el||Array.isArray(a.pagination.el)&&a.pagination.el.length===0}function m(e,s){const{bulletActiveClass:t}=a.params.pagination;e&&(e=e[`${s==="prev"?"previous":"next"}ElementSibling`],e&&(e.classList.add(`${t}-${s}`),e=e[`${s==="prev"?"previous":"next"}ElementSibling`],e&&e.classList.add(`${t}-${s}-${s}`)))}function B(e){const s=e.target.closest(X(a.params.pagination.bulletClass));if(!s)return;e.preventDefault();const t=J(s)*a.params.slidesPerGroup;if(a.params.loop){if(a.realIndex===t)return;const l=a.realIndex,f=a.getSlideIndexByData(t),M=a.getSlideIndexByData(a.realIndex);if(f>a.slides.length-a.loopedSlides){const N=a.activeIndex;a.loopFix({direction:f>M?"next":"prev",activeSlideIndex:f,slideTo:!1});const n=a.activeIndex;N===n&&a.slideToLoop(l,0,!1,!0)}a.slideToLoop(t)}else a.slideTo(t)}function d(){const e=a.rtl,s=a.params.pagination;if(A())return;let t=a.pagination.el;t=b(t);let l,f;const M=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,N=a.params.loop?Math.ceil(M/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?(f=a.previousRealIndex||0,l=a.params.slidesPerGroup>1?Math.floor(a.realIndex/a.params.slidesPerGroup):a.realIndex):typeof a.snapIndex<"u"?(l=a.snapIndex,f=a.previousSnapIndex):(f=a.previousIndex||0,l=a.activeIndex||0),s.type==="bullets"&&a.pagination.bullets&&a.pagination.bullets.length>0){const n=a.pagination.bullets;let P,w,U;if(s.dynamicBullets&&($=ee(n[0],a.isHorizontal()?"width":"height",!0),t.forEach(g=>{g.style[a.isHorizontal()?"width":"height"]=`${$*(s.dynamicMainBullets+4)}px`}),s.dynamicMainBullets>1&&f!==void 0&&(L+=l-(f||0),L>s.dynamicMainBullets-1?L=s.dynamicMainBullets-1:L<0&&(L=0)),P=Math.max(l-L,0),w=P+(Math.min(n.length,s.dynamicMainBullets)-1),U=(w+P)/2),n.forEach(g=>{const _=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(y=>`${s.bulletActiveClass}${y}`)].map(y=>typeof y=="string"&&y.includes(" ")?y.split(" "):y).flat();g.classList.remove(..._)}),t.length>1)n.forEach(g=>{const _=J(g);_===l?g.classList.add(...s.bulletActiveClass.split(" ")):a.isElement&&g.setAttribute("part","bullet"),s.dynamicBullets&&(_>=P&&_<=w&&g.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),_===P&&m(g,"prev"),_===w&&m(g,"next"))});else{const g=n[l];if(g&&g.classList.add(...s.bulletActiveClass.split(" ")),a.isElement&&n.forEach((_,y)=>{_.setAttribute("part",y===l?"bullet-active":"bullet")}),s.dynamicBullets){const _=n[P],y=n[w];for(let j=P;j<=w;j+=1)n[j]&&n[j].classList.add(...`${s.bulletActiveClass}-main`.split(" "));m(_,"prev"),m(y,"next")}}if(s.dynamicBullets){const g=Math.min(n.length,s.dynamicMainBullets+4),_=($*g-$)/2-U*$,y=e?"right":"left";n.forEach(j=>{j.style[a.isHorizontal()?y:"top"]=`${_}px`})}}t.forEach((n,P)=>{if(s.type==="fraction"&&(n.querySelectorAll(X(s.currentClass)).forEach(w=>{w.textContent=s.formatFractionCurrent(l+1)}),n.querySelectorAll(X(s.totalClass)).forEach(w=>{w.textContent=s.formatFractionTotal(N)})),s.type==="progressbar"){let w;s.progressbarOpposite?w=a.isHorizontal()?"vertical":"horizontal":w=a.isHorizontal()?"horizontal":"vertical";const U=(l+1)/N;let g=1,_=1;w==="horizontal"?g=U:_=U,n.querySelectorAll(X(s.progressbarFillClass)).forEach(y=>{y.style.transform=`translate3d(0,0,0) scaleX(${g}) scaleY(${_})`,y.style.transitionDuration=`${a.params.speed}ms`})}s.type==="custom"&&s.renderCustom?(n.innerHTML=s.renderCustom(a,l+1,N),P===0&&k("paginationRender",n)):(P===0&&k("paginationRender",n),k("paginationUpdate",n)),a.params.watchOverflow&&a.enabled&&n.classList[a.isLocked?"add":"remove"](s.lockClass)})}function x(){const e=a.params.pagination;if(A())return;const s=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length;let t=a.pagination.el;t=b(t);let l="";if(e.type==="bullets"){let f=a.params.loop?Math.ceil(s/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&f>s&&(f=s);for(let M=0;M<f;M+=1)e.renderBullet?l+=e.renderBullet.call(a,M,e.bulletClass):l+=`<${e.bulletElement} ${a.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}e.type==="fraction"&&(e.renderFraction?l=e.renderFraction.call(a,e.currentClass,e.totalClass):l=`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),e.type==="progressbar"&&(e.renderProgressbar?l=e.renderProgressbar.call(a,e.progressbarFillClass):l=`<span class="${e.progressbarFillClass}"></span>`),a.pagination.bullets=[],t.forEach(f=>{e.type!=="custom"&&(f.innerHTML=l||""),e.type==="bullets"&&a.pagination.bullets.push(...f.querySelectorAll(X(e.bulletClass)))}),e.type!=="custom"&&k("paginationRender",t[0])}function O(){a.params.pagination=oe(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const e=a.params.pagination;if(!e.el)return;let s;typeof e.el=="string"&&a.isElement&&(s=a.el.querySelector(e.el)),!s&&typeof e.el=="string"&&(s=[...document.querySelectorAll(e.el)]),s||(s=e.el),!(!s||s.length===0)&&(a.params.uniqueNavElements&&typeof e.el=="string"&&Array.isArray(s)&&s.length>1&&(s=[...a.el.querySelectorAll(e.el)],s.length>1&&(s=s.filter(t=>ae(t,".swiper")[0]===a.el)[0])),Array.isArray(s)&&s.length===1&&(s=s[0]),Object.assign(a.pagination,{el:s}),s=b(s),s.forEach(t=>{e.type==="bullets"&&e.clickable&&t.classList.add(...(e.clickableClass||"").split(" ")),t.classList.add(e.modifierClass+e.type),t.classList.add(a.isHorizontal()?e.horizontalClass:e.verticalClass),e.type==="bullets"&&e.dynamicBullets&&(t.classList.add(`${e.modifierClass}${e.type}-dynamic`),L=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),e.type==="progressbar"&&e.progressbarOpposite&&t.classList.add(e.progressbarOppositeClass),e.clickable&&t.addEventListener("click",B),a.enabled||t.classList.add(e.lockClass)}))}function D(){const e=a.params.pagination;if(A())return;let s=a.pagination.el;s&&(s=b(s),s.forEach(t=>{t.classList.remove(e.hiddenClass),t.classList.remove(e.modifierClass+e.type),t.classList.remove(a.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(t.classList.remove(...(e.clickableClass||"").split(" ")),t.removeEventListener("click",B))})),a.pagination.bullets&&a.pagination.bullets.forEach(t=>t.classList.remove(...e.bulletActiveClass.split(" ")))}v("changeDirection",()=>{if(!a.pagination||!a.pagination.el)return;const e=a.params.pagination;let{el:s}=a.pagination;s=b(s),s.forEach(t=>{t.classList.remove(e.horizontalClass,e.verticalClass),t.classList.add(a.isHorizontal()?e.horizontalClass:e.verticalClass)})}),v("init",()=>{a.params.pagination.enabled===!1?r():(O(),x(),d())}),v("activeIndexChange",()=>{typeof a.snapIndex>"u"&&d()}),v("snapIndexChange",()=>{d()}),v("snapGridLengthChange",()=>{x(),d()}),v("destroy",()=>{D()}),v("enable disable",()=>{let{el:e}=a.pagination;e&&(e=b(e),e.forEach(s=>s.classList[a.enabled?"remove":"add"](a.params.pagination.lockClass)))}),v("lock unlock",()=>{d()}),v("click",(e,s)=>{const t=s.target,l=b(a.pagination.el);if(a.params.pagination.el&&a.params.pagination.hideOnClick&&l&&l.length>0&&!t.classList.contains(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&t===a.navigation.nextEl||a.navigation.prevEl&&t===a.navigation.prevEl))return;const f=l[0].classList.contains(a.params.pagination.hiddenClass);k(f===!0?"paginationShow":"paginationHide"),l.forEach(M=>M.classList.toggle(a.params.pagination.hiddenClass))}});const i=()=>{a.el.classList.remove(a.params.pagination.paginationDisabledClass);let{el:e}=a.pagination;e&&(e=b(e),e.forEach(s=>s.classList.remove(a.params.pagination.paginationDisabledClass))),O(),x(),d()},r=()=>{a.el.classList.add(a.params.pagination.paginationDisabledClass);let{el:e}=a.pagination;e&&(e=b(e),e.forEach(s=>s.classList.add(a.params.pagination.paginationDisabledClass))),D()};Object.assign(a.pagination,{enable:i,disable:r,render:x,update:d,init:O,destroy:D})}const ue={class:"mx-auto max-w-[1400px] px-4"},pe=["onClick"],me=["src","alt"],fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8 max-w-7xl mx-auto"},ge={class:"rounded-xl shadow-lg overflow-hidden"},he=["onClick"],ve=["src","alt"],_e={class:"bg-white rounded-xl shadow-lg overflow-hidden"},be=["onClick"],xe=["src","alt"],ye={key:1,class:"py-2 rounded-sm px-2 bg-[#1F3A932B] mx-auto max-w-7xl"},we=["onClick"],Ce=["src","alt"],ke={class:"p-3 w-full text-center rounded-xl"},$e={class:"font-bold text-sm text-black"},Ie={key:2,class:"my-8 max-w-5xl mx-auto"},Le=["src"],Se={__name:"StoreDetails",setup(F){const a=Q(),C=p([]),v=p([]),k=p([]),h=p(null),$=p(null),L=p(null),b=p([]),A=p(localStorage.getItem("defaultStoreId")||"4"),m=p(null),B=(i,r)=>(i==null?void 0:i.find(e=>e.name===r))||null,d=(i,r)=>(i==null?void 0:i.filter(e=>e.name===r))||[],x=i=>{if(!i||!i.media_links){console.log("Media item or media links are missing. Cannot navigate.",i);return}const{type:r,id:e}=i.media_links;r===1?a.push({name:"media-products",params:{id:e}}):r===2?a.push({name:"media-category",params:{id:e}}):console.log("Unsupported media link type:",r)},O=i=>{a.push({name:"subcategory",params:{id:i.id}})},D=async()=>{try{const i=await Y.get(`/api/home/store-details/${A.value}`),{store:r}=i.data.data,e=r.media||[];C.value=d(e,"slider_images_one"),v.value=d(e,"slider_images_two"),k.value=d(e,"slider_images_three"),h.value=B(e,"main_banner_image"),$.value=B(e,"sub_banner_image"),L.value=B(e,"store_image"),b.value=r.categories||[],m.value&&m.value.swiper&&(m.value.swiper.update(),m.value.swiper.autoplay.start())}catch(i){console.error("Error fetching store details:",i)}};return te(()=>{A.value&&D()}),(i,r)=>(c(),S("div",ue,[C.value.length?(c(),z(o(R),{key:0,modules:[o(H),o(Z)],breakpoints:{320:{slidesPerView:1},640:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:1}},"space-between":10,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:!1,class:"w-full"},{default:I(()=>[(c(!0),S(q,null,G(C.value,(e,s)=>(c(),z(o(E),{key:s},{default:I(()=>[u("div",{onClick:t=>x(e),class:"flex w-full max-h-[50vh] items-center justify-center bg-gradient-to-br from-gray-50 to-gray-300 rounded-xl shadow-lg overflow-hidden cursor-pointer"},[u("img",{src:e.url,alt:`Slider Image ${s+1}`,class:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy"},null,8,me)],8,pe)]),_:2},1024))),128))]),_:1},8,["modules"])):T("",!0),u("div",fe,[u("div",ge,[v.value.length?(c(),z(o(R),{key:0,modules:[o(H)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:I(()=>[(c(!0),S(q,null,G(v.value,(e,s)=>(c(),z(o(E),{key:"two-"+s},{default:I(()=>[u("div",{onClick:t=>x(e),class:"flex w-full max-h-64 items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl overflow-hidden cursor-pointer"},[u("img",{src:e.url,alt:`Slider Two Image ${s+1}`,class:"w-full h-64 object-cover rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy"},null,8,ve)],8,he)]),_:2},1024))),128))]),_:1},8,["modules"])):T("",!0)]),u("div",_e,[k.value.length?(c(),z(o(R),{key:0,modules:[o(H)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:I(()=>[(c(!0),S(q,null,G(k.value,(e,s)=>(c(),z(o(E),{key:"three-"+s},{default:I(()=>[u("div",{onClick:t=>x(e),class:"flex w-full h-64 items-center justify-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl overflow-hidden cursor-pointer"},[u("img",{src:e.url,alt:`Slider Three Image ${s+1}`,class:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy"},null,8,xe)],8,be)]),_:2},1024))),128))]),_:1},8,["modules"])):T("",!0)])]),b.value.length>1?(c(),S("div",ye,[V(o(R),{ref_key:"categoriesSwiper",ref:m,modules:[o(H),o(ce)],"slides-per-view":8,"space-between":10,navigation:!1,autoplay:{delay:600,disableOnInteraction:!1},pagination:{clickable:!0},class:"w-full",breakpoints:{320:{slidesPerView:2},640:{slidesPerView:2},768:{slidesPerView:5},1024:{slidesPerView:7}}},{default:I(()=>[(c(!0),S(q,null,G(b.value,(e,s)=>(c(),z(o(E),{key:s},{default:I(()=>{var t;return[u("div",{onClick:l=>O(e),class:"flex flex-col items-center justify-center rounded-xl h-full w-full cursor-pointer"},[e!=null&&e.media?(c(),S("img",{key:0,src:(t=e==null?void 0:e.media[0])==null?void 0:t.url,alt:e.name_en||"Category Image",class:"w-full h-full object-cover rounded-xl",loading:"lazy"},null,8,Ce)):T("",!0),u("div",ke,[u("span",$e,W(e!=null&&e.name_ar?e.name_ar.slice(0,20):"Category"),1)])],8,we)]}),_:2},1024))),128))]),_:1},8,["modules"])])):T("",!0),$.value?(c(),S("div",Ie,[u("div",{onClick:r[0]||(r[0]=e=>x($.value)),class:"relative overflow-hidden rounded-2xl shadow-lg animate-banner-slide cursor-pointer"},[u("img",{src:$.value.url,class:"w-full h-64 sm:h-40 md:h-46 object-cover transition-transform duration-700 hover:scale-105",loading:"lazy"},null,8,Le),r[1]||(r[1]=u("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent flex items-center justify-center p-6"},null,-1))])])):T("",!0)]))}},Be=K(Se,[["__scopeId","data-v-43d7a486"]]);const Pe={class:"min-h-[100vh]"},Me=["onClick"],ze=["src"],Ae={class:"contaner"},Oe={class:"mx-auto mt-16 w-[100%] max-w-7xl"},De={__name:"home",setup(F){le();const a=Q();ie(),p({title:"",products:[]}),p({title:"",products:[]});const C=p({}),v=p([]),k=p({}),h=p({});p({title:"",products:[]}),p(!1),p(null),p(localStorage.getItem("appLang")||"ar");const $=p(localStorage.getItem("defaultStoreId")),L=ne(()=>Object.values(k.value)),b=m=>{console.log(m),m.has_subcategories?a.push({name:"subcategory",params:{id:m.id}}):a.push({name:"produts_category",params:{id:m.id}})},A=async()=>{var m,B,d,x,O,D,i;try{(await Y.get(`api/home/get-categories/${$.value}`)).data.data.forEach(s=>{k.value[s.id]={name:localStorage.getItem("appLang")=="en"?s.name_en:s.name_ar||s.name_en,id:s.id,has_subcategories:s.has_subcategories}});const e=await Y.get("api/home/get-media-link");v.value=e.data.data.map(s=>({url:s.url,id:s.id})),((m=C.value.media)==null?void 0:m.length)>0&&(h.value={store_image:(B=C.value.media.find(s=>s.name=="store_image"))==null?void 0:B.url,sub_banner_image:(d=C.value.media.find(s=>s.name=="sub_banner_image"))==null?void 0:d.url,slider_images_one:(x=C.value.media.find(s=>s.name=="slider_images_one"))==null?void 0:x.url,slider_images_two:(O=C.value.media.find(s=>s.name=="slider_images_two"))==null?void 0:O.url,slider_images_three:(D=C.value.media.find(s=>s.name=="slider_images_three"))==null?void 0:D.url,main_banner_image:(i=C.value.media.find(s=>s.name=="main_banner_image"))==null?void 0:i.url})}catch(r){console.error("Error fetching data:",r)}};return re(()=>{A()}),(m,B)=>(c(),S("main",Pe,[u("header",null,[V(o(R),{modules:[o(H),o(Z)],"slides-per-view":5,"space-between":25,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},speed:3e3,navigation:!1,"grab-cursor":"",class:"h-[58px] mt-2",breakpoints:{0:{slidesPerView:4,spaceBetween:5},480:{slidesPerView:3,spaceBetween:5},768:{slidesPerView:4,spaceBetween:5},1024:{slidesPerView:8,spaceBetween:5}}},{default:I(()=>[(c(!0),S(q,null,G(L.value,d=>(c(),z(o(E),{key:d.id,class:"flex items-center justify-center"},{default:I(()=>[u("div",{class:"titels font-sans bg-[#1F3A93] h-[40px] min-w-[80px] sm:h-[44px] sm:min-w-[100px] md:h-[48px] md:min-w-[140px] text-[.5rem] sm:text-[.8rem] md:text-[.8rem] text-center place-content-center font-bold rounded-lg shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl cursor-pointer text-white",onClick:x=>b(d)},W(d.name),9,Me)]),_:2},1024))),128))]),_:1},8,["modules"]),V(o(R),{modules:[o(H)],"slides-per-view":1.3,"centered-slides":!0,"space-between":10,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},speed:3e3,"grab-cursor":"",class:"my-swiper mt-2"},{default:I(()=>[(c(!0),S(q,null,G(v.value,(d,x)=>(c(),z(o(E),{key:x,class:"flex justify-center"},{default:I(()=>[u("img",{src:d.url,class:"w-full h-auto max-w-[1200px] max-h-[600px] object-contain mb-2 rounded-lg"},null,8,ze)]),_:2},1024))),128))]),_:1},8,["modules"])]),V(Be),u("div",Ae,[u("section",Oe,[V(se)]),V(de)])]))}},He=K(De,[["__scopeId","data-v-bc2dbfa3"]]);export{He as default};
