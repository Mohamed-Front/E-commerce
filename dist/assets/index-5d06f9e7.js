import{b as K,L as O,u as ee,r as i,w as te,d as ae,V as z,o as m,e as y,f as l,g as o,i as r,j as e,z as v,c as se,t as d,F as M,h as le,a as F,X as oe,Y as u,Z as ie,$ as ne,a0 as de,a1 as _,s as P,a6 as re,a2 as ce,x as ue,B as pe,a3 as me,a5 as ve}from"./index-b794012a.js";const _e={class:"grid"},he={class:"col-12"},be={class:"card p-4 shadow-2 border-round"},ge={class:"text-2xl font-bold"},fe={class:"flex gap-2"},ye={class:"p-input-icon-left"},xe=l("i",{class:"pi pi-search"},null,-1),we={class:"card shadow-1 surface-0"},Te={class:"text-center py-4"},ke=l("i",{class:"pi pi-exclamation-circle text-2xl mb-2"},null,-1),Ce={class:"text-xl"},$e={class:"flex justify-content-center align-items-center py-4"},Ve={class:"p-paginator p-component p-unselectable-text p-paginator-bottom"},De={class:"p-paginator-left-content"},Pe={class:"p-paginator-current"},Ne={class:"p-paginator-right-content"},Ue=["disabled"],Ee=l("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1),Re=[Ee],Be=["disabled"],Se=l("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1),Ie=[Se],je=["onClick"],ze={key:1,class:"p-paginator-dots"},Me=["disabled"],Fe=l("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1),Le=[Fe],Ae=["disabled"],Ge=l("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1),Qe=[Ge],We={class:"flex align-items-center justify-content-center"},Xe=l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem",color:"var(--red-500)"}},null,-1),He={setup(Ye){const C=K(),$=O(),{t:s}=ee(),x=i(!0),N=i([]),h=i(!1),U=i(null),E=i(null),L=i({}),w=i("");i(null);const c=i(1),V=i(0),p=i(10),T=i(0),A=i(""),G=i(""),R=i(""),B=i(""),S=i(0),I=i(0),j=i([]),b=()=>{x.value=!0,F.get("/api/custom-tabs",{params:{page:c.value,limit:p.value,search:w.value||void 0}}).then(a=>{N.value=a.data.data.data,V.value=a.data.data.total,T.value=a.data.data.last_page,A.value=a.data.data.first_page_url,G.value=a.data.data.last_page_url,R.value=a.data.data.next_page_url,B.value=a.data.data.prev_page_url,S.value=a.data.data.from,I.value=a.data.data.to,j.value=a.data.data.links,x.value=!1}).catch(a=>{$.add({severity:"error",summary:s("error"),detail:s("customTabs.loadError"),life:3e3}),x.value=!1,console.error("Error fetching custom tabs:",a)})};te([w,p],()=>{c.value=1,b()});const g=a=>{a>=1&&a<=T.value&&(c.value=a,b())},Q=a=>{p.value=a.value,c.value=1,b()},W=a=>{U.value=a,h.value=!0},X=()=>{F.delete(`/api/custom-tabs/${U.value}`).then(()=>{$.add({severity:"success",summary:s("success"),detail:s("customTabs.deleteSuccess"),life:3e3}),b(),h.value=!1}).catch(a=>{$.add({severity:"error",summary:s("error"),detail:s("customTabs.deleteError"),life:3e3}),console.error("Error deleting custom tab:",a)})},Y=()=>{E.value.exportCSV()},Z=()=>{C.push({name:"custom_tabs_create"})},q=a=>{C.push({name:"custom_tabs_update",params:{id:a}})},H=a=>{C.push({name:"custom_tabs_show",params:{id:a}})},J=a=>a===1?"success":"info";return ae(()=>{b()}),(a,n)=>{const f=z("can"),D=z("tooltip");return m(),y("div",_e,[l("div",he,[l("div",be,[o(e(ie),{class:"mb-4"},{start:r(()=>[l("h2",ge,d(e(s)("customTabs.managementTitle")),1)]),end:r(()=>[l("div",fe,[l("span",ye,[xe,o(e(oe),{modelValue:w.value,"onUpdate:modelValue":n[0]||(n[0]=t=>w.value=t),placeholder:e(s)("customTabs.search")},null,8,["modelValue","placeholder"])]),v(o(e(u),{label:e(s)("customTabs.export"),icon:"pi pi-upload",class:"p-export",onClick:Y},null,8,["label"]),[[f,"list custom tabs"]]),v(o(e(u),{label:e(s)("customTabs.new"),icon:"pi pi-plus",class:"p-button-success",onClick:Z},null,8,["label"]),[[f,"create custom tabs"]])])]),_:1}),o(e(ne)),l("div",we,[v((m(),se(e(ce),{ref_key:"dt",ref:E,value:N.value,loading:x.value,"data-key":"id",paginator:!1,rows:p.value,filters:L.value,totalRecords:V.value,"responsive-layout":"scroll",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{empty:r(()=>[l("div",Te,[ke,l("p",Ce,d(e(s)("customTabs.noData")),1)])]),loading:r(()=>[l("div",$e,[o(e(de),{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:r(()=>[o(e(_),{"selection-mode":"multiple","header-style":"width: 3rem"}),o(e(_),{field:"name_en",header:e(s)("customTabs.nameEn"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:r(t=>[P(d(t.data.name_en),1)]),_:1},8,["header"]),o(e(_),{field:"name_ar",header:e(s)("customTabs.nameAr"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:r(t=>[P(d(t.data.name_ar),1)]),_:1},8,["header"]),o(e(_),{field:"model_type",header:e(s)("customTabs.modelType"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:r(t=>[P(d(t.data.model_type||e(s)("customTabs.noModelType")),1)]),_:1},8,["header"]),o(e(_),{field:"type_description",header:e(s)("customTabs.typeDescription"),sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:r(t=>[o(e(re),{value:t.data.type_description||e(s)("customTabs.noType"),severity:J(t.data.type)},null,8,["value","severity"])]),_:1},8,["header"]),o(e(_),{header:e(s)("actions"),"header-style":"width:15rem;"},{body:r(t=>[v(o(e(u),{icon:"pi pi-pencil",class:"p-detail",onClick:k=>q(t.data.id)},null,8,["onClick"]),[[f,"edit custom tabs"],[D,e(s)("edit"),void 0,{top:!0}]]),v(o(e(u),{icon:"pi pi-trash mx-2",class:"p-delete",onClick:k=>W(t.data.id)},null,8,["onClick"]),[[f,"delete custom tabs"],[D,e(s)("delete"),void 0,{top:!0}]]),v(o(e(u),{icon:"pi pi-eye mx-2",class:"p-detail",onClick:k=>H(t.data.id)},null,8,["onClick"]),[[D,e(s)("show"),void 0,{top:!0}]])]),_:1},8,["header"])]),_:1},8,["value","loading","rows","filters","totalRecords"])),[[f,"list custom tabs"]]),l("div",Ve,[l("div",De,[l("span",Pe,d(e(s)("show"))+" "+d(S.value)+" "+d(e(s)("to"))+" "+d(I.value)+" "+d(e(s)("from"))+" "+d(V.value),1)]),l("div",Ne,[l("button",{class:"p-paginator-first p-paginator-element p-link",disabled:c.value===1,onClick:n[1]||(n[1]=t=>g(1))},Re,8,Ue),l("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!B.value,onClick:n[2]||(n[2]=t=>g(c.value-1))},Ie,8,Be),(m(!0),y(M,null,le(j.value,(t,k)=>(m(),y(M,{key:k},[t.label&&!isNaN(parseInt(t.label))?(m(),y("button",{key:0,class:ue(["p-paginator-page p-paginator-element p-link",{"p-highlight":t.active}]),onClick:Ze=>g(parseInt(t.label))},d(t.label),11,je)):t.label==="..."?(m(),y("span",ze,"...")):pe("",!0)],64))),128)),l("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!R.value,onClick:n[3]||(n[3]=t=>g(c.value+1))},Le,8,Me),l("button",{class:"p-paginator-last p-paginator-element p-link",disabled:c.value===T.value,onClick:n[4]||(n[4]=t=>g(T.value))},Qe,8,Ae),o(e(me),{modelValue:p.value,"onUpdate:modelValue":n[5]||(n[5]=t=>p.value=t),options:[5,10,20,30],onChange:Q,class:"ml-2",style:{width:"80px"}},null,8,["modelValue"])])])]),o(e(ve),{visible:h.value,"onUpdate:visible":n[7]||(n[7]=t=>h.value=t),style:{width:"450px"},header:e(s)("customTabs.deleteConfirmTitle"),modal:!0},{footer:r(()=>[o(e(u),{label:e(s)("no"),icon:"pi pi-times",class:"p-button-text",onClick:n[6]||(n[6]=t=>h.value=!1)},null,8,["label"]),o(e(u),{label:e(s)("yes"),icon:"pi pi-check",class:"p-button-text p-button-danger",onClick:X},null,8,["label"])]),default:r(()=>[l("div",We,[Xe,l("span",null,d(e(s)("customTabs.deleteConfirmMessage")),1)])]),_:1},8,["visible","header"])])])])}}};export{He as default};
