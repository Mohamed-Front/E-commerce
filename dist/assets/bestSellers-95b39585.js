import{b as d}from"./productsSwiper-12ab8ffc.js";import{i as _,r as h,x as f,a as g,b,h as S}from"./index-90a6bf85.js";const y={__name:"Exclusiveoffers",props:{Stor:{type:Object,required:!0}},setup(l){const{t:m}=_(),n=h({title:m("category.exclusive"),products:[]}),o=l;class u{constructor(s,a,r,t){this.name=s,this.img=a,this.price=r,this.id=t}}const p=async()=>{var e;try{const s=(e=o.Stor)==null?void 0:e.id;if(!s)return;const a=await S.get(`api/home/discounts/${s}`),r=localStorage.getItem("appLang")||"en";n.value.products=a.data.data.data.map(t=>{var c,i;return new u(r==="en"?t.name_en:t.name_ar||t.name_en,((i=(c=t.media)==null?void 0:c[0])==null?void 0:i.url)||"",t.base_price,t.id)})}catch(s){console.error("Failed to fetch best sellers:",s)}};return f(()=>{var e;return(e=o.Stor)==null?void 0:e.id},e=>{e&&p()},{immediate:!0}),(e,s)=>(g(),b(d,{products:n.value},null,8,["products"]))}},w={__name:"bestSellers",props:{Stor:{type:Object,required:!0}},setup(l){const{t:m}=_(),n=h({title:m("category.bestsellers"),products:[]}),o=l;class u{constructor(s,a,r,t){this.name=s,this.img=a,this.price=r,this.id=t}}const p=async()=>{var e;try{const s=(e=o.Stor)==null?void 0:e.id;if(!s)return;const a=await S.get(`api/home/best-sellers/${s}`),r=localStorage.getItem("appLang")||"en";n.value.products=a.data.data.data.map(t=>{var c,i;return new u(r==="en"?t.name_en:t.name_ar||t.name_en,((i=(c=t.media)==null?void 0:c[0])==null?void 0:i.url)||"",t.base_price,t.id)})}catch(s){console.error("Failed to fetch best sellers:",s)}};return f(()=>{var e;return(e=o.Stor)==null?void 0:e.id},e=>{e&&p()},{immediate:!0}),(e,s)=>(g(),b(d,{products:n.value},null,8,["products"]))}};export{y as _,w as a};
