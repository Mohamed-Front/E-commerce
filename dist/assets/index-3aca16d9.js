import{_ as ee,u as te,M as ae,j as se,r as o,m as le,n as ie,o as ne,P as O,a as h,c as k,f as i,h as n,w as r,e,A as w,b as oe,t as d,F,d as re,Y as de,i as E,R as pe,T as b,Z as ue,N as ce,C as ge,$ as u,O as v,a4 as I,ah as ve,a0 as he,x as be,g as me,a1 as _e,a2 as fe}from"./index-5d7df6f4.js";const ye={class:"grid"},xe={class:"col-12"},Se={class:"card p-4 shadow-2 border-round"},ke={class:"text-2xl font-bold"},we={class:"flex gap-2"},Ce={class:"p-input-icon-left"},$e={class:"card shadow-1 surface-0"},Ve={class:"text-center py-4"},Ne={class:"text-xl"},Ee={class:"flex justify-content-center align-items-center py-4"},Re={class:"p-paginator p-component p-unselectable-text p-paginator-bottom"},Ue={class:"p-paginator-left-content"},Te={class:"p-paginator-current"},Pe={class:"p-paginator-right-content"},De=["disabled"],Le=["disabled"],Me=["onClick"],je={key:1,class:"p-paginator-dots"},Ae=["disabled"],Be=["disabled"],Oe={class:"flex align-items-center justify-content-center"},Fe={__name:"index",setup(Ie){const R=te(),m=ae(),{t}=se(),C=o(!0),U=o("");o({});const T=o(null);o(!1),o(!1);const _=o(!1);o(null);const z=o(null),P=o({}),$=o(""),g=o(1),N=o(0),f=o(10),V=o(0),G=o(""),Q=o(""),D=o(""),L=o(""),M=o(0),j=o(0),A=o([]),B=o([{label:t("days.monday"),value:1},{label:t("days.tuesday"),value:2},{label:t("days.wednesday"),value:3},{label:t("days.thursday"),value:4},{label:t("days.friday"),value:5},{label:t("days.saturday"),value:6},{label:t("days.sunday"),value:7}]),W=()=>{E.get("/api/export/shipping-setting",{responseType:"blob"}).then(l=>{const s=new Blob([l.data],{type:"text/csv"}),p=window.URL.createObjectURL(s),c=document.createElement("a");c.href=p,c.setAttribute("download","shipping_settings_export.csv"),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(p),m.add({severity:"success",summary:t("success"),detail:t("shippingSetting.exportSuccess"),life:3e3})}).catch(l=>{m.add({severity:"error",summary:t("error"),detail:t("shippingSetting.exportError"),life:3e3}),console.error("Error exporting shipping settings:",l)})},Y=l=>{U.value=l,_.value=!0},Z=()=>{E.delete(`/api/shipping-setting/${U.value}`).then(()=>{y(),_.value=!1,m.add({severity:"success",summary:t("success"),detail:t("shippingSetting.deletedSuccess"),life:3e3})}).catch(()=>{m.add({severity:"error",summary:t("error"),detail:t("shippingSetting.deleteError"),life:3e3})})},q=()=>{P.value={global:{value:null,matchMode:de.CONTAINS}}};le(()=>{q()});const y=()=>{C.value=!0,E.get("/api/shipping-setting",{params:{page:g.value,limit:f.value,search:$.value}}).then(l=>{C.value=!1,T.value=l.data.data.data,N.value=l.data.data.total,V.value=l.data.data.last_page,G.value=l.data.data.first_page_url,Q.value=l.data.data.last_page_url,D.value=l.data.data.next_page_url,L.value=l.data.data.prev_page_url,M.value=l.data.data.from,j.value=l.data.data.to,A.value=l.data.data.links}).catch(l=>{C.value=!1,m.add({severity:"error",summary:t("error"),detail:t("shippingSetting.loadError"),life:3e3}),console.error("Error fetching data:",l)})};ie($,l=>{g.value=1,y()});const x=l=>{l>=1&&l<=V.value&&(g.value=l,y())},H=l=>{f.value=l.value,g.value=1,y()};ne(()=>{y()});const J=()=>{R.push({name:"shipping-create"})},K=l=>{R.push({name:"shipping-update",params:{id:l}})},X=l=>l.map(s=>{var p;return((p=B.value.find(c=>c.value===s))==null?void 0:p.label)||s}).join(", ");return(l,s)=>{const p=O("can"),c=O("tooltip");return h(),k("div",ye,[i("div",xe,[i("div",Se,[n(e(ue),{class:"mb-4"},{start:r(()=>[i("h2",ke,d(e(t)("shippingSetting.managementTitle")),1)]),end:r(()=>[i("div",we,[i("span",Ce,[s[8]||(s[8]=i("i",{class:"pi pi-search"},null,-1)),n(e(pe),{modelValue:$.value,"onUpdate:modelValue":s[0]||(s[0]=a=>$.value=a),placeholder:e(t)("shippingSetting.search")},null,8,["modelValue","placeholder"])]),w(n(e(b),{label:e(t)("shippingSetting.export"),icon:"pi pi-upload",class:"p-export",onClick:W},null,8,["label"]),[[p,"list shipping settings"]]),w(n(e(b),{label:e(t)("shippingSetting.new"),icon:"pi pi-plus",class:"p-button-success",onClick:J},null,8,["label"]),[[p,"create shipping settings"]])])]),_:1}),n(e(ce)),i("div",$e,[w((h(),oe(e(he),{ref_key:"dt",ref:z,value:T.value,loading:C.value,"data-key":"id",paginator:!1,rows:f.value,filters:P.value,totalRecords:N.value,"responsive-layout":"scroll",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{empty:r(()=>[i("div",Ve,[s[9]||(s[9]=i("i",{class:"pi pi-exclamation-circle text-2xl mb-2"},null,-1)),i("p",Ne,d(e(t)("shippingSetting.noData")),1)])]),loading:r(()=>[i("div",Ee,[n(e(ge),{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:r(()=>[n(e(u),{"selection-mode":"multiple","header-style":"width: 3rem"}),n(e(u),{field:"store.name_en",header:e(t)("shippingSetting.storeNameEn"),sortable:!0},{body:r(a=>[v(d(a.data.store.name_en),1)]),_:1},8,["header"]),n(e(u),{field:"store.name_ar",header:e(t)("shippingSetting.storeNameAr"),sortable:!0},{body:r(a=>[v(d(a.data.store.name_ar),1)]),_:1},8,["header"]),n(e(u),{field:"is_enabled",header:e(t)("shippingSetting.isEnabled"),sortable:!0},{body:r(a=>[n(e(I),{value:a.data.is_enabled?e(t)("shippingSetting.yes"):e(t)("shippingSetting.no"),severity:a.data.is_enabled?"success":"info"},null,8,["value","severity"])]),_:1},8,["header"]),n(e(u),{field:"min_amount",header:e(t)("shippingSetting.minAmount"),sortable:!0},{body:r(a=>[v(d(a.data.min_amount),1)]),_:1},8,["header"]),n(e(u),{field:"free_amount",header:e(t)("shippingSetting.freeAmount"),sortable:!0},{body:r(a=>[v(d(a.data.free_amount),1)]),_:1},8,["header"]),n(e(u),{field:"express_enabled",header:e(t)("shippingSetting.expressEnabled"),sortable:!0},{body:r(a=>[n(e(I),{value:a.data.express_enabled?e(t)("shippingSetting.yes"):e(t)("shippingSetting.no"),severity:a.data.express_enabled?"success":"info"},null,8,["value","severity"])]),_:1},8,["header"]),n(e(u),{field:"days",header:e(t)("shippingSetting.days"),sortable:!1},{body:r(a=>[n(e(ve),{modelValue:a.data.days,options:B.value,optionLabel:"label",optionValue:"value",disabled:!0,placeholder:e(t)("shippingSetting.selectDays"),class:"w-full"},{value:r(S=>[v(d(X(S.value)),1)]),_:2},1032,["modelValue","options","placeholder"])]),_:1},8,["header"]),n(e(u),{field:"from",header:e(t)("shippingSetting.fromTime"),sortable:!0},{body:r(a=>[v(d(a.data.from),1)]),_:1},8,["header"]),n(e(u),{field:"to",header:e(t)("shippingSetting.toTime"),sortable:!0},{body:r(a=>[v(d(a.data.to),1)]),_:1},8,["header"]),n(e(u),{header:e(t)("actions"),headerStyle:"width: 12rem"},{body:r(a=>[w(n(e(b),{icon:"pi pi-pencil",class:"p-detail",onClick:S=>K(a.data.id)},null,8,["onClick"]),[[p,"edit shipping settings"],[c,e(t)("edit"),void 0,{top:!0}]]),w(n(e(b),{icon:"pi pi-trash",class:"p-delete mx-2",onClick:S=>Y(a.data.id)},null,8,["onClick"]),[[p,"delete shipping settings"],[c,e(t)("delete"),void 0,{top:!0}]])]),_:1},8,["header"])]),_:1},8,["value","loading","rows","filters","totalRecords"])),[[p,"list shipping settings"]]),i("div",Re,[i("div",Ue,[i("span",Te,d(e(t)("show"))+" "+d(M.value)+" "+d(e(t)("to"))+" "+d(j.value)+" "+d(e(t)("from"))+" "+d(N.value),1)]),i("div",Pe,[i("button",{class:"p-paginator-first p-paginator-element p-link",disabled:g.value===1,onClick:s[1]||(s[1]=a=>x(1))},s[10]||(s[10]=[i("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)]),8,De),i("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:!L.value,onClick:s[2]||(s[2]=a=>x(g.value-1))},s[11]||(s[11]=[i("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)]),8,Le),(h(!0),k(F,null,re(A.value,(a,S)=>(h(),k(F,{key:S},[a.label&&!isNaN(a.label)?(h(),k("button",{key:0,class:be(["p-paginator-page p-paginator-element p-link",{"p-highlight":a.active}]),onClick:ze=>x(parseInt(a.label))},d(a.label),11,Me)):a.label==="..."?(h(),k("span",je,"...")):me("",!0)],64))),128)),i("button",{class:"p-paginator-next p-paginator-element p-link",disabled:!D.value,onClick:s[3]||(s[3]=a=>x(g.value+1))},s[12]||(s[12]=[i("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)]),8,Ae),i("button",{class:"p-paginator-last p-paginator-element p-link",disabled:g.value===V.value,onClick:s[4]||(s[4]=a=>x(V.value))},s[13]||(s[13]=[i("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)]),8,Be),n(e(_e),{filter:"",modelValue:f.value,"onUpdate:modelValue":s[5]||(s[5]=a=>f.value=a),options:[5,10,20,30],optionLabel:"",onChange:H,class:"ml-2",style:{width:"80px"}},null,8,["modelValue"])])])]),n(e(fe),{visible:_.value,"onUpdate:visible":s[7]||(s[7]=a=>_.value=a),style:{width:"450px"},header:e(t)("shippingSetting.deleteConfirmTitle"),modal:!0},{footer:r(()=>[n(e(b),{label:e(t)("no"),icon:"pi pi-times",class:"p-button-text",onClick:s[6]||(s[6]=a=>_.value=!1)},null,8,["label"]),n(e(b),{label:e(t)("yes"),icon:"pi pi-check",class:"p-button-text p-button-danger",onClick:Z},null,8,["label"])]),default:r(()=>[i("div",Oe,[s[14]||(s[14]=i("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem",color:"var(--red-500)"}},null,-1)),i("span",null,d(e(t)("shippingSetting.deleteConfirmMessage")),1)])]),_:1},8,["visible","header"])])])])}}},Qe=ee(Fe,[["__scopeId","data-v-4b57c4a0"]]);export{Qe as default};
