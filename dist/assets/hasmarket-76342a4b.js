import{_ as J,k as K,j as Q,i as T,r as c,o as U,a as r,c as p,e as s,t as _,u as l,g as y,w as v,f as k,b as f,F as B,d as F,h as V}from"./index-c6bdefab.js";import{b as C,S,A as P,a as $}from"./productsSwiper-7112a254.js";/* empty css                   *//* empty css                   */import{_ as h}from"./loginFormImg-996307c8.js";const W={class:"mx-auto bg-gradient-to-b from-[#FAF7F0] to-white mt-16 max-w-7xl px-4 sm:px-6 lg:px-8"},X={key:0,class:"text-center py-16 animate-pulse"},Y={class:"text-gray-600 text-lg font-medium"},Z={key:1,class:"text-center py-16 text-red-600"},ee={class:"text-lg font-semibold"},ae={key:2},se={class:"text-center mb-12"},te={class:"text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight animate-fade-in"},le={class:"mt-2 text-gray-500 text-sm sm:text-base"},re={class:"relative mb-16"},ne={class:"relative w-full h-[300px] sm:h-[400px] lg:h-[500px]"},ie=["src","alt"],oe={class:"mt-16"},de={class:"w-full h-48 overflow-hidden rounded-xl shadow-md relative"},ue=["src","alt"],ce={class:"font-sans mt-4 mb-1 text-gray-800 font-semibold text-sm sm:text-base md:text-lg"},me={key:0,class:"mt-16"},pe={class:"font-bold font-sans text-gray-800 text-2xl sm:text-3xl lg:text-4xl mb-8 animate-slide-up"},_e={class:"w-full h-48 overflow-hidden rounded-xl shadow-md relative"},ve=["src","alt"],fe={class:"font-sans mt-4 mb-1 text-gray-800 font-semibold text-sm sm:text-base md:text-lg"},ge={class:"mt-16 space-y-16"},he={__name:"hasmarket",setup(we){const w=K(),L=Q(),{t:u,locale:g}=T(),m=c({}),A=c(""),D=c([]),O=c([]),b=c([]),E=c({title:"Exclusive Offers",products:[]}),N=c({title:"Best Sellers",products:[]}),I=c({title:"New Arrivals",products:[]}),o=c(!1),d=c(null),j=a=>g.value==="ar"?a.name_ar||a.name_en:a.name_en||a.name_ar,R=async()=>{o.value=!0,d.value=null;try{const a=await V.get(`/api/home/store-details/${w.params.id}`);m.value=a.data.data.store||{}}catch(a){console.error("Error fetching store details:",a),d.value=u("category.errorLoading")||"Failed to load store details."}finally{o.value=!1}},M=()=>{m.value&&(A.value=g.value==="ar"?m.value.name_ar||m.value.name_en:m.value.name_en||m.value.name_ar,D.value=(m.value.media||[]).filter(a=>["main_banner_image","sub_banner_image","slider_images_one","slider_images_two","slider_images_three"].includes(a.name)),O.value=(m.value.categories||[]).map(a=>({id:a.id,name_ar:a.name_ar||a.name_en,name_en:a.name_en||a.name_ar,media:a.media||[{url:h,name:"default"}]})),b.value=(m.value.markets||[]).map(a=>({id:a.id,title:g.value==="ar"?a.name_ar||a.name_en:a.name_en||a.name_ar,media:(a.media||[]).map(n=>({url:n.url||h,name:n.name||"default"}))})))},q=async()=>{o.value=!0,d.value=null;try{const n=(await V.get(`/api/home/best-sellers/${w.params.id}`)).data.data.data||[];N.value={title:u("category.bestSellers")||"Best Sellers",products:n.map(e=>{var t,i;return{id:e.id,name:g.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,price:parseFloat(e.base_price||0).toFixed(2),img:((i=(t=e.media)==null?void 0:t.find(x=>x.name==="product_main_image"))==null?void 0:i.url)||h}})}}catch(a){console.error("Error fetching best sellers:",a),d.value=u("category.errorLoading")||"Failed to load best sellers."}finally{o.value=!1}},z=async()=>{o.value=!0,d.value=null;try{const n=(await V.get(`/api/home/new-arrivals/${w.params.id}`)).data.data.data||[];I.value={title:u("category.newArrivals")||"New Arrivals",products:n.map(e=>{var t,i;return{id:e.id,name:g.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,price:parseFloat(e.base_price||0).toFixed(2),img:((i=(t=e.media)==null?void 0:t.find(x=>x.name==="product_main_image"))==null?void 0:i.url)||h}})}}catch(a){console.error("Error fetching new arrivals:",a),d.value=u("category.errorLoading")||"Failed to load new arrivals."}finally{o.value=!1}},G=async()=>{o.value=!0,d.value=null;try{const n=(await V.get(`/api/home/exclusive-offers/${w.params.id}`)).data.data.data||[];E.value={title:u("category.exclusiveOffers")||"Exclusive Offers",products:n.map(e=>{var t,i;return{id:e.id,name:g.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,price:parseFloat(e.base_price||0).toFixed(2),img:((i=(t=e.media)==null?void 0:t.find(x=>x.name==="product_main_image"))==null?void 0:i.url)||h}})}}catch(a){console.error("Error fetching exclusive offers:",a),d.value=u("category.errorLoading")||"Failed to load exclusive offers."}finally{o.value=!1}},H=async()=>{o.value=!0,await R(),d.value||(M(),await Promise.all([q(),z(),G()])),o.value=!1};return U(()=>{w.params.id&&H()}),(a,n)=>(r(),p("div",W,[o.value?(r(),p("div",X,[s("p",Y,_(l(u)("category.loading")),1)])):d.value?(r(),p("div",Z,[s("p",ee,_(d.value),1)])):(r(),p("div",ae,[s("div",se,[s("h1",te,_(A.value),1),s("p",le,_(l(u)("category.explore"))+" "+_(A.value),1)]),s("div",re,[y(l($),{modules:[l(P)],"slides-per-view":1,"space-between":0,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},speed:1200,navigation:!1,pagination:{clickable:!0},class:"rounded-2xl shadow-xl overflow-hidden",breakpoints:{320:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:12},768:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:3,spaceBetween:20}}},{default:v(()=>[(r(!0),p(B,null,F(D.value,(e,t)=>(r(),f(l(S),{key:t},{default:v(()=>[s("div",ne,[s("img",{src:e.url,alt:`Slider image ${t+1}`,class:"w-full h-full object-cover transition-transform duration-700 ease-out transform hover:scale-105"},null,8,ie),n[0]||(n[0]=s("div",{class:"absolute inset-0 bg-black bg-opacity-20 transition-opacity duration-300 hover:bg-opacity-10"},null,-1))])]),_:2},1024))),128))]),_:1},8,["modules"])]),s("div",oe,[y(l($),{modules:[l(P)],"slides-per-view":3,"space-between":20,loop:O.value.length>3,autoplay:{delay:3e3,disableOnInteraction:!1},speed:1e3,"grab-cursor":!0,navigation:!1,class:"mt-6 pb-12",breakpoints:{320:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:12},768:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:7,spaceBetween:20}}},{default:v(()=>[(r(!0),p(B,null,F(O.value,e=>(r(),f(l(S),{key:e.id,class:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:-translate-y-2",onClick:t=>l(L).push(`/categories/${e.id}`)},{default:v(()=>{var t,i;return[s("div",de,[s("img",{src:((i=(t=e.media)==null?void 0:t[0])==null?void 0:i.url)||l(h),alt:`${j(e)} image`,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,ue),n[1]||(n[1]=s("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"},null,-1))]),s("h3",ce,_(j(e)),1)]}),_:2},1032,["onClick"]))),128))]),_:1},8,["modules","loop"])]),b.value.length?(r(),p("div",me,[s("h2",pe,_(l(u)("category.markets")),1),y(l($),{modules:[l(P)],"slides-per-view":3,"space-between":20,loop:b.value.length>3,autoplay:{delay:3e3,disableOnInteraction:!1},speed:1e3,"grab-cursor":!0,navigation:!1,class:"mt-6 pb-12",breakpoints:{320:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:12},768:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:3,spaceBetween:20}}},{default:v(()=>[(r(!0),p(B,null,F(b.value,e=>(r(),f(l(S),{key:e.id,class:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:-translate-y-2",onClick:t=>l(L).push(`/markets/${e.id}`)},{default:v(()=>[s("div",_e,[y(l($),{modules:[l(P)],"slides-per-view":1,"space-between":0,loop:e.media.length>1,autoplay:{delay:2e3,disableOnInteraction:!1},speed:800,class:"w-full h-full"},{default:v(()=>[(r(!0),p(B,null,F(e.media,(t,i)=>(r(),f(l(S),{key:i,class:"w-full h-full"},{default:v(()=>[s("img",{src:t.url,alt:`${e.title} image ${i+1}`,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,ve)]),_:2},1024))),128))]),_:2},1032,["modules","loop"]),n[2]||(n[2]=s("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"},null,-1))]),s("h3",fe,_(e.title),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["modules","loop"])])):k("",!0),s("section",ge,[E.value.products.length?(r(),f(C,{key:0,products:E.value,class:"animate-slide-up"},null,8,["products"])):k("",!0),N.value.products.length?(r(),f(C,{key:1,products:N.value,class:"animate-slide-up"},null,8,["products"])):k("",!0),I.value.products.length?(r(),f(C,{key:2,products:I.value,class:"animate-slide-up"},null,8,["products"])):k("",!0)])]))]))}},Fe=J(he,[["__scopeId","data-v-1e7f7931"]]);export{Fe as default};
