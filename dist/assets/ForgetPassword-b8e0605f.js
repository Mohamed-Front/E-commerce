import{_,u as k,r as d,a as l,c as a,f as o,H as C,q as m,y as p,I as P,F as y,d as v,z as f,e as r,g as F,t as i,J as V}from"./index-1b30a3d9.js";import{u as B}from"./WebAuth-d33a135e.js";const R={class:"bg-gray-900 min-h-screen flex items-start justify-center p-4 overflow-hidden",dir:"rtl"},S={class:"bg-white rounded-3xl shadow-2xl p-4 w-full max-w-sm sm:max-w-lg my-8"},N={class:"bg-gray-100 rounded-xl p-1 mb-4 flex transition-all duration-300"},T={class:"space-y-4"},A={key:0,class:"flex"},E=["value"],I={key:2,class:"text-red-500 text-sm text-right"},U=["disabled"],$={class:"mt-8 text-center text-sm text-gray-500"},j={__name:"ForgetPassword",setup(z){const b=k(),n=B(),s=d("phone"),u=d(""),c=d(""),g=d(""),h=[{name:"الأردن",flag:"🇯🇴",code:"+962"},{name:"المملكة العربية السعودية",flag:"🇸🇦",code:"+966"},{name:"الإمارات العربية المتحدة",flag:"🇦🇪",code:"+971"},{name:"مصر",flag:"🇪🇬",code:"+20"},{name:"الكويت",flag:"🇰🇼",code:"+965"},{name:"قطر",flag:"🇶🇦",code:"+974"}],w=async()=>{const x={email:s.value==="email"?g.value:void 0,phone:s.value==="phone"?u.value:void 0,countryCode:s.value==="phone"?c.value:void 0,otp_type:s.value==="phone"?"whatsapp":"email"};await n.handleResetPassword(x)};return(x,e)=>(l(),a("div",R,[o("div",S,[e[7]||(e[7]=o("div",{class:"flex flex-col items-center mb-8"},[o("img",{src:C,alt:"SHIFT7 Logo",class:"h-16 w-16 object-contain"})],-1)),o("div",N,[o("button",{onClick:e[0]||(e[0]=t=>s.value="phone"),class:m(["flex-1 mx-2 py-3 px-4 rounded-xl font-bold transition-colors duration-300",s.value==="phone"?"bg-yellow-400 text-gray-700":"bg-white text-gray-500"])}," إعادة تعيين باستخدام الهاتف ",2),o("button",{onClick:e[1]||(e[1]=t=>s.value="email"),class:m(["flex-1 py-3 px-4 rounded-xl font-bold transition-colors duration-300",s.value==="email"?"bg-yellow-400 text-gray-700":"bg-white text-gray-500"])}," إعادة تعيين باستخدام البريد الإلكتروني ",2)]),o("div",T,[s.value==="phone"?(l(),a("div",A,[p(o("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),class:"w-1/3 px-4 py-3 rounded-tr-xl rounded-br-xl bg-gray-100 text-gray-700 focus:outline-none transition-shadow text-right"},[(l(),a(y,null,v(h,t=>o("option",{key:t.code,value:t.code},i(t.flag)+" "+i(t.code),9,E)),64))],512),[[P,c.value]]),p(o("input",{type:"tel","onUpdate:modelValue":e[3]||(e[3]=t=>u.value=t),placeholder:"ادخل رقم الهاتف",class:"w-2/3 px-4 py-3 rounded-tl-xl rounded-bl-xl bg-gray-100 placeholder-gray-400 text-gray-700 focus:outline-none transition-shadow text-right"},null,512),[[f,u.value]])])):p((l(),a("input",{key:1,type:"email","onUpdate:modelValue":e[4]||(e[4]=t=>g.value=t),placeholder:"ادخل بريدك الإلكتروني",class:"w-full px-4 py-3 rounded-xl bg-gray-100 placeholder-gray-400 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow text-right"},null,512)),[[f,g.value]]),r(n).getErrorsByAction("handleResetPassword").length?(l(),a("div",I,[(l(!0),a(y,null,v(r(n).getErrorsByAction("handleResetPassword"),t=>(l(),a("p",{key:t},i(t),1))),128))])):F("",!0)]),o("button",{onClick:w,disabled:r(n).loading,class:"w-full mt-8 py-3 bg-blue-700 text-white font-bold rounded-xl shadow-lg hover:bg-blue-800 transition-colors duration-300 disabled:bg-gray-400"},i(r(n).loading?"جاري إرسال الطلب...":"إرسال رابط إعادة التعيين"),9,U),o("div",$,[e[6]||(e[6]=V(" لديك حساب بالفعل؟ ")),o("a",{onClick:e[5]||(e[5]=t=>r(b).push({name:"authlog"})),class:"text-blue-600 cursor-pointer font-semibold hover:underline"},"تسجيل الدخول")])])]))}},L=_(j,[["__scopeId","data-v-3bd28543"]]);export{L as default};
