import{_ as B,u as V,r as g,n as A,a as s,c as l,f as e,L as E,q as w,z as k,A as p,M as z,F as c,d as x,B as _,P as C,e as r,t as a,g as y,N as S}from"./index-ebff04bf.js";import{u as $}from"./WebAuth-8294e76b.js";const j={class:"bg-gray-900 min-h-screen flex items-start justify-center p-4 overflow-hidden",dir:"rtl"},q={class:"bg-white rounded-3xl shadow-2xl p-4 w-full max-w-sm sm:max-w-lg my-8"},G={class:"bg-gray-100 rounded-xl p-1 mb-8 flex transition-all duration-300"},N={class:"flex"},U=["value"],H={class:"relative"},R=["type"],T={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},D={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3l18 18M4.48 15.52A9.965 9.965 0 0112 17c4.478 0 8.268-2.943 9.543-7-.29-.93-.73-1.811-1.313-2.617"},F={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0zM2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},I={class:"text-left text-sm"},P=["disabled"],J={key:0,class:"text-red-600 text-sm text-center"},K={class:"relative"},O=["type"],Q={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},W={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3l18 18M4.48 15.52A9.965 9.965 0 0112 17c4.478 0 8.268-2.943 9.543-7-.29-.93-.73-1.811-1.313-2.617"},X={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0zM2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},Y={class:"text-left text-sm"},Z=["disabled"],ee={key:0,class:"text-red-600 text-sm text-center"},te=["disabled"],oe={key:2,class:"text-red-600 text-sm text-center mt-4"},se={class:"mt-8 text-center text-sm text-gray-500"},le={__name:"auth",setup(ne){const h=V(),d=g("phone"),m=g(""),f=g(""),v=g(""),u=g(""),i=g(!1),n=$(),L=[{name:"السعودية",code:"+966"},{name:"الإمارات",code:"+971"},{name:"مصر",code:"+20"},{name:"الكويت",code:"+965"},{name:"قطر",code:"+974"}];A(d,()=>{n.clearErrors("handleLogin"),n.clearErrors("googleLogin")});const M=async()=>{n.clearErrors("googleLogin");try{console.log("Attempting to log in with Google.")}catch(b){n.authErrors.googleLogin=[b.message||"فشل تسجيل الدخول باستخدام جوجل"]}};return(b,t)=>(s(),l("div",j,[e("div",q,[t[17]||(t[17]=e("div",{class:"flex flex-col items-center mb-8"},[e("img",{src:E,alt:"SHIFT7 Logo",class:"h-16 w-16 object-contain"})],-1)),e("div",G,[e("button",{onClick:t[0]||(t[0]=o=>d.value="phone"),class:w(["flex-1 mx-2 py-3 px-4 rounded-xl font-bold transition-colors duration-300",d.value==="phone"?"bg-yellow-400 text-gray-700":"bg-white text-gray-500"])}," تسجيل الدخول بالهاتف ",2),e("button",{onClick:t[1]||(t[1]=o=>d.value="email"),class:w(["flex-1 mx-2 py-3 px-4 rounded-xl font-bold transition-colors duration-300",d.value==="email"?"bg-yellow-400 text-gray-700":"bg-white text-gray-500"])}," تسجيل الدخول بالبريد الإلكتروني ",2)]),d.value==="phone"?(s(),l("form",{key:0,onSubmit:t[7]||(t[7]=k(o=>r(n).handleLogin({type:"phone",phoneNumber:m.value,password:u.value}),["prevent"])),class:"space-y-6"},[e("div",N,[p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>f.value=o),class:"w-1/3 px-4 py-3 rounded-tr-xl rounded-br-xl bg-gray-100 text-gray-700 focus:outline-none transition-shadow text-right",required:""},[t[14]||(t[14]=e("option",{value:"",disabled:""},"اختر البلد",-1)),(s(),l(c,null,x(L,o=>e("option",{key:o.code,value:o.code},a(o.name)+" ("+a(o.code)+") ",9,U)),64))],512),[[z,f.value]]),p(e("input",{type:"tel","onUpdate:modelValue":t[3]||(t[3]=o=>m.value=o),placeholder:"ادخل رقم الهاتف",class:"w-2/3 px-4 py-3 rounded-tl-xl rounded-bl-xl bg-gray-100 text-gray-700 focus:outline-none transition-shadow text-right",required:"",pattern:"[0-9]{9,12}"},null,512),[[_,m.value]])]),e("div",H,[p(e("input",{type:i.value?"text":"password","onUpdate:modelValue":t[4]||(t[4]=o=>u.value=o),placeholder:"ادخل كلمة المرور",class:"w-full px-4 py-3 pr-12 rounded-xl bg-gray-100 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow text-right",required:"",minlength:"8"},null,8,R),[[C,u.value]]),e("button",{type:"button",onClick:t[5]||(t[5]=o=>i.value=!i.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600"},[(s(),l("svg",T,[i.value?(s(),l("path",F)):(s(),l("path",D))]))])]),e("div",I,[e("a",{onClick:t[6]||(t[6]=o=>r(h).push({name:"forgetpassword"})),class:"text-blue-600 font-medium hover:underline"},"نسيت كلمة المرور؟")]),e("button",{type:"submit",class:"w-full mt-8 py-3 bg-blue-700 text-white font-bold rounded-xl shadow-lg hover:bg-blue-800 transition-colors duration-300",disabled:r(n).loading},a(r(n).loading?"جاري التحميل...":"تسجيل الدخول"),9,P),r(n).getErrorsByAction("handleLogin").length?(s(),l("div",J,[(s(!0),l(c,null,x(r(n).getErrorsByAction("handleLogin"),o=>(s(),l("p",{key:o},a(o),1))),128))])):y("",!0)],32)):(s(),l("form",{key:1,onSubmit:t[12]||(t[12]=k(o=>r(n).handleLogin({type:"email",email:v.value,password:u.value}),["prevent"])),class:"space-y-6"},[p(e("input",{type:"email","onUpdate:modelValue":t[8]||(t[8]=o=>v.value=o),placeholder:"ادخل بريدك الإلكتروني",class:"w-full px-4 py-3 rounded-xl bg-gray-100 placeholder-gray-400 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow text-right",required:""},null,512),[[_,v.value]]),e("div",K,[p(e("input",{type:i.value?"text":"password","onUpdate:modelValue":t[9]||(t[9]=o=>u.value=o),placeholder:"ادخل كلمة المرور",class:"w-full px-4 py-3 pr-12 rounded-xl bg-gray-100 placeholder-gray-400 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow text-right",required:"",minlength:"8"},null,8,O),[[C,u.value]]),e("button",{type:"button",onClick:t[10]||(t[10]=o=>i.value=!i.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600"},[(s(),l("svg",Q,[i.value?(s(),l("path",X)):(s(),l("path",W))]))])]),e("div",Y,[e("a",{onClick:t[11]||(t[11]=o=>r(h).push({name:"forgetpassword"})),class:"text-blue-600 cursor-pointer font-medium hover:underline"},"نسيت كلمة المرور؟")]),e("button",{type:"submit",class:"w-full mt-8 py-3 bg-blue-700 text-white font-bold rounded-xl shadow-lg hover:bg-blue-800 transition-colors duration-300",disabled:r(n).loading},a(r(n).loading?"جاري التحميل...":"تسجيل الدخول"),9,Z),r(n).getErrorsByAction("handleLogin").length?(s(),l("div",ee,[(s(!0),l(c,null,x(r(n).getErrorsByAction("handleLogin"),o=>(s(),l("p",{key:o},a(o),1))),128))])):y("",!0)],32)),t[18]||(t[18]=e("div",{class:"flex items-center my-6"},[e("div",{class:"flex-grow border-t border-gray-300"}),e("span",{class:"mx-4 text-gray-400 text-xs font-semibold"},"أو"),e("div",{class:"flex-grow border-t border-gray-300"})],-1)),e("button",{onClick:M,class:"w-full py-3 bg-white border border-gray-300 rounded-xl shadow-sm hover:shadow-md flex items-center justify-center space-x-2",disabled:r(n).loading},t[15]||(t[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg","aria-label":"Google",role:"img",viewBox:"0 0 512 512",width:"34px",height:"34px",fill:"#000000"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("rect",{width:"512",height:"512",rx:"15%",fill:"#ffffff"}),e("path",{d:"M488 261.2c0-14.7-1.4-29.1-4.1-43.1H256v82.2h135.5c-5.7 29.8-22.3 55.4-46.1 73.1v53.4h68.8c40.3-37.1 63.5-91.8 63.5-165.6z",fill:"#4285f4"}),e("path",{d:"M256 496c69.8 0 128.4-22.9 171.2-62.5l-68.8-53.4c-19.1 13.5-44.5 21.6-76.4 21.6-58.6 0-108.4-39.6-126.3-92.4H68.8v53.4C106.8 447.2 176.6 496 256 496z",fill:"#34a853"}),e("path",{d:"M129.7 302.5c-3.1-9.2-4.9-19-4.9-29.2s1.8-19.9 4.9-29.2V190H68.8c-10.2 20.3-15.8 43.8-15.8 68.8s5.6 48.5 15.8 68.8L129.7 302.5z",fill:"#fbbc04"}),e("path",{d:"M256 106.8c34.8 0 65.9 12 90.3 35.5l61.2-61.2c-38.3-36.4-88.6-58.1-151.5-58.1-79.4 0-149.2 48.8-187.2 122.8l61.2 47.5c17.9-52.8 67.7-92.4 126.3-92.4z",fill:"#ea4335"})])],-1),e("span",{class:"text-gray-700 font-semibold"},"المتابعة باستخدام جوجل",-1)]),8,te),r(n).getErrorsByAction("googleLogin").length?(s(),l("div",oe,[(s(!0),l(c,null,x(r(n).getErrorsByAction("googleLogin"),o=>(s(),l("p",{key:o},a(o),1))),128))])):y("",!0),e("div",se,[t[16]||(t[16]=S(" أليس لديك حساب؟ ")),e("a",{onClick:t[13]||(t[13]=o=>r(h).push({name:"register"})),class:"text-blue-600 cursor-pointer font-semibold hover:underline"},"سجل الآن")])])]))}},ae=B(le,[["__scopeId","data-v-7624faae"]]);export{ae as default};
