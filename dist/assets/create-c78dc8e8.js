import{_ as I,u as C,H as N,D as S,r as f,J as u,K as T,o as d,c as r,L as B,a as o,t as l,m as _,b as n,E as M,w as F,P as U,F as Y,p as q,i as E,G as L}from"./index-22274b14.js";import{h as R}from"./moment-fbc5633a.js";const m=i=>(q("data-v-2b7e36c1"),i=i(),E(),i),j={class:"max-w-2xl mx-auto p-6 bg-white rounded-xl shadow-lg"},A={class:"text-3xl font-bold text-center mb-8 text-gray-800"},G=["onSubmit"],H={class:"grid grid-cols-1 gap-6"},J={class:"space-y-2"},K={for:"code",class:"block text-sm font-medium text-gray-700"},P=m(()=>o("span",{class:"text-red-500"},"*",-1)),O={class:"flex gap-2"},Q={class:"space-y-2"},W={for:"discount_type",class:"block text-sm font-medium text-gray-700"},X=m(()=>o("span",{class:"text-red-500"},"*",-1)),Z={class:"space-y-2"},z={for:"discount_value",class:"block text-sm font-medium text-gray-700"},ee=m(()=>o("span",{class:"text-red-500"},"*",-1)),oe={key:0,class:"text-gray-500 text-xs"},te={class:"space-y-2"},se={for:"expires_at",class:"block text-sm font-medium text-gray-700"},ae=m(()=>o("span",{class:"text-red-500"},"*",-1)),le={class:"pt-4 flex justify-center"},ne={key:0},ue={key:1,class:"pi pi-spinner pi-spin"},ce={setup(i){const g=C(),y=N(),{t:b}=S(),c=f(!1),t=f({code:"",discount_type:null,discount_value:null,expires_at:""}),h=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let s="C-";for(let p=0;p<3;p++)s+=e.charAt(Math.floor(Math.random()*e.length));t.value.code=s},x=async()=>{c.value=!0,t.value.expires_at=R(t.value.expires_at).format("YYYY-MM-DD");try{await L.post("/api/coupon",t.value),g.push({name:"coupon"}),y.add({severity:"success",summary:b("success"),detail:b("coupon.created_successfully"),life:3e3})}finally{c.value=!1}};return(e,s)=>{const p=u("InputText"),v=u("Button"),w=u("Dropdown"),V=u("InputNumber"),$=u("Calendar"),D=u("Toast"),k=T("can");return d(),r(Y,null,[B((d(),r("div",j,[o("h1",A,l(e.$t("coupon.create_new_coupon")),1),o("form",{onSubmit:U(x,["prevent"]),class:"space-y-6"},[o("div",H,[o("div",J,[o("label",K,[_(l(e.$t("coupon.code"))+" ",1),P]),o("div",O,[n(p,{id:"code",modelValue:t.value.code,"onUpdate:modelValue":s[0]||(s[0]=a=>t.value.code=a),placeholder:e.$t("coupon.enter_code"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"]),n(v,{type:"button",onClick:h,icon:"pi pi-refresh",class:"px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition",title:e.$t("coupon.generate_random_code")},null,8,["title"])])]),o("div",Q,[o("label",W,[_(l(e.$t("coupon.discount_type"))+" ",1),X]),n(w,{id:"discount_type",modelValue:t.value.discount_type,"onUpdate:modelValue":s[1]||(s[1]=a=>t.value.discount_type=a),options:[{label:e.$t("coupon.fixed_amount"),value:1},{label:e.$t("coupon.percentage"),value:2}],optionLabel:"label",optionValue:"value",placeholder:e.$t("coupon.select_discount_type"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,8,["modelValue","options","placeholder"])]),o("div",Z,[o("label",z,[_(l(e.$t("coupon.discount_value"))+" ",1),ee]),n(V,{id:"discount_value",modelValue:t.value.discount_value,"onUpdate:modelValue":s[2]||(s[2]=a=>t.value.discount_value=a),min:0,max:t.value.discount_type===2?100:null,placeholder:e.$t("coupon.enter_discount_value"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","max","placeholder"]),t.value.discount_type===2?(d(),r("small",oe,l(e.$t("coupon.percentage_note")),1)):M("",!0)]),o("div",te,[o("label",se,[_(l(e.$t("coupon.expiration_date"))+" ",1),ae]),n($,{id:"expires_at",modelValue:t.value.expires_at,"onUpdate:modelValue":s[3]||(s[3]=a=>t.value.expires_at=a),minDate:new Date,dateFormat:"yy-mm-dd",placeholder:e.$t("coupon.select_expiration_date"),class:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,8,["modelValue","minDate","placeholder"])])]),o("div",le,[n(v,{type:"submit",label:e.$t("coupon.create_coupon"),icon:"pi pi-plus",loading:c.value,class:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:c.value},{default:F(()=>[c.value?(d(),r("i",ue)):(d(),r("span",ne,l(e.$t("coupon.create_coupon")),1))]),_:1},8,["label","loading","disabled"])])],40,G)])),[[k,"create coupons"]]),n(D)],64)}}},ie=I(ce,[["__scopeId","data-v-2b7e36c1"]]);export{ie as default};
