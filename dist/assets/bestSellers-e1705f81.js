import{S as d}from"./productsSwiper-07afd715.js";import{u as _,r as f,w as h,o as g,c as S,a as b}from"./index-ef259121.js";const y={__name:"Exclusiveoffers",props:{Stor:{type:Object,required:!0}},setup(l){const{t:u}=_(),n=f({title:u("category.exclusive"),products:[]}),o=l;class m{constructor(s,a,r,t){this.name=s,this.img=a,this.price=r,this.id=t}}const p=async()=>{var e;try{const s=(e=o.Stor)==null?void 0:e.id;if(!s)return;const a=await b.get(`api/home/discounts/${s}`),r=localStorage.getItem("appLang")||"en";n.value.products=a.data.data.data.map(t=>{var c,i;return new m(r==="en"?t.name_en:t.name_ar||t.name_en,((i=(c=t.media)==null?void 0:c[0])==null?void 0:i.url)||"",t.base_price,t.id)})}catch(s){console.error("Failed to fetch best sellers:",s)}};return h(()=>{var e;return(e=o.Stor)==null?void 0:e.id},e=>{e&&p()},{immediate:!0}),(e,s)=>(g(),S(d,{products:n.value},null,8,["products"]))}},w={__name:"bestSellers",props:{Stor:{type:Object,required:!0}},setup(l){const{t:u}=_(),n=f({title:u("category.bestsellers"),products:[]}),o=l;class m{constructor(s,a,r,t){this.name=s,this.img=a,this.price=r,this.id=t}}const p=async()=>{var e;try{const s=(e=o.Stor)==null?void 0:e.id;if(!s)return;const a=await b.get(`api/home/best-sellers/${s}`),r=localStorage.getItem("appLang")||"en";n.value.products=a.data.data.data.map(t=>{var c,i;return new m(r==="en"?t.name_en:t.name_ar||t.name_en,((i=(c=t.media)==null?void 0:c[0])==null?void 0:i.url)||"",t.base_price,t.id)})}catch(s){console.error("Failed to fetch best sellers:",s)}};return h(()=>{var e;return(e=o.Stor)==null?void 0:e.id},e=>{e&&p()},{immediate:!0}),(e,s)=>(g(),S(d,{products:n.value},null,8,["products"]))}};export{y as _,w as a};
