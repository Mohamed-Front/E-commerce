import{_ as U,k as W,u as X,j as Y,r as o,o as Z,a as s,c as i,f as r,t as S,e as t,h as D,w as u,g as v,b as d,F as w,d as b,i as B}from"./index-deb4792e.js";import{b as T,a as y,A as x,S as k}from"./productsSwiper-7fe82228.js";import{N as M}from"./navigation-a4891c6a.js";/* empty css                   */import{d as $}from"./loginFormImg-30837cfe.js";const ee={class:"mx-auto mt-16 max-w-7xl px-4 sm:px-6 lg:px-8"},ae={key:0,class:"text-center py-16 animate-pulse"},le={class:"text-gray-600 text-lg font-medium"},se={key:1,class:"text-center py-16 text-red-600"},te={class:"text-lg font-semibold"},re={key:2},ne={class:"text-center mb-12"},oe={class:"text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight animate-fade-in"},ie={key:0,class:"my-10"},ue={class:"w-full h-58 overflow-hidden rounded-lg shadow-md relative"},de=["src","alt","aria-label"],ce={class:"font-sans mt-4 mb-1 text-black font-bold text-sm sm:text-base md:text-lg"},me={class:"flex w-full max-h-[50vh] items-center justify-center bg-gradient-to-br from-gray-50 to-gray-300 rounded-xl shadow-lg overflow-hidden"},_e=["src","alt","aria-label"],fe={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10"},ve={class:"rounded-xl shadow-lg overflow-hidden"},he={class:"flex w-full max-h-64 items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl overflow-hidden"},ge=["src","alt","aria-label"],pe={class:"rounded-xl shadow-lg overflow-hidden"},we={class:"flex w-full h-64 items-center justify-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl overflow-hidden"},be=["src","alt","aria-label"],ye={key:3,class:"mt-8 hidden py-2 rounded-sm px-2 bg-[#1F3A932B] mx-auto max-w-7xl"},xe=["onClick"],ke=["src","alt","aria-label"],$e={class:"p-3 w-full text-center rounded-xl"},Ie={class:"font-bold text-sm text-black"},Se={class:"mt-16 space-y-16"},Ve={__name:"hasmarket",setup(Pe){W();const A=X(),{t:h,locale:g}=Y(),c=o({}),R=o(""),j=o([]),V=o([]),P=o([]),N=o([]),F=o([]),O=o({title:"Exclusive Offers",products:[]}),E=o({title:"Best Sellers",products:[]}),C=o({title:"New Arrivals",products:[]}),m=o(!1),_=o(null),I=o(localStorage.getItem("defaultStoreId")||""),L=a=>g.value==="ar"?a.name_ar||a.name_en:a.name_en||a.name_ar,z=(a,f)=>(a==null?void 0:a.filter(e=>e.name===f))||[],q=async()=>{m.value=!0,_.value=null;try{const a=await B.get(`/api/home/store-details/${I.value}`);c.value=a.data.data.store||{}}catch(a){console.error("Error fetching store details:",a),_.value=h("category.errorLoading")||"Failed to load store details."}finally{m.value=!1}},G=()=>{c.value&&(R.value=g.value==="ar"?c.value.name_ar||c.value.name_en:c.value.name_en||c.value.name_ar,j.value=z(c.value.media,"slider_images_one"),V.value=z(c.value.media,"slider_images_two"),P.value=z(c.value.media,"slider_images_three"),N.value=(c.value.categories||[]).map(a=>({id:a.id,name_ar:a.name_ar||a.name_en,name_en:a.name_en||a.name_ar,media:a.media||[{url:$,name:"default"}]})),F.value=(c.value.markets||[]).map(a=>({id:a.id,title:g.value==="ar"?a.name_ar||a.name_en:a.name_en||a.name_ar,media:(a.media||[]).map(f=>({url:f.url||$,name:f.name||"default"}))})))},H=async()=>{m.value=!0,_.value=null;try{const f=(await B.get(`/api/home/best-sellers/${I.value}`)).data.data.data||[];E.value={title:h("category.bestsellers")||"Best Sellers",products:f.map(e=>{var l,n;return{id:e.id,name:g.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,price:parseFloat(e.base_price||0).toFixed(2),img:((n=(l=e.media)==null?void 0:l.find(p=>p.name==="product_main_image"))==null?void 0:n.url)||$}})}}catch(a){console.error("Error fetching best sellers:",a),_.value=h("category.errorLoading")||"Failed to load best sellers."}finally{m.value=!1}},J=async()=>{m.value=!0,_.value=null;try{const f=(await B.get(`/api/home/new-arrivals/${I.value}`)).data.data.data||[];C.value={title:h("category.newlyarrived")||"New Arrivals",products:f.map(e=>{var l,n;return{id:e.id,sub_name:g.value==="ar"?e.sub_name_ar||e.sub_name_en:e.sub_name_en||e.sub_name_ar,name:g.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,price:parseFloat(e.base_price||0).toFixed(2),img:((n=(l=e.media)==null?void 0:l.find(p=>p.name==="product_main_image"))==null?void 0:n.url)||$}})}}catch(a){console.error("Error fetching new arrivals:",a),_.value=h("category.errorLoading")||"Failed to load new arrivals."}finally{m.value=!1}},K=async()=>{m.value=!0,_.value=null;try{const f=(await B.get(`/api/home/exclusive-offers/${I.value}`)).data.data.data||[];O.value={title:h("category.exclusive")||"Exclusive Offers",products:f.map(e=>{var l,n;return{id:e.id,name:g.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,sub_name:g.value==="ar"?e.sub_name_ar||e.sub_name_en:e.sub_name_en||e.sub_name_ar,price:parseFloat(e.base_price||0).toFixed(2),img:((n=(l=e.media)==null?void 0:l.find(p=>p.name==="product_main_image"))==null?void 0:n.url)||$}})}}catch(a){console.error("Error fetching exclusive offers:",a),_.value=h("category.errorLoading")||"Failed to load exclusive offers."}finally{m.value=!1}},Q=async()=>{m.value=!0,await q(),_.value||(G(),await Promise.all([H(),J(),K()])),m.value=!1};return Z(()=>{I.value&&Q()}),(a,f)=>(s(),i("div",ee,[m.value?(s(),i("div",ae,[r("p",le,S(t(h)("category.loading")),1)])):_.value?(s(),i("div",se,[r("p",te,S(_.value),1)])):(s(),i("div",re,[r("div",ne,[r("h1",oe,S(R.value),1)]),F.value.length?(s(),i("div",ie,[D(t(y),{modules:[t(x)],"space-between":20,loop:F.value.length>3,autoplay:{delay:3e3,disableOnInteraction:!1},speed:1e3,"grab-cursor":!0,navigation:!1,class:"mt-6 pb-12",breakpoints:{320:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:12},768:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:3,spaceBetween:20}}},{default:u(()=>[(s(!0),i(w,null,b(F.value,e=>(s(),d(t(k),{key:e.id,class:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:-translate-y-2",onClick:l=>t(A).push(`/markets/${e.id}`)},{default:u(()=>[r("div",ue,[D(t(y),{modules:[t(x)],"slides-per-view":1,"space-between":0,loop:e.media.length>1,autoplay:{delay:2e3,disableOnInteraction:!1},speed:800,class:"w-full h-full"},{default:u(()=>[(s(!0),i(w,null,b(e.media,(l,n)=>(s(),d(t(k),{key:n,class:"w-full h-full"},{default:u(()=>[r("img",{src:l.url,alt:`${e.title} image ${n+1}`,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy","aria-label":`${e.title} image ${n+1}`},null,8,de)]),_:2},1024))),128))]),_:2},1032,["modules","loop"])]),r("h3",ce,S(e.title),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["modules","loop"])])):v("",!0),j.value.length?(s(),d(t(y),{key:1,modules:[t(x),t(M)],breakpoints:{320:{slidesPerView:1},640:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:1}},"space-between":10,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:!1,class:"w-full rounded-2xl shadow-xl overflow-hidden mb-10"},{default:u(()=>[(s(!0),i(w,null,b(j.value,(e,l)=>(s(),d(t(k),{key:l},{default:u(()=>[r("div",me,[r("img",{src:e.url,alt:`Slider Image ${l+1}`,class:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy","aria-label":`Promotional banner ${l+1}`},null,8,_e)])]),_:2},1024))),128))]),_:1},8,["modules"])):v("",!0),V.value.length||P.value.length?(s(),i("div",fe,[r("div",ve,[V.value.length?(s(),d(t(y),{key:0,modules:[t(x)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:u(()=>[(s(!0),i(w,null,b(V.value,(e,l)=>(s(),d(t(k),{key:"two-"+l},{default:u(()=>[r("div",he,[r("img",{src:e.url,alt:`Slider Two Image ${l+1}`,class:"w-full h-64 object-cover rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy","aria-label":`Secondary banner ${l+1}`},null,8,ge)])]),_:2},1024))),128))]),_:1},8,["modules"])):v("",!0)]),r("div",pe,[P.value.length?(s(),d(t(y),{key:0,modules:[t(x)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:u(()=>[(s(!0),i(w,null,b(P.value,(e,l)=>(s(),d(t(k),{key:"three-"+l},{default:u(()=>[r("div",we,[r("img",{src:e.url,alt:`Slider Three Image ${l+1}`,class:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy","aria-label":`Tertiary banner ${l+1}`},null,8,be)])]),_:2},1024))),128))]),_:1},8,["modules"])):v("",!0)])])):v("",!0),N.value.length?(s(),i("div",ye,[D(t(y),{modules:[t(M),t(x)],"slides-per-view":8,"space-between":10,navigation:!1,autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{clickable:!0},class:"w-full",breakpoints:{320:{slidesPerView:2},640:{slidesPerView:2},768:{slidesPerView:5},1024:{slidesPerView:7}}},{default:u(()=>[(s(!0),i(w,null,b(N.value,e=>(s(),d(t(k),{key:e.id},{default:u(()=>{var l,n;return[r("div",{onClick:p=>t(A).push(`/categories/${e.id}`),class:"flex flex-col items-center justify-center rounded-xl h-full w-full cursor-pointer"},[r("img",{src:((n=(l=e.media)==null?void 0:l[0])==null?void 0:n.url)||t($),alt:`${L(e)} image`,class:"w-full h-full max-h-36 object-cover rounded-xl",loading:"lazy","aria-label":`${L(e)} category image`},null,8,ke),r("div",$e,[r("span",Ie,S(L(e).slice(0,20)),1)])],8,xe)]}),_:2},1024))),128))]),_:1},8,["modules"])])):v("",!0),r("section",Se,[O.value.products.length?(s(),d(T,{key:0,products:O.value,class:"animate-slide-up"},null,8,["products"])):v("",!0),E.value.products.length?(s(),d(T,{key:1,products:E.value,class:"animate-slide-up"},null,8,["products"])):v("",!0),C.value.products.length?(s(),d(T,{key:2,products:C.value,class:"animate-slide-up"},null,8,["products"])):v("",!0)])]))]))}},Ee=U(Ve,[["__scopeId","data-v-ed90f5cf"]]);export{Ee as default};
