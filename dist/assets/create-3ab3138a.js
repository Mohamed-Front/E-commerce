import{_ as J,u as K,f as Q,G as W,r as _,h as F,i as X,b as u,c,l as Y,j as e,t as n,B as l,n as f,e as h,D as p,s as I,p as A,q as R,k as Z,x as ee,y as te,a as se}from"./index-12f18b3e.js";const g=C=>(ee("data-v-1cc2aece"),C=C(),te(),C),oe={class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg"},le={class:"text-3xl font-bold text-center mb-8 text-gray-800"},ae=["onSubmit"],re={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ne={class:"space-y-2"},ie={for:"name_en",class:"block text-sm font-medium text-gray-700"},de=g(()=>e("span",{class:"text-red-500"},"*",-1)),ue={class:"space-y-2"},ce={for:"name_ar",class:"block text-sm font-medium text-gray-700"},pe=g(()=>e("span",{class:"text-red-500"},"*",-1)),_e={class:"space-y-4 md:col-span-2"},me={class:"flex items-center space-x-4"},ge={class:"block text-sm font-medium text-gray-700 mx-2"},ve={class:"flex items-center space-x-4"},be={class:"block text-sm font-medium text-gray-700 mx-2"},fe={class:"space-y-2"},he={class:"block text-sm font-medium text-gray-700"},xe={class:"flex justify-center"},ye={key:0,class:"p-4 w-full h-full"},we={class:"relative group w-full h-full"},ke=["src","alt"],De={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},je=g(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),$e=[je],Se={key:1,class:"p-4 flex flex-col items-center justify-center"},Te=g(()=>e("div",{class:"bg-blue-100 p-3 rounded-full mb-2"},[e("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),Ie={class:"text-sm text-center text-gray-600"},Ce={class:"text-blue-500 font-medium"},Ue={class:"space-y-2"},Ve={class:"block text-sm font-medium text-gray-700"},Be={class:"flex justify-center"},Ee={key:0,class:"p-4 w-full h-full"},Fe={class:"relative group w-full h-full"},Oe=["src","alt"],Pe={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Ae=g(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),Le=[Ae],Me={key:1,class:"p-4 flex flex-col items-center justify-center"},Ne=g(()=>e("div",{class:"bg-blue-100 p-3 rounded-full mb-2"},[e("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),Re={class:"text-sm text-center text-gray-600"},qe={class:"text-blue-500 font-medium"},ze={class:"space-y-2 md:col-span-2"},Ge={class:"block text-sm font-medium text-gray-700"},He={class:"flex justify-center"},Je={key:0,class:"p-4 w-full h-full"},Ke={class:"relative group w-full h-full"},Qe=["src","alt"],We={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Xe=g(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),Ye=[Xe],Ze={key:1,class:"p-4 flex flex-col items-center justify-center"},et=g(()=>e("div",{class:"bg-blue-100 p-3 rounded-full mb-2"},[e("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),tt={class:"text-sm text-center text-gray-600"},st={class:"text-blue-500 font-medium"},ot={class:"space-y-2 md:col-span-2"},lt={class:"block text-sm font-medium text-gray-700"},at={class:"flex justify-center"},rt={key:0,class:"p-4"},nt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},it=["src","alt"],dt={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},ut=["onClick"],ct=g(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),pt=[ct],_t={class:"mt-2 text-center text-sm text-gray-500"},mt={key:1,class:"p-8 flex flex-col items-center justify-center"},gt=g(()=>e("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[e("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),vt={class:"text-sm text-center text-gray-600 mb-1"},bt={class:"text-blue-500 font-medium"},ft={class:"text-xs text-gray-400"},ht={class:"space-y-2 md:col-span-2"},xt={class:"block text-sm font-medium text-gray-700"},yt={class:"flex justify-center"},wt={key:0,class:"p-4"},kt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Dt=["src","alt"],jt={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},$t=["onClick"],St=g(()=>e("i",{class:"pi pi-trash text-sm"},null,-1)),Tt=[St],It={class:"mt-2 text-center text-sm text-gray-500"},Ct={key:1,class:"p-8 flex flex-col items-center justify-center"},Ut=g(()=>e("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[e("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),Vt={class:"text-sm text-center text-gray-600 mb-1"},Bt={class:"text-blue-500 font-medium"},Et={class:"text-xs text-gray-400"},Ft={class:"pt-4 flex justify-center space-x-4"},Ot={key:0},Pt={key:1,class:"pi pi-spinner pi-spin"},At={setup(C){const L=K(),M=Q(),{t:o}=W();_();const x=_(!1),a=_({name_en:"",name_ar:"",is_default:!1,has_market:!1,store_image:null,main_banner_image:null,sub_banner_image:null,slider_images_one:[],slider_images_two:[]}),U=_(null),V=_(null),B=_(null),w=_([]),k=_([]),D=_(!1),j=_(!1),$=_(!1),S=_(!1),T=_(!1),q=(r,t)=>{const d=new FileReader;d.onload=i=>{switch(t){case"store":a.value.store_image=r,U.value=i.target.result,D.value=!1;break;case"main_banner":a.value.main_banner_image=r,V.value=i.target.result,j.value=!1;break;case"sub_banner":a.value.sub_banner_image=r,B.value=i.target.result,$.value=!1;break}},d.readAsDataURL(r)},z=(r,t)=>{const d=[],i=[];Array.from(r).forEach(m=>{const v=new FileReader;v.onload=P=>{d.push(P.target.result),i.push(m),d.length===r.length&&(t==="slider_one"?(a.value.slider_images_one=[...a.value.slider_images_one,...i],w.value=[...w.value,...d],S.value=!1):(a.value.slider_images_two=[...a.value.slider_images_two,...i],k.value=[...k.value,...d],T.value=!1))},v.readAsDataURL(m)})},y=(r,t)=>{var i,m,v;const d=((i=r.target.files)==null?void 0:i[0])||((v=(m=r.dataTransfer)==null?void 0:m.files)==null?void 0:v[0]);d&&d.type.match("image.*")&&q(d,t)},E=(r,t)=>{var i;const d=r.target.files||((i=r.dataTransfer)==null?void 0:i.files);d&&d.length>0&&z(d,t)},O=r=>{switch(r){case"store":a.value.store_image=null,U.value=null;break;case"main_banner":a.value.main_banner_image=null,V.value=null;break;case"sub_banner":a.value.sub_banner_image=null,B.value=null;break}},N=(r,t)=>{t==="slider_one"?(a.value.slider_images_one.splice(r,1),w.value.splice(r,1)):(a.value.slider_images_two.splice(r,1),k.value.splice(r,1))},G=async()=>{var t,d;x.value=!0;const r=new FormData;r.append("name_en",a.value.name_en),r.append("name_ar",a.value.name_ar),r.append("is_default",a.value.is_default?"1":"0"),r.append("has_market",a.value.has_market?"1":"0"),a.value.store_image&&r.append("store_image",a.value.store_image),a.value.main_banner_image&&r.append("main_banner_image",a.value.main_banner_image),a.value.sub_banner_image&&r.append("sub_banner_image",a.value.sub_banner_image),a.value.slider_images_one.forEach((i,m)=>{r.append(`slider_images_one[${m}]`,i)}),a.value.slider_images_two.forEach((i,m)=>{r.append(`slider_images_two[${m}]`,i)});try{await se.post("/api/store",r),L.push({name:"stores"}),M.add({severity:"success",summary:o("success"),detail:o("store.createdSuccess"),life:3e3})}catch(i){console.error("Error:",i),M.add({severity:"error",summary:o("error"),detail:((d=(t=i.response)==null?void 0:t.data)==null?void 0:d.message)||o("store.createError"),life:3e3})}finally{x.value=!1}};return(r,t)=>{const d=F("InputText"),i=F("InputSwitch"),m=F("Button"),v=F("Toast"),P=X("can");return u(),c(A,null,[Y((u(),c("div",oe,[e("h1",le,n(l(o)("store.createTitle")),1),e("form",{onSubmit:p(G,["prevent"]),class:"space-y-6"},[e("div",re,[e("div",ne,[e("label",ie,[f(n(l(o)("store.nameEn"))+" ",1),de]),h(d,{id:"name_en",modelValue:a.value.name_en,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name_en=s),placeholder:l(o)("store.enterNameEn"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),e("div",ue,[e("label",ce,[f(n(l(o)("store.nameAr"))+" ",1),pe]),h(d,{id:"name_ar",modelValue:a.value.name_ar,"onUpdate:modelValue":t[1]||(t[1]=s=>a.value.name_ar=s),placeholder:l(o)("store.enterNameAr"),dir:"rtl",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},null,8,["modelValue","placeholder"])]),e("div",_e,[e("div",me,[e("label",ge,n(l(o)("store.isDefault")),1),h(i,{modelValue:a.value.is_default,"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.is_default=s)},null,8,["modelValue"])]),e("div",ve,[e("label",be,n(l(o)("store.hasMarket")),1),h(i,{modelValue:a.value.has_market,"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.has_market=s)},null,8,["modelValue"])])]),e("div",fe,[e("label",he,n(l(o)("store.storeLogo")),1),e("div",xe,[e("label",{onDragover:t[6]||(t[6]=p(s=>D.value=!0,["prevent"])),onDragleave:t[7]||(t[7]=s=>D.value=!1),onDrop:t[8]||(t[8]=p(s=>y(s,"store"),["prevent"])),class:I([{"border-blue-500 bg-blue-50":D.value,"border-gray-300":!D.value},"cursor-pointer w-full h-48 rounded-xl border-2 border-dashed transition-colors duration-300 flex items-center justify-center"])},[e("input",{type:"file",onChange:t[4]||(t[4]=s=>y(s,"store")),accept:"image/*",class:"hidden"},null,32),U.value?(u(),c("div",ye,[e("div",we,[e("img",{src:U.value,alt:l(o)("store.storeLogo"),class:"w-full h-full object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,ke),e("div",De,[e("button",{type:"button",onClick:t[5]||(t[5]=p(s=>O("store"),["stop"])),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},$e)])])])):(u(),c("div",Se,[Te,e("p",Ie,[e("span",Ce,n(l(o)("store.clickToUpload")),1),f(" "+n(l(o)("store.orDragDrop")),1)])]))],34)])]),e("div",Ue,[e("label",Ve,n(l(o)("store.mainBanner")),1),e("div",Be,[e("label",{onDragover:t[11]||(t[11]=p(s=>j.value=!0,["prevent"])),onDragleave:t[12]||(t[12]=s=>j.value=!1),onDrop:t[13]||(t[13]=p(s=>y(s,"main_banner"),["prevent"])),class:I([{"border-blue-500 bg-blue-50":j.value,"border-gray-300":!j.value},"cursor-pointer w-full h-48 rounded-xl border-2 border-dashed transition-colors duration-300 flex items-center justify-center"])},[e("input",{type:"file",onChange:t[9]||(t[9]=s=>y(s,"main_banner")),accept:"image/*",class:"hidden"},null,32),V.value?(u(),c("div",Ee,[e("div",Fe,[e("img",{src:V.value,alt:l(o)("store.mainBanner"),class:"w-full h-full object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Oe),e("div",Pe,[e("button",{type:"button",onClick:t[10]||(t[10]=p(s=>O("main_banner"),["stop"])),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},Le)])])])):(u(),c("div",Me,[Ne,e("p",Re,[e("span",qe,n(l(o)("store.clickToUpload")),1),f(" "+n(l(o)("store.orDragDrop")),1)])]))],34)])]),e("div",ze,[e("label",Ge,n(l(o)("store.subBanner")),1),e("div",He,[e("label",{onDragover:t[16]||(t[16]=p(s=>$.value=!0,["prevent"])),onDragleave:t[17]||(t[17]=s=>$.value=!1),onDrop:t[18]||(t[18]=p(s=>y(s,"sub_banner"),["prevent"])),class:I([{"border-blue-500 bg-blue-50":$.value,"border-gray-300":!$.value},"cursor-pointer w-full max-w-2xl h-48 rounded-xl border-2 border-dashed transition-colors duration-300 flex items-center justify-center"])},[e("input",{type:"file",onChange:t[14]||(t[14]=s=>y(s,"sub_banner")),accept:"image/*",class:"hidden"},null,32),B.value?(u(),c("div",Je,[e("div",Ke,[e("img",{src:B.value,alt:l(o)("store.subBanner"),class:"w-full h-full object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Qe),e("div",We,[e("button",{type:"button",onClick:t[15]||(t[15]=p(s=>O("sub_banner"),["stop"])),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},Ye)])])])):(u(),c("div",Ze,[et,e("p",tt,[e("span",st,n(l(o)("store.clickToUpload")),1),f(" "+n(l(o)("store.orDragDrop")),1)])]))],34)])]),e("div",ot,[e("label",lt,n(l(o)("store.sliderOne")),1),e("div",at,[e("label",{onDragover:t[20]||(t[20]=p(s=>S.value=!0,["prevent"])),onDragleave:t[21]||(t[21]=s=>S.value=!1),onDrop:t[22]||(t[22]=p(s=>E(s,"slider_one"),["prevent"])),class:I([{"border-blue-500 bg-blue-50":S.value,"border-gray-300":!S.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300"])},[e("input",{type:"file",onChange:t[19]||(t[19]=s=>E(s,"slider_one")),accept:"image/*",multiple:"",class:"hidden"},null,32),w.value.length>0?(u(),c("div",rt,[e("div",nt,[(u(!0),c(A,null,R(w.value,(s,b)=>(u(),c("div",{key:b,class:"relative group"},[e("img",{src:s,alt:`${l(o)("store.sliderOne")} ${b+1}`,class:"w-full h-32 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,it),e("div",dt,[e("button",{type:"button",onClick:p(H=>N(b,"slider_one"),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},pt,8,ut)])]))),128))]),e("p",_t,n(l(o)("store.clickOrDragMore")),1)])):(u(),c("div",mt,[gt,e("p",vt,[e("span",bt,n(l(o)("store.clickToUpload")),1),f(" "+n(l(o)("store.orDragDrop")),1)]),e("p",ft,n(l(o)("store.multipleImages")),1)]))],34)])]),e("div",ht,[e("label",xt,n(l(o)("store.sliderTwo")),1),e("div",yt,[e("label",{onDragover:t[24]||(t[24]=p(s=>T.value=!0,["prevent"])),onDragleave:t[25]||(t[25]=s=>T.value=!1),onDrop:t[26]||(t[26]=p(s=>E(s,"slider_two"),["prevent"])),class:I([{"border-blue-500 bg-blue-50":T.value,"border-gray-300":!T.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300"])},[e("input",{type:"file",onChange:t[23]||(t[23]=s=>E(s,"slider_two")),accept:"image/*",multiple:"",class:"hidden"},null,32),k.value.length>0?(u(),c("div",wt,[e("div",kt,[(u(!0),c(A,null,R(k.value,(s,b)=>(u(),c("div",{key:b,class:"relative group"},[e("img",{src:s,alt:`${l(o)("store.sliderTwo")} ${b+1}`,class:"w-full h-32 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,Dt),e("div",jt,[e("button",{type:"button",onClick:p(H=>N(b,"slider_two"),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},Tt,8,$t)])]))),128))]),e("p",It,n(l(o)("store.clickOrDragMore")),1)])):(u(),c("div",Ct,[Ut,e("p",Vt,[e("span",Bt,n(l(o)("store.clickToUpload")),1),f(" "+n(l(o)("store.orDragDrop")),1)]),e("p",Et,n(l(o)("store.multipleImages")),1)]))],34)])])]),e("div",Ft,[h(m,{type:"button",label:l(o)("cancel"),icon:"pi pi-times",onClick:t[27]||(t[27]=s=>l(L).go(-1)),class:"px-6 py-3 bg-gray-200 mx-2 hover:bg-gray-300 text-gray-700 rounded-lg shadow-md hover:shadow-lg transition-all duration-300",disabled:x.value},null,8,["label","disabled"]),h(m,{type:"submit",label:l(o)("store.createStore"),icon:"pi pi-plus",loading:x.value,class:"px-8 py-3 bg-gradient-to-r mx-2 from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300",disabled:x.value},{default:Z(()=>[x.value?(u(),c("i",Pt)):(u(),c("span",Ot,n(l(o)("store.createStore")),1))]),_:1},8,["label","loading","disabled"])])],40,ae)])),[[P,"create stores"]]),h(v)],64)}}},Mt=J(At,[["__scopeId","data-v-1cc2aece"]]);export{Mt as default};
